

4년넘게 백엔드 개발자로 일한김에 백엔드에 필요한 것들을 하나하나 공부해보려한다.

내가 생각하는 백엔드의 기본은 아래와 같다.

# 백엔드
: 클라이언트의 요청을 잘 처리

- 클라이언트의 요청을 잘 전달받는다.
- 데이터를 잘 저장한다.
- 데이터를 가져온다.
- 가져온 데이터를 클라로부터 받은 데이터를 이용하여 클라가 원하는걸 계산해준다.
- 클라의 요청이 많아져도 빠른 속도를 유지하며 안정적으로 처리한다.
	: 동시성을 지키면서 여러개 서버에서 병렬적으로 처리가능해야한다.
- 클라이언트에게 완료된 데이터를 잘 전달한다.

위 내용을 바탕으로 서버의 발전 과정을 생각하며 필수 사항을 생각해보면.

1. 클라이언트의 요청을 받을 API서버가 필요하다.
2. 요청에서 받은 데이터를 저장할 필요가 있어 DB를 추가한다.
3. DB에 저장된 데이터를 활용하여 연산해야한다.
4. 클라이언트 요청이 늘어나 서버갯수가 늘어난다.
    => 같은 데이터에 동시에/비슷한 시간에 접근할 일이 많아진다. 데이터의 값을 같은 시간에 접근하여 수정한다면 문제가 발생한다.
        => 동시에 접근해 데이터를 건드릴 때 데이터를 안정적으로 유지하는 방법이 필요하다.
        MVCC, LOCK 데이터베이스 기본 + 어플리케이션에서 데이터베이스에 설정할 내용.
5. 서버 + 데이터베이스만으로는 한계가 크다. 속도에서 문제가 있다.
6. 서버 + 데이터베이스의 동시성 제어로는 한계가 있다. => 어플리케이션단 잠금, 분산 락 (비동기?)

> 동시성 문제는 어느정도 해결 됐다. 이제 성능을 높여보자.

7. 자주이용하는 데이터는 가까운 곳에 저장해두자. 
    1. Cache
    2. 미디어 저장소인 S3도 제대로 알고 넘어가자. s3를 제대로 관리안해 비용이 많이 나오는 회사 많이 봤다.

> 이제 안정성을 높여보자.

8. HTTP요청는 유실될 유험이 있다. message queue 방식으로 요청에 대한 유실 위험을 없애자.

> Message queue를 이용해도 요청이 늘어남에 따라 API서버 갯수를 늘려야한다.

9. auto scailing을 하자.

> 기본 보안 사항인 네트워크를 적절히 설정해야한다.

10. 이용하는 클라우드의 네트워크 구조를 잘 알아야 해킹을 안당한다.
11. 네트워크 구조를 잘 알면 인프라 비용도 크게 줄일수 있다.


- API 서버로 클라이언트의 요청을 받는다.
- DB에 데이터를 저장하고
- 서버 + DB 조합한계 => 
	1. message queue
	2. memory cache
	3. streaming(MQ랑 같은거지만 다른기능이지 않나.)
- 특수 기능
- 실시간양방향: 소켓

- 모든 요소간의 네트워크 처리.

/////



#### 동시성 ####
# DB
1. MVCC
2. Constraint
 : 동시에 데이터를 추가하면 에러를 발생시켜 두번 만들어지지않게 해준다.

# APPLICATION
1. 낙관적 락
2. 비관적 락

# 분산 락 - REDIS

# 이벤트 방식 - KAFKA
1. 이벤트가 발생한 순서대로 처리하므로 동시성 문제가 최소화된다.

#### 일관성 ####
# 분산 트랜잭션 
# exactly once

#### 확장성 ####
코드

#### 가용성 #### 
시스템이 고장 없이 지속적으로 서비스를 제공할 수 있는 능력입니다. 고가용성(High Availability, HA)을 위해 장애 조치(Failover), 데이터 복제, 무중단 배포(Zero-downtime Deployment) 등이 필요합니다.

#### 내결함성 Fault Tolerance ####
시스템이 일부 구성 요소에 문제가 생기더라도 전체 시스템이 정상적으로 작동할 수 있는 능력입니다. 장애 조치 메커니즘, 분산 시스템에서의 데이터 복제 및 체크포인트, 리트라이 로직 등이 여기에 해당합니다.

#### 성능 (Performance) ####
시스템의 응답 시간, 처리 속도 등이 일정 수준 이상으로 유지되어야 합니다. 성능 튜닝, 최적화된 쿼리 작성, 캐싱, 비동기 처리를 통해 성능을 개선할 수 있습니다.

#### 유지보수성 (Maintainability) ####




///////

- 동시성 해결 => 병렬성 구성 가능
- 동시성, 병렬성 이 두개가 OS의 핵심
- 동시성 방지( 발생시 복구) 부터 정리하고 병렬로 넘어간다.
- 인프라는 모두 병려성을 위한거다.(동시성이 보장된 상태에서)

