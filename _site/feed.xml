<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ê¹€ë¬¸ê·œë¸”ë¡œê·¸</title>
    <description>Node.js ë°±ì—”ë“œ ê°œë°œì</description>
    <link>http://0.0.0.0:4000//</link>
    <atom:link href="http://0.0.0.0:4000//feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Fri, 13 Feb 2026 21:05:29 -0600</pubDate>
    <lastBuildDate>Fri, 13 Feb 2026 21:05:29 -0600</lastBuildDate>
    <generator>Jekyll v4.2.2</generator>
    
      <item>
        <title>ë”¥ë¦¬ì„œì¹˜ ìŠ¤íŠ¸ë¦¼ - ì¬ì‹¤í–‰ ë³´ì¥ê³¼ Dirty Write</title>
        <description>&lt;p&gt;LLM ë”¥ë¦¬ì„œì¹˜ ê¸°ëŠ¥ì€ ì¥ì‹œê°„ Streamìœ¼ë¡œ ì‘ë‹µì„ ì „ë‹¬í•´ì¤˜ì•¼í•˜ë©´ì„œë„ ë¬´ì¡°ê±´ ì„±ê³µí•´ì•¼í•˜ëŠ” ì‘ì—…ì— ì†í•œë‹¤.
ê·¸ë˜ì„œ Queueë¡œ ì‘ì—…ë“¤ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ë©´ì„œ ì‘ì—…ì´ ì‹¤íŒ¨í–ˆì„ ë•ŒëŠ” ì„±ê³µí• ë•Œê¹Œì§€ ì¬ì‹¤í–‰ì„ í•´ì•¼í•œë‹¤. UIì ìœ¼ë¡œë„ ì˜¤ë˜ê±¸ë¦°ë‹¤ëŠ”ê±¸ í‘œí˜„í•˜ê³  ìˆê¸°ë•Œë¬¸ì— ë¹ ë¥´ê²Œ ì‘ë‹µì„ í•  í•„ìš”ë„ ë”±íˆ ì—†ë‹¤.
í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œëŠ” &lt;strong&gt;â€œì–´ë–»ê²Œë“  ì„±ê³µí•´ì•¼í•œë‹¤â€ë¼ëŠ” ì¸¡ë©´ì—ì„œ ë°œìƒí•œë‹¤. Queueë¥¼ í†µí•´ ì¬ì‹¤í–‰ì„ ê´€ë¦¬í•˜ë‹¤ë³´ë©´ í•˜ë‚˜ì˜ job ë™ì‹œì— ì—¬ëŸ¬êµ°ë°ì„œ ì‹¤í–‰ë˜ëŠ” ì¼ì´ ë°œìƒí•œë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Queueì— ìˆëŠ” ì‘ì—…ë“¤ì„ Worker Aì—ì„œ ê°€ì ¸ê°€ì„œ ì‹¤í–‰í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;Worker Aì— ì¼ì‹œì ì¸ ë„¤íŠ¸ì›Œí¬ ì¥ì• ê°€ ë°œìƒí•´ Queueê°€ í•´ë‹¹ ì›Œì»¤ë¥¼ ì£½ì—ˆë‹¤ê³  íŒë‹¨í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;Worker Aê°€ ì£½ì—ˆë‹¤ê³  íŒë‹¨í–ˆê¸°ë•Œë¬¸ì— ìƒˆë¡œìš´ Worker Bì— ë™ì¼í•œ jobì„ í• ë‹¹í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ê·¸ëŸ°ë° ê¸°ì¡´ Worker Aì˜ ë„¤íŠ¸ì›Œí¬ ë¬¸ì œëŠ” ì¼ì‹œì ì¸ ê²ƒì´ì—ˆê³  ê¸°ì¡´ ì‘ì—…ì€ ê³„ì† ì§„í–‰ë˜ê³  ìˆì—ˆë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì´ë ‡ê²Œ ë˜ë©´ ë™ì¼í•œ jobì„ ë™ì‹œì— ì‹¤í–‰í•˜ê³  ìˆê¸°ë•Œë¬¸ì— Worker Aì™€ Worker Bì˜ ë”¥ë¦¬ì„œì¹˜ ì§„í–‰ ìƒí™©ì´ ë™ì¼í•œ Stream ì €ì¥ì†Œë¡œ ì „ë‹¬ëœë‹¤. ì´ë ‡ê²Œ ë˜ë©´ í´ë¼ì´ì–¸íŠ¸(í”„ë¡ íŠ¸ì—”ë“œ)ì—ì„œ ë°›ê²Œ ë˜ëŠ” ì§„í–‰ ìƒí™©ì€ ì•„ë˜ì™€ ê°™ì´ ë³´ì¼ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê¸°ë³¸ í”„ë¡œì„¸ìŠ¤ê°€ [ì‹œì‘, ë¬¸ì œíŒŒì•…, ë¶„ì„ì¤‘, ì›¹ê²€ìƒ‰, ì •ë¦¬, ì™„ë£Œ] ë¼ê³  í•œë‹¤ë©´ ë‘êµ°ë°ì„œ ë³´ë‚´ê¸°ë•Œë¬¸ì—&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;[ì‹œì‘, ë¬¸ì œíŒŒì•…, ë¶„ì„ì¤‘, &lt;u&gt;ì‹œì‘&lt;/u&gt;, &lt;u&gt;ë¬¸ì œíŒŒì•…&lt;/u&gt;, ì›¹ê²€ìƒ‰, ì •ë¦¬, &lt;u&gt;ë¶„ì„&lt;/u&gt;, &lt;u&gt;ì›¹ê²€ìƒ‰&lt;/u&gt;, &lt;u&gt;ì •ë¦¬&lt;/u&gt;, &lt;u&gt;ì™„ë£Œ&lt;/u&gt;, ì™„ë£Œ]&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ë ‡ê²Œ ê¼¬ì—¬ë²„ë¦´ìˆ˜ ìˆë‹¤. ì§„í–‰ ê³¼ì • ìŠ¤íŠ¸ë¦¼ì´ ì´ë ‡ê²Œ ê¼¬ì´ëŠ” ê²ƒë¿ë§Œ ì•„ë‹ˆë¼, ë”¥ë¦¬ì„œì¹˜ ê²°ê³¼ë¬¼ë„ ëˆ„ì ë˜ëŠ” ë°ì´í„°ë¡œ ê´€ë¦¬í•œë‹¤ë©´ ê²°ê³¼ë¬¼ ë˜í•œ ë°ì´í„°ê°€ ì´ìƒí•´ì§„ë‹¤.
LLM ê¸°ëŠ¥ ìì²´ê°€ &lt;strong&gt;í•˜ë“œì›¨ì–´ ì œì•½ì´ ì¡´ì¬í•˜ê³ (Rate limit)&lt;/strong&gt; ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…ì´ê¸°ë•Œë¬¸ì— &lt;strong&gt;ëŒ€ê¸°ì—´&lt;/strong&gt;ì€ í•„ìˆ˜ì¸ë° &lt;strong&gt;ì–´ë– í•œ ëŒ€ê¸°ì—´ í”„ë¡œê·¸ë¨/ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ë„ Exactly Once ë³´ì¥í•´ì£¼ì§€ì•Šê¸°ë•Œë¬¸ì—&lt;/strong&gt; Race condition, dirty write, ë©±ë“±ì„± ë¬¸ì œëŠ” ë³µí•©ì ìœ¼ë¡œ ê´€ë¦¬í•´ì¤˜ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;Stream ê´€ë ¨ Dirty Write ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„  ëŒ€ê¸°ì—´ê³¼ í•¨ê»˜ í•„ìš”í•œ ê°œë…ì´ í¬ê²Œ 2ê°€ì§€ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â€œFencing Tokenâ€&lt;/strong&gt; ë‚™ê´€ì  ë½ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. jobì„ ì‹¤í–‰í•  ë•Œ í•´ë‹¹ jobì´ ëª‡ë²ˆì§¸ ì‹¤í–‰ëëŠ”ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” Tokenì„ ì´ìš©í•´ì„œ ê°€ì¥ ìµœê·¼ì— ì‹¤í–‰ëœ ì‘ì—…ë§Œ ì‚´ì•„ë‚¨ê²Œ í•˜ê¸° ìœ„í•´ ì‚¬ìš©ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;â€œAbort controllerâ€&lt;/strong&gt; ë°±ì—”ë“œ ì„œë²„ì—ì„œ LLM ë”¥ë¦¬ì„œì¹˜ ì„œë²„ë¡œ ìš”ì²­ì„ í–ˆì„ ë•Œ ë°±ì—”ë“œ ì„œë²„ì—ì„œ ì›í• ë•Œ ë”¥ë¦¬ì„œì¹˜ ì„œë²„ì—ì„œ ì§„í–‰ì¤‘ì¸ ìš”ì²­ì„ ì¤‘ê°„ì— ëŠê²Œ í• ìˆ˜ ìˆëŠ” ë„êµ¬ë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ë‚˜í•˜ë‚˜ ì•Œì•„ë³´ì.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;fencing-token&quot;&gt;Fencing Token&lt;/h2&gt;
&lt;p&gt;ë°ì´í„°ë² ì´ìŠ¤ì˜ ë‚™ê´€ì ë½ ê¸°ëŠ¥ê³¼ ê°™ë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;íŠ¹ì • jobì´ ê°œë³„ workerì—ì„œ ì‹¤í–‰ë˜ê¸° ì‹œì‘í• ë•Œ ë¨¼ì € Fencing Tokenì„ ì–»ëŠ”ë‹¤. ì´ í† í°ì€ í•´ë‹¹ jobì´ ëª‡ë²ˆì§¸ ì‹¤í–‰ë˜ëŠ”ì§€ì— ëŒ€í•œ ê°’ì´ë‹¤.&lt;/li&gt;
  &lt;li&gt;ê±°ì˜ ë™ì‹œì— ë‘êµ°ë°ì˜ ì›Œì»¤ì—ì„œ ë™ì¼í•œ jobì„ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ 1, 2ì˜ ê°’ì„ ê°ê° ê°€ì§€ê²Œ ëœë‹¤. ì´ ê°’ì„ ê°€ì§€ê³  ê°ê° jobì„ ì‹¤í–‰í•˜ëŠ” ë„ì¤‘ ì •ê¸°ì ìœ¼ë¡œ FencingTokenì„ ê²€ì‚¬í•˜ëŠ” ì‹œê°„ì„ ê°€ì§„ë‹¤. ë ˆë””ìŠ¤ì—ëŠ” ê°€ì¥ í° ê°’ì´ ì €ì¥ë˜ìˆê¸°ë•Œë¬¸ì— í•´ë‹¹ ê°’ê³¼ ë¹„êµí•˜ì—¬ ê·¸ë³´ë‹¤ ì‘ìœ¼ë©´ ë°”ë¡œ ì¢…ë£Œí•œë‹¤. (ì¢€ë¹„í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Fencing Token ê¸°ëŠ¥ì„ êµ¬ì„±í•˜ëŠ” ê²ƒë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-typescript highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// fencingToken ê´€ë¦¬ í´ë˜ìŠ¤ ë©”ì„œë“œ ëª©ë¡. // pseudo code&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fencingTokenManager&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;// í† í° ìƒì„±&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
	&lt;span class=&quot;c1&quot;&gt;// ìµœì‹  í† í°ì¼ ê²½ìš°ì—ë§Œ trueë¥¼ ì‘ë‹µí•¨.&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
	&lt;span class=&quot;c1&quot;&gt;// í† í°ì´ ë”ì´ìƒ í•„ìš”ì—†ì„ë•Œ(ì‘ì—… ì™„ë£Œ)&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;acquire()&lt;/strong&gt; ë©”ì„œë“œëŠ” ì—¬ëŸ¬ workerê°€ ë™ì‹œì— ì‹¤í–‰í•´ë„ ë ˆë””ìŠ¤ë¥¼ ì´ìš©í•˜ê¸°ë•Œë¬¸ì— &lt;strong&gt;ì›ìì„±ì´ ë³´ì¥&lt;/strong&gt;ì´ ëœë‹¤.
&lt;strong&gt;validate()&lt;/strong&gt; ë©”ì„œë“œëŠ” ê°€ì¥ ëŠ¦ê²Œ ë§Œë“¤ì–´ì§„ í† í°ì¸ì§€ ê²€ì¦í•˜ëŠ” ë©”ì„œë“œë¡œ ê°œë³„ workerê°€ jobì„ ì‹¤í–‰í•˜ëŠ”ë™ì•ˆ ì •ê¸°ì ìœ¼ë¡œ í˜¸ì¶œëœë‹¤. validí•˜ì§€ ì•Šë‹¤ë©´ í•´ë‹¹ workerì˜ job ì‹¤í–‰ì„ ì¦‰ì‹œ ì¢…ë£Œì‹œí‚¤ëŠ” í”Œë¡œìš°ë¥¼ íƒ€ê²Œ ë§Œë“¤ì–´ì•¼í•œë‹¤. ì•Œì•„ì„œ ì •ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¡œ ë§Œë“¦ìœ¼ë¡œì¨ ì½”ë“œê°€ êµ¬ì¡°ë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€ë ìˆ˜ ìˆë‹¤.
&lt;strong&gt;release()&lt;/strong&gt; ë©”ì„œë“œëŠ” ë¶ˆí•„ìš”í•œ ë¦¬ì†ŒìŠ¤ ì œê±°ë¥¼ ìœ„í•´ ê¸°ë³¸ì ìœ¼ë¡œ í•„ìš”í•œ ë©”ì„œë“œë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ë©”ì„œë“œë“¤ì€ Worker ì½”ë“œ ë‚´ì—ì„œ ì•„ë˜ì²˜ëŸ¼ í™œìš©ëœë‹¤. ì œì¼ ì¤‘ìš”í•œ ì ì€ ê°œë³„ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì •ê¸°ì ìœ¼ë¡œ fencingTokenì´ ìœ íš¨í•œì§€ í™•ì¸í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹œë‹¤ëŠ” ì ì´ë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// pseudo code&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;runningJobs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jobIds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ë”¥ë¦¬ì„œì¹˜_job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ë”¥ë¦¬ì„œì¹˜_job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;jobData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ë”¥ë¦¬ì„œì¹˜_job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// 1. ê°œë³„ ì›Œì»¤ì— ë™ì¼í•œ ìš”ì²­ì´ ë‘ë²ˆì˜¬ìˆ˜ë„ ìˆì–´ì„œ í™•ì¸.&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;runningJobs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;has&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;í”„ë¡œì„¸ìŠ¤ì¤‘ë‹¨&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// 2. fencingTokenManager.acquire(jobId)&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;fencingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fencingTokenManager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
	&lt;span class=&quot;c1&quot;&gt;// 3. abortControllerë¥¼ ìƒì„±í•œë‹¤.&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;abortController&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AbortController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

	&lt;span class=&quot;c1&quot;&gt;// ** 30ì´ˆë§ˆë‹¤ ì •ê¸°ì ìœ¼ë¡œ ì´ í”„ë¡œì„¸ìŠ¤ê°€ ìœ íš¨í•œì§€ í™•ì¸í•œë‹¤. **&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;setInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tokenOK&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fencingTokenManager&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fencingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tokenOK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;c1&quot;&gt;// abortControllerë¡œ LLM ì„œë²„ì™€ ì—°ê²° ì¢…ë£Œ. &lt;/span&gt;
			&lt;span class=&quot;nx&quot;&gt;abortController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;abort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì´ë¶€ë¶„ì€ ì•„ë˜ì„œ ì„¤ëª…í•  ì˜ˆì •.&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

		&lt;span class=&quot;nx&quot;&gt;extendsLock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// 30ì´ˆë§ˆë‹¤ í™•ì¸.&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;llmDeepResearchStartData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      
		&lt;span class=&quot;nx&quot;&gt;excueteLlmDeepResearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;job&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;abortController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
      
		&lt;span class=&quot;nx&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;llmDeepResearchStartData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;abortController&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;aborted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;í”„ë¡œì„¸ìŠ¤ëë‚´ê¸°&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;finally&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;clearInterval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
		&lt;span class=&quot;nx&quot;&gt;runningJobs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;heartbeatê¸°ëŠ¥ì•ˆì— FencingTokenì„ ì •ê¸°ì ìœ¼ë¡œ ì‹¤í–‰í•´ë‘ê³  unvalidí•  ì‹œ abortControllerë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ì¢€ë¹„ í”„ë¡œì„¸ìŠ¤ëŠ” ì•Œì•„ì„œ ì¢…ë£Œì‹œí‚¤ê²Œ ëœë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;abortcontroller&quot;&gt;AbortController&lt;/h2&gt;
&lt;blockquote&gt;
  &lt;p&gt;AbortController ì¸í„°í˜ì´ìŠ¤ëŠ” í•˜ë‚˜ ì´ìƒì˜ ì›¹ ìš”ì²­ì„ ì·¨ì†Œí•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. - &lt;a href=&quot;https://developer.mozilla.org/ko/docs/Web/API/AbortController&quot;&gt;MDN&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ìš”ì²­ ë°›ì€ ê³³ì—ì„œë„ í´ë¼ì´ì–¸íŠ¸ê°€ ìš”ì²­ì„ ëŠê³  ì‹¶ë‹¤ëŠ” ê±¸ ì•Œë ¤ì£¼ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤. ë³´í†µ ë°›ëŠ”ìª½ì—ì„œ ë”ì´ìƒ ë°ì´í„°ë¥¼ ì•ˆë°›ìœ¼ë©´ ë˜ê¸´í•˜ëŠ”ë°. llm ìš”ì²­ë“¤ì€ ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…ë“¤ì´ê³ . í† í°ì€ ë‹¤ ëˆì´ë¼ì„œ ì•ˆë°›ê³  ë„˜ê²¨ë²„ë¦¬ë©´ ë¹„ìš©ì ìœ¼ë¡œ ë„ˆë¬´ ì•„ê¹ë‹¤. ê·¸ë˜ì„œ ì–‘ìª½ì—ì„œ ëŠì„ìˆ˜ ìˆë„ë¡ AbortControllerë¡œ ì–‘ì¸¡ì—ì„œ ì·¨ì†Œë˜ê²Œ ì²˜ë¦¬í•´ì¤˜ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;APIìš”ì²­ì„ í• ë•Œ AbortControllerë¥¼ ê°™ì´ ë³´ë‚´ê³  abortController.abort() ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë©´ LLM ì„œë²„ì—ì„œ í•´ë‹¹ ìš”ì²­ì„ ë°”ë¡œ ì¢…ë£Œí•œë‹¤.&lt;/strong&gt; ê·¸ë ‡ê²Œ ë˜ë©´ ì–‘ìª½ì—ì„œ ìš”ì²­ì´ ëë‚˜ëŠ”ê±°ê¸°ë•Œë¬¸ì— í† í°ì˜ ë¬¸ì œë„ ì—†ê³  ì¢€ë¹„í”„ë¡œì„¸ìŠ¤ë„ ë°ì´í„°ë¥¼ ë”ì´ìƒ ë°›ì§€ ì•Šê¸°ë•Œë¬¸ì— ë”ì´ìƒ ë°ì´í„°ë¥¼ ì  ìˆ˜ ì—†ê²Œ ë¼ë²„ë¦°ë‹¤.(ë‹¹ì—°í•˜ê²Œë„ LLM ì„œë²„ì—ì„œë„ AbortController ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë‘¬ì•¼í•œë‹¤.)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„-ì²˜ë¦¬&quot;&gt;í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ ì²˜ë¦¬&lt;/h2&gt;
&lt;p&gt;ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ ì¤‘ìš”í•œ ê²Œ ìˆë‹¤. í”„ë¡ íŠ¸ì—”ë“œë‹¨ì—ì„œë„ ê°™ì´ Dirty Writeë¥¼ ì»¨íŠ¸ë¡¤í•´ì¤˜ì•¼í•œë‹¤.
í”„ë¡ íŠ¸ë‹¨ì—ì„œë„ FencingTokenì„ ê´€ë¦¬í•˜ì—¬ì„œ ì´ì „ ì‹œëŒ€(epoch)ì˜ ë°ì´í„°ëŠ” ìœ ì €ì—ê²Œ ë³´ì—¬ì£¼ì§€ì•Šê³  ê°€ì¥ ìµœì‹  ì‹œëŒ€(epoch)ì˜ ë°ì´í„°ë§Œ ë³´ì—¬ì¤˜ì•¼í•œë‹¤.
Worker Aë¡œ ìŠ¤íŠ¸ë¦¼ì„ ë°›ê³  ìˆë‹¤ê°€ ì¢€ë¹„í”„ë¡œì„¸ìŠ¤ê°€ ë˜ì–´ Worker Bì—ì„œ ìƒˆë¡œ ì‘ì—…ì„ ì‹œì‘í•˜ê²Œ ëœë‹¤ë©´ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ Worker Bì˜ ë°ì´í„°ë§Œ ë³´ì´ë„ë¡ í™”ë©´ì„ ë¦¬ì…‹í•´ì¤˜ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ì§„í–‰í• ë•Œ + ì‹¤íŒ¨ë¥¼ í—ˆìš©í•˜ì§€ì•Šì„ ë•ŒëŠ” ì¬ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤&lt;/strong&gt;ì—ì„œëŠ” ë°±ì—”ë“œë§Œìœ¼ë¡œëŠ” ì™„ë²½í•œ ë™ì‹œì„±ì„ ì œì–´í• ìˆ˜ê°€ ì—†ë‹¤. í”„ë¡ íŠ¸ë¡œ ì´ë¯¸ ë³´ë‚´ì§„ê±°ëŠ” ë¬´ë¥¼ìˆ˜ ì—†ìœ¼ë‹ˆë§ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ë‚˜ì˜ ì‘ì—…ì´ ë„ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí•´ì„œ Worker A, Worker B &lt;strong&gt;ì—¬ëŸ¬êµ°ë°ì„œ ì‹¤í–‰ëë‹¤ê³  í•˜ë”ë¼ë„ SSE ì—°ê²°ì€ ì­‰ í•˜ë‚˜ì˜ APIë¡œ ì§„í–‰ëë˜ ê²ƒì´ê¸°ë•Œë¬¸ì— í•´ë‹¹ ìŠ¤íŠ¸ë¦¼ ì—°ê²°ì—ì„œ Reset ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•˜ë©´ ëœë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ì½”ë“œì²˜ëŸ¼ ë°±ì—”ë“œì—ì„œ RESET ì´ë²¤íŠ¸ë¥¼ ì „ë‹¬í•œë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Sse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;stream/:jobId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;streamResults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Observable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;MessageEvent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Observable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;subscriber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;currentFencingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

      &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;unsubscribe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;streamService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;jobId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fencingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;??&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;currentFencingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentFencingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`ğŸ”„ Stream: Token changed &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentFencingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; â†’ &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;subscriber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;// ** RESET ì´ë²¤íŠ¸ ì „ì†¡ **&lt;/span&gt;
              &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;reset&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;New worker took over&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;na&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt;	&lt;span class=&quot;c1&quot;&gt;// ** FencingToken ë„ ì „ë‹¬ **&lt;/span&gt;
              &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MessageEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;currentFencingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;c1&quot;&gt;// í˜„ì¬ í† í°ë³´ë‹¤ ì˜¤ë˜ëœ ë°ì´í„°ëŠ” ë¬´ì‹œ&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;currentFencingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`ğŸš« Stream: Ignoring stale token &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;incomingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &amp;lt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;currentFencingToken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;nx&quot;&gt;subscriber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MessageEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;completed&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;subscriber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;complete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

      &lt;span class=&quot;c1&quot;&gt;// í´ë¼ì´ì–¸íŠ¸ ì—°ê²° ì¢…ë£Œ ì‹œ êµ¬ë… í•´ì œ&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;unsubscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;í”„ë¡ íŠ¸ì—”ë“œ-ì²˜ë¦¬&quot;&gt;í”„ë¡ íŠ¸ì—”ë“œ ì²˜ë¦¬&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;ê·¸ë¦¬ê³  í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” Reset ì´ë²¤íŠ¸ë¥¼ ë°›ê³  ë³´ì—¬ì£¼ë˜ ë°ì´í„°ë“¤ì„ ìƒˆë¡œìš´ workerì—ì„œ ì˜¤ëŠ” ë°ì´í„°ë“¤ë§Œ ì²˜ë¦¬í•´ì£¼ë©´ ëœë‹¤.&lt;/li&gt;
  &lt;li&gt;ê·¸ë¦¬ê³  ì¢€ë¹„í”„ë¡œì„¸ìŠ¤ê°€ ì£½ì„ ë•Œê¹Œì§€ ì „ì†¡ì´ ê³„ì†ë ìˆ˜ ìˆê¸°ë•Œë¬¸ì— ê°€ì¥ ë†’ì€ fencingToken ë³´ë‹¤ ë‚®ì€ ê°’ì´ ë“¤ì–´ì˜¤ë©´ ë¬´ì‹œí•´ì¤˜ì•¼ í•œë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì§€ê¸ˆê¹Œì§€ ë‚˜ì—´ëœ ë‚´ìš©ì€ LLM ë”¥ë¦¬ì„œì¹˜ ê¸°ëŠ¥ì—ëŠ” ì˜ë§ëŠ” êµ¬ì¡°ë‹¤. ê°™ì€ ì§ˆë¬¸ì„í•˜ë”ë¼ë„ LLMì€ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ê¸°ë•Œë¬¸ì— ë‘ê°œì˜ ê²°ê³¼ê°€ ì„ì´ë©´ ì•ˆëœë‹¤. í•˜ì§€ë§Œ ë‹¤ë¥¸ ì‘ì—…ë“¤(ë°°ì¹˜ê°™ì€?)ì€ ì—¬ëŸ¬ë²ˆ ì‹¤í–‰í•´ë„ ê²°ê³¼ê°€ ê°™ì€ ê²½ìš°ê°€ ìˆê¸° ë•Œë¬¸ì— ì´ëŸ´ ë•ŒëŠ” ì§€ê¸ˆ í•´ê²°ì±…ì—ì„œ ëª‡ê°œë¹¼ì„œ ì§„í–‰í•´ë„ ëœë‹¤.&lt;/p&gt;
</description>
        <pubDate>Fri, 01 Aug 2025 00:00:00 -0500</pubDate>
        <link>http://0.0.0.0:4000//stream-and-dirty-write</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//stream-and-dirty-write</guid>
        
        <category>Nest.js</category>
        
        <category>Bullmq</category>
        
        <category>Fencing token</category>
        
        
      </item>
    
      <item>
        <title>Node.jsì˜ ìŠ¤íŠ¸ë¦¼ ë°°ì•• ì²˜ë¦¬ ê³ ë„í™” (Observableì˜ í•œê³„ì )</title>
        <description>&lt;p&gt;LLM ì‘ë‹µ ìŠ¤íŠ¸ë¦¬ë° ì„œë²„ê°€ OOM(Out of memory)ìœ¼ë¡œì¸í•´ êº¼ì ¸ë²„ë¦¬ëŠ” í˜„ìƒì´ ê°„ê°„íˆ ë¡œê·¸ì— ì°í˜€ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê¸°ì¡´ ì„œë²„ëŠ” llm ì‘ë‹µê°’ì„ sseë¡œ ìŠ¤íŠ¸ë¦¬ë°í•´ì£¼ëŠ” ì„œë²„ë‹¤. ë‹¨ìˆœíˆ @Sse ë°ì½”ë ˆì´í„°ì— Observableì„ ë¦¬í„´í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ìˆë‹¤. ë‹¨ìˆœí™”í•˜ë©´ ì•„ë˜ êµ¬ì¡°ë¡œ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Stream API server â€“(subscribe)â€“&amp;gt; Redis pubsub  &amp;lt;â€“(push)â€“ llm ì›Œì»¤ì—ì„œ llm ì‘ë‹µê°’ ì „ë‹¬&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;@Sseê°€ ì•Œì•„ì„œ í—¤ë” ì„¤ì •ë„ í•´ì£¼ê³  ì‘ë‹µê°’ë„ ì˜ ì •ë¦¬í•´ì£¼ê³ , ì»¤ë„¥ì…˜ ì—ëŸ¬ë„ ì˜ ì²˜ë¦¬í•´ì£¼ê¸°ë•Œë¬¸ì— ì´ˆê¸° êµ¬í˜„ì—ëŠ” ì¢‹ì•˜ì§€ë§Œ. íŠ¸ë ˆí”½ì´ ëª°ë¦´ë•ŒëŠ” ë°±í”„ë ˆì…” ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” ì•„ì£¼ ê°„ë‹¨í•œ @Sse êµ¬í˜„ ì½”ë“œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Sse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;chat-message/:messageId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nx&quot;&gt;getLlmAnswer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;messageId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;messageId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Observable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;MessageEvent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;redisService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;subscribe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`llm:answer:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;messageId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pipe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})),&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ ì„œë²„ì— ë™ì‹œì— ë§ì€ íŠ¸ë ˆí”½ì„ ì´ë²„ë¦¬ë©´ ì•„ë˜ì²˜ëŸ¼ OOM ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ì„œ ì„œë²„ê°€ ì¢…ë£Œëœë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;server-1  | ======================
server-1  | === Memory Monitor ===
server-1  | Heap Used: 46MB
server-1  | Heap Total: 59MB
server-1  | RSS: 114MB
server-1  | External: 5MB

~

server-1  | ======================
server-1  | === Memory Monitor ===
server-1  | Heap Used: 155MB
server-1  | Heap Total: 199MB
server-1  | RSS: 246MB
server-1  | External: 17MB
server-1  | ======================
server-1  | === Memory Monitor ===
server-1  | Heap Used: 165MB
server-1  | Heap Total: 210MB
server-1  | RSS: 244MB
server-1  | External: 5MB
server-1  | ======================
server-1  | === Memory Monitor ===
server-1  | Heap Used: 174MB
server-1  | Heap Total: 222MB
server-1  | RSS: 261MB
server-1  | External: 13MB
server-1  | ======================
server-1  | === Memory Monitor ===
server-1  | Heap Used: 183MB
server-1  | Heap Total: 234MB
server-1  | RSS: 278MB
server-1  | External: 21MB
server-1  | ======================
server-1 exited with code 137  # OOM ë°œìƒ
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ëª°ë¦° íŠ¸ë ˆí”½ìœ¼ë¡œ ì¸í•´ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í™• ì˜¬ë¼ ì„œë²„ê°€ ê°‘ìê¸° êº¼ì ¸ë²„ë¦°ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;observableì˜-í•œê³„&quot;&gt;Observableì˜ í•œê³„&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Observableì€ ë°±í”„ë˜ì…”ê°€ ì œëŒ€ë¡œ êµ¬í˜„ë¼ìˆì§€ ì•Šë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Node.js Streamì€ ë©”ëª¨ë¦¬ë¥¼ ì ë‹¹ëŸ‰ë§Œ ê¾¸ì¤€íˆ ì´ìš©í•˜ëŠ” ì„ ì—ì„œ ì•ˆì •ì„±ì„ ìœ ì§€í•œë‹¤ê³  ì•Œê³ ìˆì—ˆëŠ”ë° Observable ë‚´ë¶€ë¥¼ ê¹Œë³´ë‹ˆ ë‹¨ìˆœíˆ Observableì— ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì—°ê²°í•´ë‘ë©´ &lt;strong&gt;Observable ë‚´ë¶€ ë²„í¼ì— ë°ì´í„°ê°€ ê³„ì† ìŒ“ì´ëŠ” ë¬¸ì œ&lt;/strong&gt;ê°€ ë°œìƒí•œë‹¤. í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ë¥¼ ì •ìƒì ìœ¼ë¡œ ë°›ê³  ìˆë‹¤ë©´ ë¬¸ì œê°€ ë˜ì§€ì•Šì§€ë§Œ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì„ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ì˜¤ë©´ ë°ì´í„°ë¥¼ ë©ˆì¶”ì§€ì•Šê³  ë©”ëª¨ë¦¬ì— ê³„ì† ìŒ“ëŠ” ìƒí™©ì´ì—ˆë‹¤. ê·¸ëŸ¬ë‹¤ OOM ì´ ë°œìƒí–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Observableì´ ì‘ë™í•˜ëŠ” ë°©ì‹ì„ íŒŒì•…í•´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì•˜ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;ë°ì´í„°ì†ŒìŠ¤ -&amp;gt; observer.next() -&amp;gt; [RxJS ì „ìš©(concatMap) ë²„í¼] -&amp;gt; [WritableStream ë²„í¼] -&amp;gt; [Socket ë²„í¼]
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Nest.js ìì²´ì ìœ¼ë¡œ&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;TCP socket ë²„í¼ì— ë°ì´í„°ê°€ ê½‰ì°¨ë©´ writableStream ë²„í¼ì—ì„œ ë°ì´í„°ë¥¼ ì•ˆë³´ë‚´ê²Œ ë˜ê³ .&lt;/li&gt;
  &lt;li&gt;WritableStream ë²„í¼ì— ë°ì´í„°ê°€ ê½‰ì°¨ë©´ RxJS ì „ìš© ë²„í¼ì—ì„œ ë°ì´í„°ë¥¼ ì•ˆë³´ë‚´ê²Œ ëœë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;í•˜ì§€ë§Œ RxJSì˜ ë²„í¼ì—ì„œëŠ” ë°ì´í„°ê°€ ê½‰ì°¼ëŠ”ì§€ì•„ë‹Œì§€ í™•ì¸í•˜ëŠ” ë¡œì§ì´ ë”°ë¡œ ì—†ë‹¤.&lt;/strong&gt; 
ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ë‹¹ì—°í•˜ê²Œë„ Out Of Memoryê°€ ë°œìƒí• ìˆ˜ ë°–ì— ì—†ì—ˆë‹¤. í´ë¼ì´ì–¸íŠ¸ìª½ì´ë˜ ì„œë²„ìª½ì´ë˜ ë„¤íŠ¸ì›Œí¬ë¬¸ì œê°€ ìƒê¸´ë‹¤ë©´ ì–´ì©”ìˆ˜ ì—†ëŠ”ê±°ì˜€ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;push-ë§¤ì»¤ë‹ˆì¦˜ì´ê¸°ë•Œë¬¸ì—&quot;&gt;Push ë§¤ì»¤ë‹ˆì¦˜ì´ê¸°ë•Œë¬¸ì—&lt;/h3&gt;
&lt;p&gt;ì´ ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì€ Observable, RxJS ìì²´ê°€ Push ë§¤ì»¤ë‹ˆì¦˜ì´ê¸°ë•Œë¬¸ì´ë¼ê³  í•œë‹¤.
Observable ë‹¤íë¨¼íŠ¸ë¥¼ ë“¤ì–´ê°€ë©´ ëœ¬ê¸ˆì—†ê²Œë„ pull, push ì— ëŒ€í•œ ë‚´ìš©ë¶€í„° ë‚˜ì˜¨ë‹¤. &lt;a href=&quot;https://rxjs.dev/guide/observable&quot;&gt;Observable Document&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Push&lt;/strong&gt; ë§¤ì»¤ë‹ˆì¦˜ì€ ë°ì´í„° ì†¡ì‹ ì¸¡ì—ì„œ ë³´ë‚¼ ìˆ˜ ìˆë‹¤ë©´ ì–´ë– í•œ ìƒí™©ë„ ìƒê´€ì—†ì´ ê·¸ëƒ¥ ë³´ë‚´ëŠ” êµ¬ì¡°.
&lt;strong&gt;Pull&lt;/strong&gt; ë§¤ì»¤ë‹ˆì¦˜ì€ ë°ì´í„° ìˆ˜ì‹ ì¸¡ì—ì„œ ë°›ê³  ì‹¶ì„ë•Œë§Œ ë°›ë„ë¡ í•˜ëŠ” êµ¬ì¡°ë‹¤. (Kafkaê°€ ê·¸ë˜ì„œ ì•ˆì •ì„±ì´ ì¢‹ë‹¤ê³ ë“¤í•œë‹¤)&lt;/p&gt;

&lt;h3 id=&quot;ì™œ-push-ë§¤ì»¤ë‹ˆì¦˜ì„-ì‚¬ìš©í•˜ëŠ”ì§€&quot;&gt;ì™œ push ë§¤ì»¤ë‹ˆì¦˜ì„ ì‚¬ìš©í•˜ëŠ”ì§€&lt;/h3&gt;
&lt;p&gt;ê·¼ë³¸ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì— ëŒ€í•´ì„  ë¶ˆì•ˆì „í•œ í¸ì¸ë° ì™œ Push ë§¤ì»¤ë‹ˆì¦˜ì„ ì“°ëŠ”ì§€ ì°¾ì•„ë³´ë‹ˆ RxJSìì²´ê°€ í”„ë¡ íŠ¸ì—”ë“œ ì´ë²¤íŠ¸ ì²˜ë¦¬ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì¡Œê¸°ë•Œë¬¸ì´ë¼ê³  í•œë‹¤. ì´ë²¤íŠ¸ê°€ ì–¸ì œ ë°œìƒí•œì§€ ì•Œìˆ˜ ì—†ê¸°ë•Œë¬¸ì— pull ë°©ì‹ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤. JSê°€ callbackì„ ì´ìš©í•˜ëŠ” ì´ìœ ì™€ ê±°ì˜ ê°™ì§€ì•Šë‚˜ ìƒê°ì´ ë“ ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í•´ê²°ì±…&quot;&gt;í•´ê²°ì±…&lt;/h2&gt;
&lt;p&gt;í•´ê²°ì±…ì€ ê°„ë‹¨í•˜ë‹¤. &lt;strong&gt;@Sse() ë°ì½”ë ˆì´í„° + Observable ì¡°í•©&lt;/strong&gt;ì—ì„œ &lt;strong&gt;Response ê°ì²´&lt;/strong&gt;ë¥¼ ì§ì ‘ ì´ìš©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì „í™˜í•˜ë©´ ëœë‹¤. ê·¸ë¦¬ê³  ë°ì´í„°ì†ŒìŠ¤ ë˜í•œ &lt;strong&gt;Pull&lt;/strong&gt; ë°©ì‹ì˜ ë„êµ¬ë¡œ ë³€ê²½í•´ì•¼í•œë‹¤. (Redis PubSubì€ push ë°©ì‹ì´ê¸°ë•Œë¬¸ì— Pull ë°©ì‹ì¸ Redis Streamìœ¼ë¡œ ì „í™˜í–ˆë‹¤.)&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì œì¼ ì¤‘ìš”í•œì ì€ Responseê°ì²´ë¥¼ ì´ìš©í•´ì„œ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœë¥¼ íŒŒì•…í•˜ëŠ” ê²ƒì´ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;res.write()ëŠ” ì‘ë‹µê°’ìœ¼ë¡œ ë” ë°ì´í„°ë¥¼ ë°›ì„ìˆ˜ ìˆëŠ”ì§€ ì•„ë‹Œì§€ ì—¬ë¶€ë¥¼ ë¦¬í„´í•´ì¤€ë‹¤.&lt;/strong&gt;
ì´ê°’ì´ trueì¼ ë•Œë§Œ ë°ì´í„°ë¥¼ ê³„ì† ë°›ì•„ì™€ì„œ ì „ë‹¬í• ì§€ ë§ì§€ ì½”ë“œë¥¼ ì§œë©´ ëœë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Pull ë°©ì‹ìœ¼ë¡œ ì „í™˜&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Redis Pubsubì—ì„œ Redis Streamìœ¼ë¡œ ë³€ê²½í–ˆê¸°ë•Œë¬¸ì— íŠ¹ì • ì‹œì ë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ìˆ˜ ìˆë‹¤.(XREAD).&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ê·¸ë¦¬ê³  â€œdrainâ€ ì´ë²¤íŠ¸ êµ¬ë…&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;í´ë¼ì´ì–¸íŠ¸ê°€ ë°ì´í„°ë¥¼ ë°›ì„ìˆ˜ ì—†ëŠ” ìƒíƒœë¼ë©´ res.write() ê°€ falseë¥¼ ì‘ë‹µí•˜ê¸°ë•Œë¬¸ì— ì†¡ì‹ í”„ë¡œì„¸ìŠ¤ë¥¼ ë©ˆì¶”ê³  ëŒ€ê¸°í•´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  drain ì´ë²¤íŠ¸ê°€ ë°œí–‰í•˜ë©´ ê·¸ë•Œ ë‹¤ì‹œ ë³´ë‚´ë©´ ëœë‹¤.
drain(ë°°ìˆ˜ë¼ëŠ” ëœ») ë¬¼ì´ ë¹ ì¡Œìœ¼ë‹ˆ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë³´ë‚´ë¼ëŠ” ì‹ í˜¸ë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ëŠ” ë³€í™˜ëœ ìƒ˜í”Œ ì½”ë“œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// pseudo code&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;chat-message/:messageId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getLlmAnswer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;messageId&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;messageId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;Res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// @Sse ë¥¼ ì•ˆì“°ê¸° ë•Œë¬¸ì— ì§ì ‘ ë‹¤ ì„¤ì •í•´ì•¼í•¨.&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Content-Type&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;text/event-stream&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Cache-Control&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;no-cache&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;keep-alive&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setHeader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;X-Accel-Buffering&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flushHeaders&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;streamKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;`llm:answer:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;messageId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;reader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;disconnect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;active&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;redisService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;streamKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;active&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;nx&quot;&gt;lastId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
          &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canWrite&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;`data: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;\n\n`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

          &lt;span class=&quot;c1&quot;&gt;// ë°±í”„ë ˆì…”: ë²„í¼ ê°€ë“ ì°¨ë©´ &quot;drain&quot; ëŒ€ê¸°&lt;/span&gt;
          &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;canWrite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;void&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;drain&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
          &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;writableEnded&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;res.write(), â€˜drainâ€™ ì´ë²¤íŠ¸ë§Œìœ¼ë¡œë„ ë¶€í•˜ë¥¼ ì¡°ì ˆí• ìˆ˜ ìˆëŠ” êµ¬ì¡°ê°€ ëë‹¤.&lt;/p&gt;

&lt;p&gt;ë™ì¼í•œ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ë©´ ë™ì¼í•œ ìš”ì²­ìˆ˜ì— OOM ì´ ë°œìƒí•˜ì§€ì•ŠëŠ”ë‹¤. ë¬¼ë¡  ìš”ì²­ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ë©´ í•˜ë“œì›¨ì–´ê°€ ì œí•œë¼ì–´ìˆìœ¼ë‹ˆ ë©”ëª¨ë¦¬ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ë§Œ ì´ê±´ í•˜ë“œì›¨ì–´ ìˆ˜í‰í™•ì¥ìœ¼ë¡œ ì§„í–‰í•˜ë©´ ëœë‹¤.&lt;/p&gt;
</description>
        <pubDate>Sat, 10 May 2025 00:00:00 -0500</pubDate>
        <link>http://0.0.0.0:4000//sse-and-observable-limitation-on-memory</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//sse-and-observable-limitation-on-memory</guid>
        
        <category>Nest.js</category>
        
        <category>Stream</category>
        
        <category>Observable</category>
        
        <category>RxJS</category>
        
        
      </item>
    
      <item>
        <title>ì¹´í”„ì¹´ í”„ë¡œë“€ì„œ í•„ìˆ˜ ì„¤ì •ê°’</title>
        <description>&lt;p&gt;ê¸°ë³¸ì ì¸ í”„ë¡œë“€ì„œ ì„¤ì •ê°’ë“¤ì„ ì •ë¦¬í•œ ê¸€ì´ë‹¤.
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì‹¤ë¬´ì—ì„œ ì“°ì¼ë§Œí•œ ì„¤ì •ê°’ë“¤ì„ ëŒ€ì¶© í›‘ì–´ë³´ê³  ê°œë…ìœ¼ë¡œ ë„˜ì–´ê°€ì.&lt;/p&gt;

&lt;p&gt;ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì—ì„œ ì¹´í”„ì¹´ë¥¼ ì´ìš©í•  ë•ŒëŠ” ì†ë„ê°€ ì¤‘ìš”í•˜ë‹¤. ê·¸ëŸ´ ë•ŒëŠ” ì•„ë˜ì™€ ê°™ì€ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;32768&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;linger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;acks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;per&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;enable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idempotence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;compression&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;snappy&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë°˜ë©´ì— ë¡œê·¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ìš©ë„ë¡œ ì¹´í”„ì¹´ë¥¼ ì´ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ ì„¤ì •ì´ë©´ ì¶©ë¶„í•˜ë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// ë¡œê¹…ìš©&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;batch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;262144&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;linger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ms&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;300&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;acks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;per&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;enable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idempotence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;compression&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;zstd&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ 6ê°€ì§€ ì„¤ì •ì€ ì•„ì£¼ ê¸°ë³¸ì ì¸ í”„ë¡œë“€ì„œ ì˜µì…˜ë“¤ì¸ë° ì„±ëŠ¥ vs ì•ˆì •ì„±ì— ë”°ë¼ ìœ„ ì˜µì…˜ë“¤ì˜ ê°’ì´ ë°”ë€Œê²Œ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ë‚˜í•˜ë‚˜ ì•Œì•„ë³´ì.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì‚¬ì „ ì§€ì‹&lt;/strong&gt;
Record: í•˜ë‚˜ì˜ ì´ë²¤íŠ¸, í•˜ë‚˜ì˜ ë©”ì‹œì§€.
Batch: Record ë¬¶ìŒ. ì¹´í”„ì¹´ëŠ” ë³´í†µ ì´ë²¤íŠ¸ í•˜ë‚˜í•˜ë‚˜ë¥¼ ì „ì†¡í•˜ì§€ì•Šê³  Batchë¡œ ë¬¶ì–´ì„œ ë³´ë‚¸ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;í•œë²ˆ-ë©”ì‹œì§€-ë³´ë‚¼ë•Œ-ì–¼ë§ˆë‚˜-ë³´ë‚¼ì§€&quot;&gt;í•œë²ˆ ë©”ì‹œì§€ ë³´ë‚¼ë•Œ ì–¼ë§ˆë‚˜ ë³´ë‚¼ì§€&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;â€œbatch.sizeâ€&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;í”„ë¡œë“€ì„œê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ ë•Œì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì„¤ì •í•œë‹¤. ê¸°ë³¸ ê°’ì€ 16KB.&lt;/p&gt;

&lt;p&gt;ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œë“€ì„œëŠ” ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°ì „ì— batch bufferì— ìŒ“ëŠ”ë‹¤. ê·¸ë¦¬ê³  batch.size ê°’ì— ë„ë‹¬í•˜ë©´ ë°”ë¡œ ì „ì†¡ëœë‹¤. í˜¹ì€ ì•„ë˜ ì„¤ëª…í•  linger.ms ì‹œê°„ì— ë„ë‹¬í•˜ë©´ batch.sizeì— ë„ë‹¬í•˜ì§€ì•Šì•„ë„ ë¸Œë¡œì»¤ë¡œ batchë¥¼ ì „ì†¡ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¹ì—°í•˜ê²Œë„ í”„ë¡œë“€ì„œì™€ ë¸Œë¡œì»¤ ê°„ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì´ ë§ìœ¼ë©´ ë§ì•„ì§ˆìˆ˜ë¡ í•˜ë“œì›¨ì–´ì— ë¶€ë‹´ì´ ëŠ˜ì–´ë‚œë‹¤. ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ íšŸìˆ˜ê°€ ë§ì•„ì§€ë©´ ë„¤íŠ¸ì›Œí¬ ë¶€í•˜ëŠ” ë‹¹ì—°íˆ ì»¤ì§€ê³ . â€œë„¤íŠ¸ì›Œí¬ íŒ¨í‚· -&amp;gt; ì¹´í”„ì¹´ ê°ì²´â€ë¡œ ì§ë ¬í™”í•˜ëŠ” ì¼ë„ ë§ì•„ì§€ë‹ˆ CPU ì‚¬ìš©ëŸ‰ë„ ëŠ˜ì–´ë‚œë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë˜ì„œ ì‹ ì†í•œ ì²˜ë¦¬ê°€ í•„ìš”í•  ë•ŒëŠ” batch.sizeë¥¼ ì‘ê²Œ ì„¤ì •í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì¹´í”„ì¹´ê°€ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì—ì„œ ì´ìš©ëœë‹¤ë©´ batch.sizeë¥¼ ìµœì†Œí™”(32kbì´í•˜)í•´ì„œ ì´ìš©í•˜ê³  ë¡œê·¸ì²˜ë¦¬ì™€ ê°™ì´ ê¸‰í•˜ì§€ì•Šì€ ê²ƒë“¤ì€ ê½¤ í° ê°’(256kb ì •ë„)ì„ ì´ìš©í•œë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ë©”ì‹œì§€ë¥¼-ì–¼ë§ˆ-ì‹œê°„-ë™ì•ˆ-ëª¨ì•„ì„œ-ë³´ë‚¼ê¹Œ&quot;&gt;ë©”ì‹œì§€ë¥¼ ì–¼ë§ˆ ì‹œê°„ ë™ì•ˆ ëª¨ì•„ì„œ ë³´ë‚¼ê¹Œ&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;â€œlinger.msâ€&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;batch.sizeë‘ ë˜‘ê°™ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤. ë‹¤ë§Œ ì‚¬ì´ì¦ˆê°€ ì•„ë‹ˆë¼ ì‹œê°„ì¼ë¿ì´ë‹¤. batchë¥¼ ë³´ë‚´ëŠ” í…€ì„ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì´ê³ .
ì‘ê²Œ ì„¤ì •í•˜ë©´ batch.size ì„¤ì • ê°’ë§Œí¼ ë°ì´í„°ê°€ ì°¨ì§€ì•Šì•„ë„ ì‹œê°„ì´ ë˜ë©´ batchë¥¼ ë³´ë‚¸ë‹¤. ë‚˜ë¨¸ì§€ëŠ” ë˜‘ê°™ë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ë³´ë‚¸-ë©”ì‹œì§€ë¥¼-ì˜-ì €ì¥í–ˆëŠ”ì§€-í™•ì¸&quot;&gt;ë³´ë‚¸ ë©”ì‹œì§€ë¥¼ ì˜ ì €ì¥í–ˆëŠ”ì§€ í™•ì¸&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;â€œacksâ€&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;acksëŠ” ë¸Œë¡œì»¤ê°€ ë©”ì‹œì§€ë¥¼ ì €ì¥í•œ í›„, í”„ë¡œë“€ì„œì—ê²Œ ì‘ë‹µì„ ë³´ë‚´ëŠ” ì¡°ê±´ì„ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤. ê¸°ë³¸ê°’ì€ 1ì´ë‹¤.
ì´ˆë°˜ì—” í—·ê°ˆë¦´ìˆ˜ ìˆëŠ” ì ì´ í•˜ë‚˜ ì¡´ì¬í•œë‹¤. acksëŠ” ëª‡ê°œì˜ ë³µì œë³¸ì„ ë§Œë“œëŠ”ì§€ì— ëŒ€í•œ ì„¤ì •ì´ ì•„ë‹ˆë¼, â€œì „ì²´ ë³µì œë³¸ ìƒì„± ê³¼ì •ì¤‘ì— ëª‡ê°œì˜ ë³µì œë³¸ì´ ìƒê¸´ ë’¤ì— ì‘ë‹µí•˜ëŠëƒâ€ë¥¼ ì„¤ì •í•˜ëŠ”ê²ƒì´ë‹¤. ì•„ì§ë„ ë¹„ìŠ·í•˜ë‹¤ ëŠë‚„ìˆ˜ ìˆì–´ ë” ì„¤ëª…í•˜ìë©´ 
ì¹´í”„ì¹´ì—ì„œ ë³µì œë³¸ì€ ISR ê°¯ìˆ˜ë§Œí¼ ë§Œë“¤ê²Œ ëœë‹¤. ISRì´ ë³µì œë³¸ì„ ë§Œë“œëŠ” ê³¼ì •ì—ì„œ &lt;strong&gt;ëª‡ê°œë¥¼ ë§Œë“  ì‹œì ì—&lt;/strong&gt; í”„ëŸ¬ë“€ì„œì—ê²Œ ì‘ë‹µì„ ë³´ë‚¼ê¹Œ ë¼ëŠ” ì„¤ì •ì´ë‹¤. ISR ê°¯ìˆ˜ê°€ 5ê°œì¼ë•Œ acksê°€ 1ê°œë¼ë©´ ISR 5ê°œ ëª¨ë‘ ë³µì œë³¸ ìƒê¸°ëŠ” ì™€ì¤‘ì— 1ê°œë§Œ ë³µì œë˜ë©´ ì‘ë‹µì„ ë³´ë‚¸ë‹¤. ì¹´í”„ì¹´ëŠ” ë¸Œë¡œì»¤ ì‹œì‘ ì‹œ ì„¤ì •ëœ â€œreplication.factorâ€ ê°’ë§Œí¼ ë©”ì‹œì§€ì˜ ë³µì œë³¸ì„ ë§Œë“ ë‹¤. replication.factorë§Œí¼ ë³µì œí•˜ê¸°ì „ì— acks ì„¤ì •ê°’ë§Œí¼ ë³µì œë˜ë©´ ì¤‘ë„ì— ë¯¸ë¦¬ ì‘ë‹µí•˜ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ê°’ì„ ì‘ê²Œ í•˜ë©´ ë¦¬ë”ë§Œ ì €ì¥í•´ë„ ë˜ë¯€ë¡œ ì²˜ë¦¬ ì†ë„ê°€ ë¹ ë¥´ì§€ë§Œ, ë¦¬ë” ë¸Œë¡œì»¤ê°€ ë§ê°€ì¡Œì„ ë•Œ ë°ì´í„° ìœ ì‹¤ ìœ„í—˜ì´ ìˆë‹¤.
ë°˜ë©´, í¬ê²Œ ì„¤ì •í•˜ë©´ ISR(ë™ê¸°í™”ëœ ë³µì œë³¸) ëª¨ë‘ê°€ ì €ì¥í•´ì•¼ ì‘ë‹µì„ ë³´ë‚´ë¯€ë¡œ ì†ë„ëŠ” ëŠë¦¬ì§€ë§Œ ì•ˆì •ì„±ì´ ë†’ì•„ì§„ë‹¤.&lt;/p&gt;

&lt;p&gt;ì„¤ì • ê°€ëŠ¥ê°’ì€ 0, 1, all. 3ê°€ì§€ ì¡´ì¬í•œë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;í”„ë¡œë“€ì„œê°€-ë™ì‹œì—-ëª‡ê°œì˜-ë©”ì‹œì§€ë¥¼-ë³´ë‚¼ìˆ˜-ìˆëŠ”ì§€-ì„¤ì •í•˜ê¸°&quot;&gt;í”„ë¡œë“€ì„œê°€ ë™ì‹œì— ëª‡ê°œì˜ ë©”ì‹œì§€ë¥¼ ë³´ë‚¼ìˆ˜ ìˆëŠ”ì§€ ì„¤ì •í•˜ê¸°.&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;â€œmax.in.flight.requests.per.connectionâ€&lt;/strong&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;max.in.flight.requests.per.connection ì„¤ì •ì´ ì‘ë™í•˜ëŠ” ë°©ì‹ì€ ê½¤ë‚˜ ì¬ë°Œë‹¤.
ì´ ì„¤ì •ì€ íŒŒí‹°ì…˜ì´ ì–¼ë§Œí¼ì˜ ë©”ì‹œì§€ë¥¼ ë™ì‹œì— ë³´ë‚¼ ìˆ˜ ìˆëŠ”ì§€ ì¡°ì ˆí•˜ëŠ” ì„¤ì •ê°’ì´ë‹¤. ê¸°ë³¸ ê°’ì€ 5ë¡œ ì„¤ì •ë¼ìˆë‹¤. ê°’ì´ 5ë¡œ ì„¤ì •ë¼ìˆë‹¤ë©´ ë™ì‹œì— ì§„í–‰ë ìˆ˜ ìˆëŠ” ë©”ì‹œì§€ ì „ì†¡ í”„ë¡œì„¸ìŠ¤ëŠ” ìµœëŒ€ 5ê°œë¡œ ì œí•œëœë‹¤.
ì¡°ì ˆí•˜ëŠ” ë°©ì‹ì€ Queueë¥¼ ì´ìš©í•œë‹¤. ì„¤ì •ê°’ë§Œí¼ì˜ ê¸¸ì´ë¥¼ ê°€ì§€ëŠ” in.flight.queueê°€ ë”°ë¡œ ì¡´ì¬í•œë‹¤. ê·¸ë¦¬ê³  í”„ë¡œë“€ì„œê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê¸°ì „ì— queueì— ë©”ì‹œì§€ë¥¼ ë„£ì„ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. (queue.length &amp;lt; max.in.flight.request.per.connection ê°’) ì „ë‹¬ì´ ì‹œì‘ëœ ë©”ì‹œì§€ë“¤ì€ in.flight íë¡œ ë“¤ì–´ê°€ê²Œ ë˜ê³  ì™„ë£Œ ì²˜ë¦¬ ë ë•Œê¹Œì§€ queueì•ˆì—ì„œ ê´€ë¦¬ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ê¸°ë³¸ ì‘ë™ ë°©ì‹ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;1. in flight íì— ë“¤ì–´ê°€ìˆëŠ” ë©”ì‹œì§€ ê°¯ìˆ˜ê°€ max.in.flight.requests.per.connection ìˆ˜ë³´ë‹¤ ì‘ì€ì§€ í™•ì¸í•œë‹¤.
2. ì‘ë‹¤ë©´ ë¸Œë¡œì»¤ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  in flight íì— ë„£ëŠ”ë‹¤.
3. ë¸Œë¡œì»¤ì—ì„œ askë¥¼ ë°›ì•˜ë‹¤.
4. í”„ë¡œë“€ì„œì—ì„œ ë¸Œë¡œì»¤ì— ì „ë‹¬ ì™„ë£Œí–ˆìŒì„ ì²˜ë¦¬í•œë‹¤.
5. ì™„ë£Œ ì²˜ë¦¬ëœ ë©”ì‹œì§€ëŠ” queueì—ì„œ ì œê±°í•œë‹¤.
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ì ì€ ë‹¤ë¥¸ ì„¤ì •ë“¤ì— ë”°ë¼ ì‘ë™ë°©ì‹ì´ ë‹¬ë¼ì§„ë‹¤ëŠ” ì ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1. â€œacksâ€ì— ë”°ë¥¸ ë³€í™”&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;acks = 0&lt;/strong&gt;
ì´ ê²½ìš°ì—ëŠ” ë¸Œë¡œì»¤ê°€ ë©”ì‹œì§€ë¥¼ ë°›ì•˜ë‹¤ëŠ” ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ì§€ì•ŠëŠ”ë‹¤. í”„ë¡œë“€ì„œì—ì„œ ë¸Œë¡œì»¤ì— ë©”ì‹œì§€ë¥¼ ë³´ë‚´ë²„ë¦¬ê³  ëì´ë‹¤. (ë¸Œë¡œì»¤ê°€ ì œëŒ€ë¡œ ë°›ë˜ ë§ë˜ ì‹ ê²½ì•ˆì”€) ê·¸ë ‡ê¸°ë•Œë¬¸ì— ì´ ìƒí™©ì—ì„œëŠ” max.in.flight ì„¤ì •ì´ ë¬´ì˜ë¯¸í•´ì§„ë‹¤. queueë¥¼ í™•ì¸í•˜ëŠ” ì ˆì°¨ë„ queueì— ë©”ì‹œì§€ë¥¼ ë„£ëŠ” ì‘ì—…ë„ í•˜ì§€ì•Šê²Œëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;acks &amp;gt; 0&lt;/strong&gt;
ì´ ê²½ìš°ì—ëŠ” í”„ë¡œë“€ì„œëŠ” ë¸Œë¡œì»¤ê°€ ë©”ì‹œì§€ë¥¼ ì˜ì €ì¥í–ˆëŠ”ì§€ì— ëŒ€í•œ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ê¸°ë•Œë¬¸ì— ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ê³  í•´ë‹¹ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ê²Œëœë‹¤. ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ê³³ì´ in.flight.queueì¸ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ in.flight ì˜µì…˜ì´ ì •ìƒ ì‘ë™ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2. enable.idempotenceì— ë”°ë¥¸ ë³€í™”&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;enable.idempotence == true&lt;/strong&gt;
ì´ ê²½ìš°ê°€ ê½¤ë‚˜ ì¬ë¯¸ìˆë‹¤. trueë¡œ ì„¤ì •ë¼ìˆì„ ë•ŒëŠ” ë©”ì‹œì§€ ì „ì†¡ì‹œì— sequence numberë¥¼ ê°™ì´ ë³´ë‚´ê³  ë¸Œë¡œì»¤ë¡œë¶€í„° ì™„ë£Œ ë©”ì‹œì§€ë¥¼ ë°›ì„ ë•Œë„ ë™ì¼í•œ sequence numberë¥¼ ë°›ê²Œëœë‹¤. 
in.flight íì— ë“¤ì–´ê°„ ìˆœì„œëŒ€ë¡œ sequence numberê°€ ì»¤ì§€ê²Œ ë˜ë‹ˆê¹Œ ë‹¹ì—°íˆ head(ë§¨ì•) ê°’ì´ ì œì¼ ì‘ë‹¤. ì´ë•Œ ì—¬ëŸ¬ê°œì˜ ë©”ì‹œì§€ë¥¼ ë¹„ë™ê¸°ë¡œ ê°™ì´ ë³´ë‚´ì§€ë§Œ ìˆœì„œì˜ ì•ˆì •ì„±ì„ ì´ë£°ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìƒê¸°ê²Œëœë‹¤.
ë¸Œë¡œì»¤ë¡œ ë°›ì€ ë©”ì‹œì§€ì˜ sequence numberê°€ í ë§¨ì•(head)ì˜ sequence numberë³´ë‹¤ í¬ë‹¤ë©´ ìˆœë²ˆì´ í›„ìˆœìœ„ì´ê¸° ë•Œë¬¸ì— headì˜ ë©”ì‹œì§€ê°€ ì™„ë£Œë˜ê¸°ê¹Œì§€ ë³´ë¥˜ëœë‹¤.&lt;/p&gt;

&lt;p&gt;í›„ìˆœìœ„ê°€ ë¨¼ì € ì‘ë‹µëì„ ë•Œ ë³´ë¥˜ë¨ìœ¼ë¡œì¨ ì–»ì–´ì§€ëŠ” ì´ì ì€ ê½¤ë‚˜ ê°•ë ¥í•˜ë‹¤. â€œì„ ìˆœìœ„ì˜ ë©”ì‹œì§€ê°€ ì™„ë£Œë˜ì–´ íì—ì„œ ë¹ ì§€ê¸°ì „ê¹Œì§€ëŠ” í›„ìˆœìœ„ ë©”ì‹œì§€ë“¤ë„ ë¹ ì§ˆìˆ˜ ì—†ê¸°ë•Œë¬¸ì— ë³´ë‚´ëŠ” ì–‘ì´ ìë™ìœ¼ë¡œ ì¡°ì ˆëœë‹¤.â€ ì¸í”„ë¼ ê´€ë¦¬ ì¸¡ë©´, ìˆœì„œ ê´€ë¦¬ì¸¡ë©´ì—ì„œ ì•Œì•„ì„œ ì•ˆì •í™”ë˜ëŠ” ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;enable.idempotence == false&lt;/strong&gt;
ì´ ê²½ìš°ì—ëŠ” sequence numberë¥¼ ì´ìš©í•˜ì§€ì•ŠëŠ”ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë¨¼ì € ì‘ë‹µì˜¨ ë©”ì‹œì§€ëŠ” íì—ì„œ ë¨¼ì € ë¹ ì§„ë‹¤. ìˆœì„œ ë³´ì¥ë„ ì—†ê³  ì¤‘ë³µ ë°©ì§€ë„ ë¶ˆê°€í•˜ë‹¤. ë‹¨ìˆœíˆ ë™ì‹œì— ë³´ë‚´ëŠ” ê°¯ìˆ˜ë§Œ ì¡°ì ˆí• ë¿ì´ë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;(ì°¸ê³ ) trueì¼ ë•ŒëŠ” max.in.flight ê°’ì´ 5 ì´í•˜ë¡œ ê°•ì œëœë‹¤. 5ì´ìƒì´ë¼ë©´ OutOfOrderSequenceException ê°€ ë°œìƒí•  í™•ë¥ ì´ ë„ˆë¬´ ë†’ì•„ì§„ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;batchë¥¼-ì••ì¶•í•´ì„œ-ë³´ë‚¼ì§€-ì–´ë–¤-ì¢…ë¥˜ë¡œ-ì••ì¶•í• ì§€&quot;&gt;batchë¥¼ ì••ì¶•í•´ì„œ ë³´ë‚¼ì§€. ì–´ë–¤ ì¢…ë¥˜ë¡œ ì••ì¶•í• ì§€&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;â€œcompression.typeâ€&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ê°€ëŠ¥í•œ ê°’ìœ¼ë¡œëŠ” none, gzip, snappy, lz4, zstd. ìµœê·¼ ë²„ì „ì—ì„œëŠ” zstd(Zstandard)ë¥¼ ê¶Œì¥í•œë‹¤ê³  í•œë‹¤.
ì••ì¶• ë‹¨ìœ„ëŠ” ë‹¹ì—°íˆ batchì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ë³´í†µ snappy, lz4 ì•Œê³ ë¦¬ì¦˜ì´ ë¹ ë¥´ê²Œ ì••ì¶•í•´ì•¼í•  ë•Œ ì´ìš©ëœë‹¤. ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì™€ ê°™ì´ ì‘ë‹µì´ ë¹¨ë¼ì•¼í• ë•Œ ì´ìš©. 
gzip, zstdëŠ” ì••ì¶•ë¥ ì´ ì»¤ì•¼í•  ë•Œ ì´ìš©í•œë‹¤. ë¡œê¹… ì²˜ë¦¬ì™€ ê°™ì´ ì²œì²œíˆ í•´ë„ ë ë•Œ ì´ìš©.&lt;/p&gt;
</description>
        <pubDate>Wed, 08 Jan 2025 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//kafka-producer-options</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//kafka-producer-options</guid>
        
        <category>Kafka</category>
        
        
      </item>
    
      <item>
        <title>Cold Data - ê±°ì˜ ì´ìš©ë˜ì§€ì•ŠëŠ” ë°ì´í„° ê´€ë¦¬</title>
        <description>&lt;p&gt;ê±°ì˜ ì´ìš©ë˜ì§€ì•ŠëŠ” ë°ì´í„° ê´€ë¦¬ [ì˜¤ë˜ëœ ë°ì´í„° ì €ì¥ - append-only ë°ì´í„° ì²˜ë¦¬]&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì„œë¹„ìŠ¤ê°€ ì»¤ì§€ë©´ì„œ ë°ì´í„°ê°€ ë‚˜ë‚ ì´ ëŠ˜ì–´ê°„ë‹¤. ì¼ë‹¨ì€ ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©ìœ¼ë¡œ í•´ê²°í•˜ë ¤ê³  í•˜ì§€ë§Œ í•œê³„ê°€ ëª…í™•í•˜ë‹¤. ê·¸ë¦¬ê³  ì œì¼ ì¤‘ìš”í•œ ë¹„ìš©ì´ ë„ˆë¬´ ì»¤ì ¸ë²„ë¦°ë‹¤. ì´ëŸ´ ë•Œ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì €ì¥í•˜ê³  ì´ìš©í• ì§€ì— ëŒ€í•´ ì •ë¦¬í•˜ëŠ” ê¸€ì´ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ìš°ë¦¬ê°€ ì‹ ê²½ì¨ì•¼í•  ë°ì´í„°ì˜ ì¢…ë¥˜ëŠ” í¬ê²Œ ë‘ê°€ì§€ë¡œ ë‚˜ë‰œë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;1.ì¼ë…„ì— ëª‡ë²ˆ ê°„ê°„íˆ ê²€ìƒ‰ì„ í•˜ê¸´ í•˜ëŠ” ë°ì´í„°. (High-value Cold Data)&lt;/li&gt;
  &lt;li&gt;2.í†µê³„ìš©ìœ¼ë¡œë§Œ ì“°ì´ê³  ìœ ì €ë“¤ì´ ì§ì ‘ ì´ìš©í•˜ì§€ëŠ” ì•ŠëŠ” ë°ì´í„°. (Cold Data)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1ë²ˆì€ ë°°ë‹¬ì•±ì—ì„œ 5ë…„ì „ì— ì£¼ë¬¸í–ˆë˜ ë°ì´í„°ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. (ìœ ì €ê°€ ì£¼ë¬¸ë‚´ì—­ì—ì„œ ìŠ¤í¬ë¡¤ì„ ì—„ì²­ ë‚´ë¦¬ê±°ë‚˜ íŠ¹ì • ì—°ì›”ì„ ê²€ìƒ‰í–ˆì„ ë•Œë§Œ ë‚˜ì˜¤ëŠ” ë°ì´í„°)&lt;br /&gt;
2ë²ˆì€ ìœ ì € í–‰ë™ì— ê´€í•œ ê²ƒë“¤. ë¡œê·¸ ë°ì´í„°ê°€ ëŒ€í‘œì ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ë‘ê°€ì§€ ë°ì´í„°ë“¤ì„ DBì— ì €ì¥í•˜ëŠ” ê²ƒì€ ë¶€ë‹´ì´ ì•„ì£¼ í¬ë‹¤. ì•„ë¬´ë¦¬ ìƒ¤ë”©ì„ ì˜í•´ë‘”ë‹¤ê³  í•´ë„ ì„±ëŠ¥ì ìœ¼ë¡œ ì•…ì˜í–¥ì„ ì¤„ìˆ˜ ìˆê³  ê°€ì¥ í° ë‹¨ì ìœ¼ë¡œ ë¹„ìš©ì´ ì»¤ì§„ë‹¤. ê·¸ë˜ì„œ S3ì™€ ê°™ì€ ê³³ì— ì˜®ê²¨ë‘ê³  í•„ìš”í•  ë•Œ ë¶ˆëŸ¬ì™€ì„œ ì²˜ë¦¬í•´ì•¼í•œë‹¤.&lt;br /&gt;
ì´ëŸ° ë°ì´í„°ë“¤ì„ &lt;strong&gt;Cold Data&lt;/strong&gt;ë¼ê³  í•œë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;1-ê°„ê°„íˆ-ê²€ìƒ‰ë˜ëŠ”-ë°ì´í„°-high-value-cold-data&quot;&gt;1. ê°„ê°„íˆ ê²€ìƒ‰ë˜ëŠ” ë°ì´í„° â€œHigh-value Cold Dataâ€&lt;/h2&gt;

&lt;p&gt;ì‡¼í•‘ëª° ìœ ì €ê°€ 5ë…„ì „ì— ì£¼ë¬¸í•œ ë‚´ì—­ì„ DBì— ì €ì¥í•´ë‘ê³  ìµœê·¼ ì£¼ë¬¸ë‚´ì—­ì„ ì¡°íšŒí•  ë•Œ ê°™ì´ ëŒë¦¬ê²Œ í•˜ëŠ” ê±´ ì„±ëŠ¥ì ìœ¼ë¡œë‚˜ ë¹„ìš©ì ìœ¼ë¡œ ì¢‹ì§€ì•Šë‹¤. ìì£¼ ì´ìš©ë˜ëŠ” ë°ì´í„°ì™€ ìì£¼ ì´ìš©ë˜ì§€ì•ŠëŠ” ë°ì´í„°ëŠ” ë¶„ë¦¬í•´ì„œ ì €ì¥í•´ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ˆë¥¼ ë“¤ì–´ ì‡¼í•‘ëª°ì—ì„œ ì£¼ë¬¸ ë°ì´í„°ë“¤ì€ ì²˜ìŒ ìƒì„±ëì„ ì‹œ ì¼ë°˜ì ì¸ DB(MySQL, MongoDB)ì— ì €ì¥ëœë‹¤. ê·¸ë¦¬ê³  ì´ìš©ë˜ì§€ ì•ŠëŠ” ì‹œê¸°ê°€ ì˜¤ë©´ S3ë¡œ ì˜®ê²¨ì§€ë©° Cold Dataë¡œ ê´€ë¦¬ëœë‹¤. ê·¸ë¦¬ê³  ì—„ì²­ ì˜¤ë˜ëœ ë°ì´í„°ë¼ê³  íŒë‹¨ë˜ë©´ + ë²•ì ìœ¼ë¡œ ë¬¸ì œê°€ ì—†ë‹¤ë©´ ì˜ì˜ ì§€ìš°ê¸°ë„ í•œë‹¤. (ì„œë¹„ìŠ¤ë§ˆë‹¤ ë°ì´í„° ê´€ë¦¬ ì •ì±…ì— ë”°ë¼ ë‹¤ë¦„)&lt;/p&gt;

&lt;p&gt;ì˜¤ë˜ëœ ë°ì´í„°ë“¤ì¤‘ì— ìœ ì €ê°€ ê°„ê°„íˆ ì¡°íšŒí•˜ê²Œ ë˜ëŠ” ë°ì´í„°ë“¤ì´ ìˆëŠ”ë° ì´ ë°ì´í„°ë“¤ì„ &lt;strong&gt;High-value Cold Data&lt;/strong&gt;ë¼ê³  í•œë‹¤. ì‡¼í•‘ëª°ì—ì„œ 5ë…„ì „, 10ë…„ì „ ì£¼ë¬¸ë‚´ì—­ì„ ê°€ì ¸ì˜¬ ë•Œ ê°„í˜¹ ì‘ë‹µì´ ëŠë¦´ ë•Œê°€ ìˆë‹¤. pagination ê¸°ëŠ¥ì„ ì˜ëª» êµ¬í˜„í•´ì„œ ëŠë¦°ê±¸ìˆ˜ë„ ìˆì§€ë§Œ ì‹œìŠ¤í…œì´ ì˜êµ¬ì¶•ëœ ê³³ì´ë¼ë©´ S3ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸° ë•Œë¬¸ì— ëŠë¦° ê±¸ìˆ˜ë„ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;â€œHigh-value Cold Dataâ€ê°€ ê´€ë¦¬ë˜ëŠ” ë°©ì‹ì„ ì¢€ë” ì•Œì•„ë³´ì.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;1. ì‡¼í•‘ ì£¼ë¬¸ ë°ì´í„°ê°€ ìƒì„±ëœë‹¤.
2. ì£¼ë¬¸ ë°ì´í„°ê°€ ì¼ë°˜ DBì— ì €ì¥ëœë‹¤.
3. ì£¼ë¬¸ì„ í•œì§€ ëª‡ë‹¬ì´ ì§€ë‚œë‹¤. ëª‡ë‹¬ì´ ì§€ë‚˜ë©´ ë”ì´ìƒ ì£¼ë¬¸ ë°ì´í„°ì— ëŒ€í•´ &quot;ìˆ˜ì • ì‘ì—…ì´ ë¶ˆê°€&quot;í•´ì§„ë‹¤.
4. ì£¼ë¬¸ ì „ì²´ ì‘ì—…ì´ ì™„ë£Œëœì§€ ëª‡ë…„ì´ ì§€ë‚¬ë‹¤.
5. ì •ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” cold-data ë³€í™˜ í”„ë¡œì„¸ìŠ¤ì—ì„œ í•´ë‹¹ ë°ì´í„°ë¥¼ S3ë¡œ ì˜®ê¸´ë‹¤.
6. ì£¼ë¬¸ ë°ì´í„°ê°€ ì¼ë°˜ DBì—ì„œ ì‚­ì œëœë‹¤.
7. ìœ ì €ê°€ í•´ë‹¹ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë©´ S3ì—ì„œ ê°€ì ¸ì™€ì„œ ë³´ì—¬ì¤€ë‹¤.
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;h4 id=&quot;ì½ê¸°-ì „ìš©-ë°ì´í„°&quot;&gt;â€œì½ê¸° ì „ìš© ë°ì´í„°â€&lt;/h4&gt;

  &lt;p&gt;ì—¬ê¸°ì„œ ì¤‘ìš”í•œì ì€ cold-dataë¡œ ì €ì¥ë˜ëŠ” ë°ì´í„°ëŠ” ëª¨ë‘ ìˆ˜ì •ì‘ì—…ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤ëŠ” ì ì´ë‹¤. &lt;strong&gt;ì„œë¹„ìŠ¤ ê¸°ëŠ¥ì ìœ¼ë¡œ ìˆ˜ì •ì„ ë¶ˆê°€ëŠ¥í•˜ê²Œ ë§‰ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•˜ë‹¤.&lt;/strong&gt; ê·¸í›„ ì½œë“œ ë°ì´í„°ë¡œ ì²˜ë¦¬í•œë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;ë°ì´í„°-ë³€í™˜ì €ì¥-ê³¼ì •&quot;&gt;ë°ì´í„° ë³€í™˜/ì €ì¥ ê³¼ì •&lt;/h3&gt;

&lt;p&gt;ë³´í†µ í¬ë¡ ì¡ + ë©”ì‹œì§€ í ë°©ì‹ìœ¼ë¡œ ë³€í™˜í•œë‹¤. ì •ê¸°ì ìœ¼ë¡œ íŠ¹ì • ê¸°ê°„ ì´ìƒëœ ë°ì´í„°ë“¤ì„ ì¡°íšŒí•˜ì—¬ ë³€í™˜ íì— ë„£ê³  ì²˜ë¦¬í•œë‹¤.&lt;br /&gt;
ë°ì´í„° í¬ê¸°ì— ë”°ë¼ ì €ì¥ë°©ì‹ì´ ë‹¤ë¥´ë‹¤. ë°ì´í„° í•˜ë‚˜í•˜ë‚˜ì˜ í¬ê¸°ê°€ í¬ë‹¤ë©´ ë°ì´í„° í•˜ë‚˜í•˜ë‚˜ë¥¼ íŒŒì¼ë¡œ ì €ì¥í•˜ê³  ë°ì´í„° í•˜ë‚˜í•˜ë‚˜ì˜ í¬ê¸°ê°€ ì‘ë‹¤ë©´ í•˜ë£¨ì— ìƒê¸°ëŠ” ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ì €ì¥í•œë‹¤. í˜¹ì€ ì¼ì£¼ì¼, í•œë‹¬ ë‹¨ìœ„ë¡œ ì €ì¥í•  ìˆ˜ë„ ìˆë‹¤.&lt;br /&gt;
&lt;strong&gt;ê·¸ë¦¬ê³  S3 ì‚¬ìš© ìš©ëŸ‰ì„ ì¤„ì´ê¸° ìœ„í•´ ì••ì¶•í•˜ì—¬ ì €ì¥í•œë‹¤.&lt;/strong&gt; íŒŒì¼ í•˜ë‚˜ì˜ ì‚¬ì´ì¦ˆê°€ ë„ˆë¬´ ì»¤ì§€ë©´ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ë•Œ ê°€ì ¸ì˜¤ëŠ”ë° ê±¸ë¦¬ëŠ” ì‹œê°„ + ì••ì¶•ì„ í•´ì œí•˜ëŠ” ì‹œê°„ + íŒŒì‹±í•˜ëŠ” ì‹œê°„ì´ ë„ˆë¬´ ì˜¤ë˜ê±¸ë¦°ë‹¤. ì ì ˆí•œ ì‚¬ì´ì¦ˆë¡œ ì €ì¥ë ìˆ˜ ìˆëŠ” ê¸°ê°„ì˜ ë°ì´í„°ë¥¼ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë§Œë“¤ì–´ ì €ì¥í•´ì•¼í•œë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ë§µí•‘-í…Œì´ë¸”&quot;&gt;ë§µí•‘ í…Œì´ë¸”&lt;/h3&gt;

&lt;p&gt;S3ì— ì €ì¥ëœ íŒŒì¼ì€ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆì§€ë§Œ íŒŒì¼ ì´ë¦„ë§Œìœ¼ë¡œëŠ” ì¡°íšŒê°€ ì–´ë µë‹¤. ê·¸ë˜ì„œ ë§µí•‘ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ íŒŒì¼ ì´ë¦„ê³¼ íŒŒì¼ ë‚´ìš©ì„ ë§µí•‘í•´ë‘”ë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ê¸°ë³¸-ë°©ì‹&quot;&gt;ê¸°ë³¸ ë°©ì‹&lt;/h4&gt;

&lt;p&gt;S3ì— ì €ì¥ëë‹¤ë©´ ë”°ë¡œ ë§µí•‘ ë°ì´í„°ë¥¼ DBì— ë§Œë“¤ì–´ì•¼í•œë‹¤. ê¸°ë³¸ í˜•ì‹ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì£¼ë¬¸ë²ˆí˜¸&lt;/th&gt;
      &lt;th&gt;s3Key&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;10004&lt;/td&gt;
      &lt;td&gt;userId_2011_01_13.jsonl.gz&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h4 id=&quot;ë²„í¼-ì˜¤í”„ì…‹--range-get-ë°©ì‹&quot;&gt;ë²„í¼ ì˜¤í”„ì…‹ + Range GET ë°©ì‹&lt;/h4&gt;

&lt;p&gt;S3ì— íŒŒì¼ ê°¯ìˆ˜ê°€ ë„ˆë¬´ ë§ì•„ì§€ëŠ”ê²Œ ì•ˆì¢‹ì•„ì§ˆ ë•Œë„ ìˆë‹¤. ë¶„ì„ ì²˜ë¦¬í•  ë•Œ íŒŒì¼ì´ ë„ˆë¬´ ë§ìœ¼ë©´ ì˜¤ë˜ê±¸ë¦¬ê¸°ë„ í•˜ê³  S3ì— ì“°ê¸° ì²˜ë¦¬ë¥¼ ë„ˆë¬´ ë§ì´í•˜ë©´ ì•ˆì¢‹ê¸°ë„ í•˜ë‹¤. (S3ëŠ” ì“°ê¸° ë¹„ìš©ì´ ì½ê¸°ë¹„ìš©ì˜ 10ë°°ì •ë„ ë¹„ì‹¸ë‹¤ê³  í•œë‹¤.) ì´ëŸ´ ë•ŒëŠ” í•˜ë‚˜ì˜ íŒŒì¼ í¬ê¸°ë¥¼ í¬ê²Œ í•˜ëŠ” ëŒ€ì‹  ë§µí•‘ í…Œì´ë¸”ì—ì„œ êµ¬íšì„ ë‚˜ëˆ  ê´€ë¦¬í•œë‹¤. &lt;strong&gt;offset&lt;/strong&gt;ì„ ì¶”ê°€ë¡œ ì €ì¥í•˜ëŠ” ë°©ì‹ì´ë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;ì£¼ë¬¸ë²ˆí˜¸&lt;/th&gt;
      &lt;th&gt;s3Key&lt;/th&gt;
      &lt;th&gt;byteOffsetStart&lt;/th&gt;
      &lt;th&gt;byteOffsetEnd&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;10004&lt;/td&gt;
      &lt;td&gt;userId_2011_01_13.jsonl&lt;/td&gt;
      &lt;td&gt;1829382&lt;/td&gt;
      &lt;td&gt;1830123&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10005&lt;/td&gt;
      &lt;td&gt;userId_2011_01_13.jsonl&lt;/td&gt;
      &lt;td&gt;1830123&lt;/td&gt;
      &lt;td&gt;1830864&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10006&lt;/td&gt;
      &lt;td&gt;userId_2011_01_13.jsonl&lt;/td&gt;
      &lt;td&gt;1830864&lt;/td&gt;
      &lt;td&gt;1831605&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ìœ„ ì²˜ëŸ¼ ì—¬ëŸ¬ ì£¼ë¬¸ì„ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ì €ì¥í•˜ê³  ì‹œì‘ì , ë ì ì„ ì €ì¥í•´ë‘¬ í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ë§Œ S3ì—ì„œ ë°›ì•„ì˜¬ ìˆ˜ ìˆë‹¤.&lt;br /&gt;
&lt;strong&gt;Range GET&lt;/strong&gt;ì´ë¼ê³  í•˜ëŠ”ë° ê¸°ì¡´ ë°›ì•„ì˜¤ë˜ ì¿¼ë¦¬ì— Range íŒŒë¼ë¯¸í„°ë§Œ ì¶”ê°€í•˜ë©´ ëœë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;const s3 = new S3Client({ region: &quot;ap-northeast-2&quot; });

const command = new GetObjectCommand({
  Bucket: &quot;your-bucket-name&quot;,
  Key: &quot;your-file.jsonl&quot;,
  Range: &quot;bytes=1829382-1830123&quot;,
});

const response = await s3.send(command);
const stream = response.Body;
const data = await streamToString(stream);

~
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Range ë°©ì‹ì˜ ë‹¨ì ì´ í•˜ë‚˜ ìˆë‹¤. offsetìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ë§Œ ê°€ì ¸ì™€ì•¼í•˜ê¸°ë•Œë¬¸ì— íŒŒì¼ì„ ì••ì¶•í•´ì„œ ì €ì¥í•´ë†“ì§€ ëª»í•œë‹¤. ì••ì¶•í•´ ë†“ì€ íŒŒì¼ì—ì„œ ë¶€ë¶„ë§Œ ê°€ì ¸ì˜¤ëŠ”ê±´ ë¶ˆê°€ëŠ¥í•˜ë‹ˆë§ì´ë‹¤. ì••ì¶•í•˜ì§€ì•Šì•„ë„ ë¶€ë‹´ì´ ë˜ì§€ì•ŠëŠ” ìƒí™©ì—ì„œë§Œ ì´ìš©í• ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-í†µê³„ìš©ìœ¼ë¡œë§Œ-ì“°ì´ëŠ”-ë°ì´í„°-cold-data&quot;&gt;2. í†µê³„ìš©ìœ¼ë¡œë§Œ ì“°ì´ëŠ” ë°ì´í„° â€œCold Dataâ€&lt;/h2&gt;

&lt;p&gt;ìœ ì €í•œí…Œ ë³´ì´ì§€ì•ŠëŠ” ë°ì´í„°ë“¤ ì£¼ë¡œ ìœ ì €í–‰ë™ ë¶„ì„ì— ì“°ì´ëŠ” ë°ì´í„°ë“¤ì´ë‹¤. ì´ ë°ì´í„°ë“¤ì€ íŠ¹ë³„í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ë””ë¹„ì— ì €ì¥ë˜ì§€ì•Šê³  ë°”ë¡œ ë¡œê·¸ íŒŒì¼ë¡œ ê´€ë¦¬ëœë‹¤.&lt;/p&gt;

&lt;p&gt;â€œì¼ë°˜ Cold Dataâ€ê°€ ê´€ë¦¬ë˜ëŠ” ë°©ì‹ì€ ê°„ë‹¨í•˜ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;1. ìœ ì € í–‰ë™ ë¡œê·¸ê°€ ìƒì„±ëœë‹¤.
2. ê°œë³„ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë¡œê·¸ íŒŒì¼ë¡œ ì €ì¥ëœë‹¤.
3. ì ë‹¹í•œ ë²„í¼ í¬ê¸°ë¡œ ì •ê¸°ì ìœ¼ë¡œ(ë³´í†µ ìˆ˜ì´ˆ ì´ë‚´ë¡œ) ì¤‘ì•™ ë¡œê·¸ ì„œë²„ë¡œ ì „ì†¡ëœë‹¤.
4. ì¼ì •ê¸°ê°„ ë¶„ì„ìš© íˆ´ì— ì €ì¥ëœë‹¤. (ELK, Clickhouse ë“±)
5. ë¶„ì„ ì™„ë£Œ, í˜¹ì€ ë”ì´ìƒ í•„ìš”í•˜ì§€ ì•Šì€ ë°ì´í„°ëŠ” S3ë¡œ ì˜®ê²¨ì§„ë‹¤.
6. ê¸°ê°„ì´ ì˜¤ë˜ëœ ë°ì´í„°ë¼ë©´ S3ì—ì„œë„ ì œì¼ ì €ë ´í•œ íƒ€ì…ìœ¼ë¡œ ì˜®ê²¨ì§„ë‹¤.
7. ë²•ì , ì„œë¹„ìŠ¤ ì •ì±…ì— ë”°ë¼ ë°ì´í„°ê°€ ì‚­ì œëœë‹¤.
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì¼ë°˜ Cold DataëŠ” High-value Cold Dataì™€ ë‹¤ë¥´ê²Œ ìˆ˜ì •ì„ ë¶ˆê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ë”°ë¡œ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ì–´ì°¨í”¼ ë¡œê·¸ ë°ì´í„°ë¼ ìˆ˜ì •í•  ì¼ì´ ì—†ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ê³µí†µ-ë‚´ìš©&quot;&gt;ê³µí†µ ë‚´ìš©&lt;/h2&gt;

&lt;h3 id=&quot;jsonl&quot;&gt;JSONL&lt;/h3&gt;

&lt;p&gt;High-value Cold Data, ì¼ë°˜ Cold data ëª¨ë‘ ë³´í†µ JSONL í˜•ì‹ìœ¼ë¡œ ì €ì¥ëœë‹¤. append-only ë°©ì‹ì—ì„œ ëŒ€ë¶€ë¶„ ì“°ì¸ë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ,(ì»´ë§ˆ) ì—†ì´ ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ í•œì¤„í•œì¤„ì´ í•˜ë‚˜ì˜ jsonë°ì´í„°ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;{&quot;userId&quot;: &quot;u1&quot;, &quot;action&quot;: &quot;login&quot;, &quot;timestamp&quot;: &quot;2025-06-01T10:00:00Z&quot;}
{&quot;userId&quot;: &quot;u2&quot;, &quot;action&quot;: &quot;purchase&quot;, &quot;timestamp&quot;: &quot;2025-06-01T10:05:00Z&quot;, &quot;item&quot;: &quot;keyboard&quot;}
{&quot;userId&quot;: &quot;u1&quot;, &quot;action&quot;: &quot;logout&quot;, &quot;timestamp&quot;: &quot;2025-06-01T10:10:00Z&quot;}
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê° ì¤„ë§ˆë‹¤ í•˜ë‚˜ì˜ ë°ì´í„°ì´ê¸° ë•Œë¬¸ì— ìœ„ì—ì„œ ì„¤ëª…í•œ â€œë²„í¼ ì˜¤í”„ì…‹ + Range GET ë°©ì‹â€ì— line ê°’ì„ ì¶”ê°€í•´ì„œ ì´ìš©í•˜ê¸°ë„ í•œë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;s3-ìˆ˜ëª…-ì£¼ê¸°&quot;&gt;S3 ìˆ˜ëª… ì£¼ê¸°&lt;/h3&gt;

&lt;p&gt;S3ë„ ê°€ê²©ì´ ì²œì°¨ë§Œë³„ì´ë‹¤.&lt;br /&gt;
Standard, Standard-Infrequent Access, Archive(Glacier) ë“± ì—¬ëŸ¬ê°€ì§€ê°€ ìˆë‹¤. &lt;a href=&quot;https://aws.amazon.com/ko/s3/storage-classes/&quot;&gt;ë§í¬&lt;/a&gt;ë¡œ í•œë²ˆ í›‘ì–´ë³´ë©´ ì¢‹ë‹¤.&lt;/p&gt;
</description>
        <pubDate>Fri, 01 Mar 2024 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//cold-data</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//cold-data</guid>
        
        <category>Nest.js</category>
        
        <category>Dtabase</category>
        
        
      </item>
    
      <item>
        <title>Temporal.io ê°œë°œ/ìš´ì˜ íŒ</title>
        <description>&lt;p&gt;ë°ì´í„° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ íˆ´ë¡œ Temporalë¥¼ ìš´ì˜í•˜ë©´ì„œ ì–»ì€ íŒë“¤ì„ ì •ë¦¬í•œë‹¤. Temporalì˜ ê¸°ë³¸ì ì¸ êµ¬ì¡°ëŠ” ì•Œê³  ìˆì–´ì•¼ ì´í•´ê°€ ê°€ëŠ¥í•œ ê¸€ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;Temporalì˜ ëª©ì ì€ ì‘ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì™„ë£Œí•˜ëŠ” ê²ƒì´ë‹¤. ì´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ íŒë“¤ì´ êµ¬ì„±ëœë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;1-ì—‘í‹°ë¹„í‹°ëŠ”-ìµœëŒ€í•œ-ì‘ê²Œ-ë§Œë“ ë‹¤-í•˜ë‚˜ì˜-ì¼ë§Œ-í•˜ê²Œ-í•œë‹¤&quot;&gt;1. ì—‘í‹°ë¹„í‹°ëŠ” ìµœëŒ€í•œ ì‘ê²Œ ë§Œë“ ë‹¤. í•˜ë‚˜ì˜ ì¼ë§Œ í•˜ê²Œ í•œë‹¤.&lt;/h3&gt;
&lt;p&gt;Temporalì€ â€œì¥ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì•ˆì •ì ìœ¼ë¡œ ì™„ë£Œâ€í•˜ëŠ”ê²Œ ëª©ì ì´ë‹¤ë³´ë‹ˆ ì¬ì‹¤í–‰ í”„ë¡œì„¸ìŠ¤ê°€ ì •ë§ ì•ˆì •ì ì´ë‹¤. ì–´ë– í•œ ì¥ì• ê°€ ë°œìƒí•˜ë”ë¼ë„ ê°€ì¥ ë§ˆì§€ë§‰ì— ì—‘í‹°ë¹„í‹° ë°”ë¡œ ë‹¤ìŒë¶€í„° ì‹¤í–‰ëœë‹¤. ê·¸ë ‡ê¸°ë•Œë¬¸ì— í•˜ë‚˜ì˜ ì—‘í‹°ë¹„í‹°ê°€ í•˜ëŠ” ì¼ì´ ë§ì•„ì§„ë‹¤ë©´ ì¤‘ë³µì‹¤í–‰ë  í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 3ê°€ì§€ ì¼ì„ í•˜ëŠ” ì—‘í‹°ë¹„í‹°Aê°€ ì¡´ì¬í•  ë•Œ, ì—‘í‹°ë¹„í‹°A ì§„í–‰ ê³¼ì •ì—ì„œ 2ê°œì˜ ì¼ì„ ì™„ë£Œí•˜ê³  1ê°œì˜ ì¼ì´ ë‚¨ì•˜ì„ ë•Œ ì¥ì• ê°€ ë°œìƒí•œë‹¤ë©´ Temporalì€ ë‹¤ì‹œ ì—‘í‹°ë¹„í‹°Aë¶€í„° ì‹¤í–‰í•˜ê¸°ë•Œë¬¸ì— ì´ë¯¸ ì™„ë£Œí•œ 2ê°œì˜ ì¼ì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ê³  ë‚˜ë¨¸ì§€ í•˜ë‚˜ì˜ ì¼ì„ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;2-ì¤‘ë³µ-ì‹¤í–‰-ì—¬ë¶€ë¥¼-í™•ì¸í•˜ëŠ”-ì½”ë“œëŠ”-ìµœì†Œí™”í•œë‹¤&quot;&gt;2. ì¤‘ë³µ ì‹¤í–‰ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ëŠ” ì½”ë“œëŠ” ìµœì†Œí™”í•œë‹¤.&lt;/h3&gt;
&lt;p&gt;ì²«ë²ˆì§¸ íŒì˜ ì—°ì¥ì„ ì´ë‹¤. í•˜ë‚˜ì˜ ì—‘í‹°ë¹„í‹°ê°€ í•˜ë‚˜ì˜ ì¼ë§Œí•˜ëŠ” êµ¬ì¡°ê°€ ì•„ë‹ˆë¼ë©´ ì–´ì©”ìˆ˜ ì—†ì´ ì—‘í‹°ë¹„í‹° ë‚´ë¶€ì˜ ì‘ì—…ë“¤ì´ ì´ë¯¸ ì‹¤í–‰ëëŠ”ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•˜ê²Œ ëœë‹¤. TemporalëŠ” ìˆœì„œë¥¼ ë³´ì¥í•´ì£¼ëŠ” ê²Œ ìµœëŒ€ ì¥ì ì´ê¸°ë•Œë¬¸ì— ì—‘í‹°ë¹„í‹°ë¥¼ ìµœëŒ€í•œ ì‘ê²Œ ë§Œë“¤ì–´ ì¤‘ë³µì‹¤í–‰ í™•ì¸ ì½”ë“œë¥¼ ìµœì†Œí™”í•˜ì. ì´ê²Œ Temporal ì¥ì ì„ ê·¹ëŒ€í™”í•˜ëŠ” ì¼ì´ë‹¤. ê·¸ë¦¬ê³  â€œì¤‘ë³µí™•ì¸ì„ í•˜ëŠ” ì½”ë“œ í•˜ë‚˜ì •ë„ì•¼ ì¶”ê°€í•´ë„ ë˜ì§€ì•Šë‚˜? í•¨ìˆ˜ ì‹¤í–‰ì „ì— í•œì¤„ ì¶”ê°€í•˜ë©´ ë˜ëŠ”ê±° ì•„ë‹Œê°€?â€ ìƒê°í• ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì¤‘ë³µ í™•ì¸ ì½”ë“œê°€ í•˜ë‚˜ë‘˜ ìŒ“ì´ë‹¤ë³´ë©´ ì–´ëŠìƒˆ ì½”ë“œ ìœ ì§€ë³´ìˆ˜ê°€ í˜ë“¤ì–´ì§€ê³  ì „ì²´ íë¦„ì„ íŒŒì•…í•˜ëŠ”ê²Œ í˜ë“¤ì–´ì§„ë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¤ë§Œ ì •ë§ ì¤‘ìš”í•œ ë°ì´í„°ì—¬ì„œ íŠ¹ì •ì¡°ê±´ì—ë§Œ ë‹¨ í•œë²ˆ ì‹¤í–‰ë˜ê±°ë‚˜ ë§Œë“¤ì–´ì ¸ì•¼ í•˜ëŠ” ê²ƒì´ë¼ë©´ ì¤‘ë³µ ì½”ë“œë¥¼ ì¶”ê°€í•˜ëŠ” ê²Œ ì¢‹ë‹¤.&lt;/p&gt;

&lt;p&gt;ì¤‘ë³µ ì½”ë“œê°€ ë§ì•„ì§€ë©´ Temporalë¥¼ ì´ìš©í•˜ëŠ” ì¥ì ì´ ê±°ì˜ ì‚¬ë¼ì§„ë‹¤ê³  í• ìˆ˜ ìˆë‹¤. Kafkaë‚˜ RabbitMQë¡œ ì´ë²¤íŠ¸ í•˜ë‚˜í•˜ë‚˜ ì‹¤í–‰ì‹œí‚¤ëŠ” ê²ƒê³¼ í¬ê²Œ ë‹¤ë¥¼ ë°”ê°€ ì—†ê¸°ë•Œë¬¸ì´ë‹¤. í°ì¥ì ì´ ì—†ëŠ”ë° ìƒˆë¡œìš´ ê¸°ìˆ  ìŠ¤íƒì„ í•˜ë‚˜ ì¶”ê°€í•˜ëŠ” ê±´ í° ë‚­ë¹„ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;3-ì›Œí¬í”Œë¡œìš°ì˜-ì…ë ¥ê°’ì€-dtoë¥¼-ì´ìš©í•˜ì—¬-êµ¬ì¡°í™”-í•˜ê³ -ìˆœìˆ˜-ê°ì²´ë¡œ-ë§Œë“¤ì–´ì•¼-í•œë‹¤&quot;&gt;3. ì›Œí¬í”Œë¡œìš°ì˜ ì…ë ¥ê°’ì€ DTOë¥¼ ì´ìš©í•˜ì—¬ êµ¬ì¡°í™” í•˜ê³  ìˆœìˆ˜ ê°ì²´ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.&lt;/h3&gt;
&lt;p&gt;Temporalì˜ ì›Œí¬í”Œë¡œìš°ê°„ì˜ ë°ì´í„° ì „ë‹¬, ì—‘í‹°ë¹„í‹°ê°„ì˜ ë°ì´í„° ì „ë‹¬ì— ë°ì´í„°ë¥¼ ì§ë ¬í™”/ì—­ì§ë ¬í™”í•œë‹¤. ê·¸ë˜ì„œ ì „ë‹¬ ê°’ìœ¼ë¡œ ê°ì²´ë¥¼ ì´ìš©í•˜ë©´ ì›í•˜ëŠ”ëŒ€ë¡œ ì „ë‹¬ì´ ì•ˆë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ë©”ì„œë“œëŠ” ë‹¹ì—°íˆ ì „ë‹¬ì•ˆëœë‹¤. ì •ë§ ê°’ë§Œì„ DTOë¡œ êµ¬ì¡°í™”í•˜ì—¬ ì „ë‹¬í•´ì•¼í•œë‹¤. íŠ¹íˆë‚˜ Nest.jsì—ì„œ ì´ìš©í•˜ëŠ” ë°ì½”ë ˆì´í„°ë“¤ì„ ì´ìš©í•˜ë©´ ì˜ë„í•œëŒ€ë¡œ ì‘ë™í•˜ì§€ì•Šê¸°ë•Œë¬¸ì— ì´ìš©í•˜ì§€ì•Šì•„ì•¼í•œë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;4-ì›Œí¬í”Œë¡œìš°-ì²´ì¸ì„-ë§Œë“ ë‹¤ë©´-ë‹¨ë°©í–¥ìœ¼ë¡œ-êµ¬ì¡°í™”í•˜ëŠ”ê²Œ-í¸í•˜ë‹¤&quot;&gt;4. ì›Œí¬í”Œë¡œìš° ì²´ì¸ì„ ë§Œë“ ë‹¤ë©´ ë‹¨ë°©í–¥ìœ¼ë¡œ êµ¬ì¡°í™”í•˜ëŠ”ê²Œ í¸í•˜ë‹¤.&lt;/h3&gt;
&lt;p&gt;ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë‹¤ë³´ë©´ ì›Œí¬í”Œë¡œìš°ê°€ ë‹¤ë¥¸ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ê°€ ë§Œë“¤ì–´ì§€ê²Œ ëœë‹¤. ê¸°ëˆ™ ì¬í™œìš©ì´ ê°€ëŠ¥í•´ì ¸ì„œ ì¢‹ê¸´í•˜ì§€ë§Œ ë§Œë“¤ë‹¤ë³´ë©´ ìˆœí™˜ì ìœ¼ë¡œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ê°€ ìƒê¸°ê²Œ ëœë‹¤. ì•Œë§ì€ ìƒí™©ì— ì²´ì¸ì„ ëŠì–´ë‚¼ìˆ˜ë§Œ ìˆë‹¤ë©´ ë¬¸ì œê°€ ë˜ì§€ì•Šì§€ë§Œ, ì´ ë˜í•œ ìœ ì§€ë³´ìˆ˜ë¥¼ ì–´ë µê²Œ ë§Œë“¤ê¸°ë•Œë¬¸ì— ì§€ì–‘í•˜ëŠ”ê²Œ ì¢‹ë‹¤. ì›Œí¬í”Œë¡œìš° ì²´ì¸ì´ í•„ìš”í•˜ë‹¤ë©´ í•˜ë‚˜ì˜ ë©”ì¸ ì›Œí¬í”Œë¡œìš°ë¥¼ ë‘ê³  í•´ë‹¹ ë©”ì¸ ì›Œí¬í”Œë¡œìš°ê°€ ì„œë¸Œ ì›Œí¬í”Œë¡œìš°ë“¤ì„ ì‹¤í–‰í•˜ëŠ” êµ¬ì¡°ë¡œ ì§œëŠ”ê²Œ í›¨ì”¬ ìœ ì§€ë³´ìˆ˜ì— í¸ë¦¬í•˜ë‹¤.
ê·¸ë¦¬ê³  ì¬ê·€ì ìœ¼ë¡œ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í•´ì•¼í•  ë•Œê°€ ìˆë‹¤. ê·¸ëŸ´ ë•ŒëŠ” ë‚´ ì›Œí¬í”Œë¡œìš°ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•˜ëŠ” ê²ƒë³´ë‹¤ whileë¬¸ìœ¼ë¡œ ì‹¤í–‰í•˜ëŠ”ê²Œ ë” ëª¨ë‹ˆí„°ë§í•˜ê¸° í¸í•˜ë‹¤(ì´ê±´ ê°œì¸ë§ˆë‹¤ ë‹¤ë¥¼ìˆ˜ ìˆìœ¼ë‹ˆ ë§Œë“¤ì–´ë³´ë©´ì„œ ë³¸ì¸ì˜ ë°©ì‹ì„ ì°¾ëŠ”ê²Œ ì¢‹ì„ë“¯í•¨.)&lt;/p&gt;

&lt;h3 id=&quot;5-ì›Œí¬í”Œë¡œìš°-ì½”ë“œë¥¼-êµ¬ì„±í• -ë•Œ-ì—‘í‹°ë¹„í‹°-ì‹¤í–‰ì´-ë¶„ê¸°ë˜ë©´-ì—ëŸ¬ê°€-ë°œìƒí•œë‹¤&quot;&gt;5. ì›Œí¬í”Œë¡œìš° ì½”ë“œë¥¼ êµ¬ì„±í•  ë•Œ ì—‘í‹°ë¹„í‹° ì‹¤í–‰ì´ ë¶„ê¸°ë˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.&lt;/h3&gt;
&lt;p&gt;ì²˜ìŒ ë§Œë“¤ ë•Œ ê²ªê²Œ ë˜ëŠ” ë¬¸ì œë¼ ë¯¸ë¦¬ ì•Œë©´ ì½”ë“œë¥¼ ë°”ê¾¸ì§€ì•Šì„ìˆ˜ ìˆì–´ì„œ ì¢‹ì§€ì•Šì„ê¹Œí•´ì„œ ì ëŠ”ë‹¤.&lt;/p&gt;

&lt;p&gt;Temporalì€ â€œdeterminismâ€ì´ë€ ë‹¨ì–´ë¥¼ ê°•ì¡°í•œë‹¤. â€œê²°ì •ì„±â€ì´ë¼ê³  í•˜ëŠ”ë° â€œê°™ì€ ì…ë ¥ì´ ì£¼ì–´ì¡Œì„ ë•Œ í•­ìƒ ë™ì¼í•œ ì‹¤í–‰ íë¦„ê³¼ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ” ì„±ì§ˆì„ ë§í•©ë‹ˆë‹¤.â€ ì´ë¼ê³  í•œë‹¤. ê·¸ë˜ì„œ ê¼­ ê°™ì€ ìˆœì„œë¡œ ì‹¤í–‰ë˜ì–´ì•¼ í•˜ê³  ì›Œí¬í”Œë¡œìš°ì•ˆì—ì„œëŠ” ì¡°ê±´ì— ë”°ë¼ ë¶„ê¸°ë¡œ ë‹¤ë¥¸ ì‹¤í–‰ íë¦„ì´ ìƒê¸°ë©´ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SendNotificationWorkflow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findUserToSendNotification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;someCondition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sendEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì¡°ê±´ì— ë”°ë¼ ì‹¤í–‰&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;logToSlack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë˜ëŠ” ì´ìª½ ì‹¤í–‰&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì›Œí¬í”Œë¡œìš° ì½”ë“œì—ì„œëŠ” ìµœëŒ€í•œ ê°„ê²°í•˜ê²Œ ì—‘í‹°ë¹„í‹°ë¥¼ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰í•˜ëŠ” ì½”ë“œë§Œ ë‚¨ê²¨ë†“ì•„ì•¼í•œë‹¤. ë¶„ê¸°ëŠ” ì—‘í‹°ë¹„í‹°ì—ì„œ í•œë‹¤. ì•„ë˜ ì½”ë“œ í™•ì¸.&lt;/p&gt;

&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SendNotificationWorkflow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findUserToSendNotification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;someCondition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  
  &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SendNotificationActivity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SendNotificationActivity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;something&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sendEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì¡°ê±´ì— ë”°ë¼ ì‹¤í–‰&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;logToSlack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë˜ëŠ” ì´ìª½ ì‹¤í–‰&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
</description>
        <pubDate>Sun, 25 Feb 2024 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//temporal-tips</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//temporal-tips</guid>
        
        <category>Temporal.io</category>
        
        <category>Nest.js</category>
        
        
      </item>
    
      <item>
        <title>ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€ [epoll] - ì„œë²„ê°€ ì‘ë™í•˜ëŠ” íë¦„ 2</title>
        <description>&lt;h4 id=&quot;ì‹œë¦¬ì¦ˆ-ëª©ì°¨&quot;&gt;ì‹œë¦¬ì¦ˆ ëª©ì°¨&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://moonqqqq.github.io/before-arriving-server-server-series-1&quot;&gt;1.ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€ [ìš´ì˜ì²´ì œì—ì„œ]&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://moonqqqq.github.io/from-the-libuv-server-series-2&quot;&gt;&lt;u&gt;(í˜„ì¬ê¸€) 2.ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€ [libuv - epoll]&lt;/u&gt;&lt;/a&gt; &lt;br /&gt;
3.ì„œë²„ê°€ ë°›ì€ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€. Node.jsë§Œì˜ ë°©ì‹ì´ ì–´ë–¤ì§€ ì •ë¦¬í•œë‹¤. &lt;br /&gt;
4.Node.jsë§Œì˜ ë°©ì‹ì„ í•˜ë‚˜í•˜ë‚˜ ì¡°ê¸ˆ ë” ë””í…Œì¼í•˜ê²Œ - Event loop, Libuv, V8, JS&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;ì´ì „ ë‹¨ê³„ì—ì„œ ë°ì´í„°ê°€ â€œreceive socket bufferâ€ì— ë„ì°©í–ˆë‹¤. ì´ì œ Node.js ì„œë²„ê°€ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ ì²˜ë¦¬í•´ì•¼í•œë‹¤. ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¼ì„ í•´ì£¼ëŠ” ê²ƒì´ libuvì˜ í•œê°€ì§€ ì±…ì„ ì¤‘ í•˜ë‚˜ì´ë‹¤. (ê°€ì ¸ì˜¤ëŠ” ì¼ì´ë¼ê³  í•˜ê¸°ë³´ë‹¨ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ì˜ ì—°ê²°ì¸ ì†Œì¼“ë“¤ì„ ê´€ë¦¬í•´ì£¼ëŠ” ì¼)&lt;/p&gt;

&lt;p&gt;ì¼ë‹¨ ì„œë²„ë¡œ í–¥í•˜ëŠ” ëª¨ë“  ì—°ê²°ì€ í•˜ë‚˜ì˜ ì†Œì¼“ìœ¼ë¡œ ê°€ëŠ”ê²Œ ì•„ë‹ˆë‹¤. ì—¬ëŸ¬ í´ë¼ì´ì–¸íŠ¸ì™€ ì—°ê²°ë˜ê¸°ë•Œë¬¸ì— ì—°ê²°ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ìˆ˜ë§Œí¼ ì†Œì¼“ì´ ìƒê¸°ê²Œ ëœë‹¤. ì´ë ‡ê²Œ ë˜ë©´ ê´€ë¦¬í•´ì•¼í•˜ëŠ” socketì´ ê½¤ë‚˜ ë§ì•„ì§€ëŠ”ë°. ì´ë¥¼ ê´€ë¦¬í•˜ëŠ” ë§¤ì»¤ë‹ˆì¦˜ ì¢…ë¥˜ì— ë”°ë¼ IO ì„±ëŠ¥ì˜ ì°¨ì´ê°€ ìˆë‹¤. ê³ ì „ì ì¸ ë°©ë²•(select, poll)ë³´ë‹¤ libuvê°€ íƒì›”íˆ ì¢‹ë‹¤. (select, poll, libuv ë¹„êµëŠ” ê¸€ ë§ˆì§€ë§‰ì—..)&lt;/p&gt;

&lt;p&gt;socketì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì€ libuvì˜ ì±…ì„ì´ë¼ê³  í–ˆë‹¤. libuvì•ˆì— ì¡´ì¬í•˜ëŠ” OSë³„ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ ì‘ë™í•œë‹¤. linuxëŠ” epoll, windowsëŠ” kqueueê°€ ìˆë‹¤. ìš°ë¦¬ì˜ ì„œë²„ëŠ” ëŒ€ë¶€ë¶„ ë¦¬ëˆ…ìŠ¤ì—ì„œ ëŒì•„ê°€ë‹ˆ â€œepollâ€ì„ ì¤‘ì‹¬ìœ¼ë¡œ íŒŒì•…í•´ë³´ì.&lt;/p&gt;

&lt;p&gt;epollì€ 3ê°€ì§€ í•¨ìˆ˜ê°€ í•µì‹¬ì´ë‹¤. &lt;strong&gt;â€œepoll_create()â€, â€œepoll_ctl()â€, â€œepoll_wait()â€&lt;/strong&gt;â€.&lt;/p&gt;

&lt;h3 id=&quot;epoll_create&quot;&gt;epoll_create()&lt;/h3&gt;
&lt;p&gt;epoll_create()ëŠ” ë‘ê°€ì§€ ìë£Œêµ¬ì¡°ë¥¼ ë§Œë“ ë‹¤. &lt;u&gt;ì²«ë²ˆì§¸ ìë£Œêµ¬ì¡°ëŠ” &quot;ì—°ê²°ëœ ì „ì²´ fd ëª©ë¡&quot;ì„ ê°€ì§„ë‹¤.(**Interest list**) ë‘ë²ˆì§¸ ìë£Œêµ¬ì¡°ëŠ” &quot;ìƒˆë¡œìš´ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ fdëª©ë¡&quot;ì„ ê°€ì§„ë‹¤.(**ready list**)&lt;/u&gt; node.js ì„œë²„ê°€ ì‹¤í–‰ëì„ ë•Œ epoll_create() ë˜í•œ ì‹¤í–‰ëœë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;epoll_ctl&quot;&gt;epoll_ctl()&lt;/h3&gt;
&lt;p&gt;ìƒˆë¡œìš´ ì—°ê²°ì´ ë“¤ì–´ì˜¤ë©´ &lt;strong&gt;&lt;em&gt;epoll_ctl()&lt;/em&gt;&lt;/strong&gt; í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ìƒˆë¡œìš´ FDë¥¼ Interest listì— ë“±ë¡í•œë‹¤. ì´ ë“±ë¡ ê³¼ì •ì—ì„œ &lt;em&gt;ì–´ë–¤ ì‘ì—…ì— ëŒ€í•´ ê°ì§€&lt;/em&gt;í• ê±´ì§€ë„ ëª…ì‹œí•´ì£¼ì–´ì•¼ í•œë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ìƒˆë¡œìš´ ì—°ê²°ì´ ë“¤ì–´ì™”ì„ ë•ŒëŠ” EPOLLIN ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•˜ë„ë¡ ì„¤ì •í•´ë‘”ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¤ëŠ” ì…‹íŒ…ì´ ì™„ë£Œëœ ìƒíƒœì´ë‹¤. ì´ì œ Interest listì— ë“±ë¡ëœ FDì—ì„œ ê°ì§€ì¤‘ì¸ ì´ë²¤íŠ¸ ì¤‘ ì´ë²¤íŠ¸ê°€ í•˜ë‚˜ë¼ë„ ë°œìƒí•œë‹¤ë©´ ready listì— í•´ë‹¹ FDê°€ ì¶”ê°€ëœë‹¤. event_crl() í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ì´ë²¤íŠ¸ í•„í„°ë§ í”„ë¡œì„¸ìŠ¤ë¥¼ ì¶”ê°€í•œ ê²ƒì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;epoll_wait&quot;&gt;epoll_wait()&lt;/h3&gt;
&lt;p&gt;ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ epoll_wait() í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ ready listì— ìˆëŠ” FDë“¤ì„ event loopì— ì „ë‹¬í•œë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;epoll_wait-ë””í…Œì¼&quot;&gt;epoll_wait() ë””í…Œì¼&lt;/h4&gt;
&lt;p&gt;epoll_create()ì™€ epoll_ctl()ì€ ìš´ì˜ì²´ì œë‹¨ì—ì„œ ì•Œì•„ì„œ ì‹¤í–‰í•˜ì§€ë§Œ epoll_wait()ëŠ” event loop(libuv)ë‹¨ì—ì„œ ì‹¤í–‰ëœë‹¤. event loopì˜ &lt;strong&gt;poll phase&lt;/strong&gt;ì—ì„œ IO ê´€ë ¨ëœ ì´ë²¤íŠ¸ë“¤ì„ ì²˜ë¦¬í•˜ëŠ”ê±´ ì´ë¯¸ ì•Œê³ ìˆì„ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‹ˆ ë‹¹ì—°íˆ ìƒˆë¡œìš´ IO ë˜í•œ poll phaseì—ì„œ ì±…ì„ì§„ë‹¤.&lt;/p&gt;

&lt;p&gt;poll phaseë‚´ì—ì„œ epoll_wait() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ì—¬ ìƒˆë¡œìš´ IOê°€ ë°œìƒí•œ fdëª©ë¡ì„ ê°€ì ¸ì˜¨ë‹¤. í•˜ì§€ë§Œ ready listì— ì–´ë– í•œ fdë„ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìƒˆë¡œìš´ IOê°€ ìƒê¸¸ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.(ê·¸ë˜ì„œ ì´ë¦„ì— â€œwaitâ€ì´ ë¶™ì–´ìˆë‹¤.) ë‹¤ë§Œ ì´ ê¸°ë‹¤ë¦¬ëŠ” ì¡°ê±´ì€ ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§„ë‹¤. ì•„ë˜ event loop ì½”ë“œ(uv_run())ì„ ë³´ë©´ ë‹¤ë¥¸ phaseë“¤ê³¼ ë‹¤ë¥´ê²Œ uv__io_poll() í•¨ìˆ˜ë§Œ ë‘ë²ˆì§¸ ì¸ìë¡œ timeoutì„ ê°€ì§€ê³  ìˆëŠ”ê±¸ ì•Œìˆ˜ ìˆë‹¤. ì´ timeoutì„ í†µí•´ ì–¼ë§ˆë™ì•ˆ ìƒˆë¡œìš´ IOë¥¼ ê¸°ë‹¤ë¦´ì§€ë¥¼ ì •í•œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;// core.c&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stop_flag&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;can_sleep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uv__queue_empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pending_queue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;uv__queue_empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idle_handles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;uv__run_pending&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;uv__run_idle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;uv__run_prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UV_RUN_ONCE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;can_sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UV_RUN_DEFAULT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;uv__backend_timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;uv__metrics_inc_loop_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;uv__io_poll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë‘ë²ˆì§¸ ì¸ìë¡œ íƒ€ì…ì•„ì›ƒ ê°’ ì¡´ì¬.&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;timeoutì´ ì •í•´ì§€ëŠ” ì¡°ê±´ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;timeout = 0: poll phase ì´ì „ phaseë“¤ì— ì‹¤í–‰í•  ì‘ì—…ì´ ìˆì„ ë•Œ. ê¸°ë‹¤ë¦¬ì§€ ì•Šê³  ë°”ë¡œ ì‘ë‹µí•œë‹¤.&lt;/li&gt;
  &lt;li&gt;timeout &amp;gt; 0: ì´ì „ phaseë“¤ ì¤‘ timerì—ë§Œ ì‘ì—…ì´ ìˆì„ ë•Œ ì œì¼ ì„ë°•í•œ ì‘ì—…ì„ ê¸°ì¤€ìœ¼ë¡œ timeoutì´ ì •í•´ì§„ë‹¤.&lt;/li&gt;
  &lt;li&gt;timeout &amp;lt; 0: ì´ì „ phaseë“¤ ì¤‘ ì–´ë– í•œ ê³³ì—ì„œë„ ì§„í–‰í•´ì•¼í•  ì‘ì—…ì´ ì—†ì„ ë•ŒëŠ” ë¬´ê¸°í•œ ê¸°ë‹¤ë¦°ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;ì™œ-ì´ì „-phaseë“¤ë§Œ-ê¸°ì¤€ìœ¼ë¡œ-ì¡ëŠ”ì§€&quot;&gt;ì™œ ì´ì „ phaseë“¤ë§Œ ê¸°ì¤€ìœ¼ë¡œ ì¡ëŠ”ì§€?&lt;/h4&gt;
&lt;p&gt;Event loopì€ ì‘ì—… ì¢…ë¥˜ì— ë”°ë¼ phase ë³„ë¡œ ë¶„ë¦¬í•´ë’€ë‹¤. ê·¸ë¦¬ê³  ì •í•´ì§„ ìˆœì„œì— ë”°ë¼ ë°˜ë³µë˜ë©° ì‹¤í–‰ëœë‹¤. &lt;strong&gt;ì´ ìˆœì„œ ìì²´ê°€ ì„œë²„ ê¸°ëŠ¥ì˜ ìš°ì„ ìˆœìœ„ì™€ ê°™ë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Timers - í”„ë¡œê·¸ë¨ì´ ê³„íš ì¡ì•„ë‘” ì‘ì—…&lt;/li&gt;
  &lt;li&gt;Pending Callbacks - ì´ì „ iterationì—ì„œ ë¯¸ë¤„ì§„ ì‘ì—…&lt;/li&gt;
  &lt;li&gt;Idle, prepare - node ì‹œìŠ¤í…œ ë‚´ë¶€ ì‘ì—… ì²˜ë¦¬&lt;/li&gt;
  &lt;li&gt;Poll - IO ì²˜ë¦¬&lt;/li&gt;
  &lt;li&gt;Check (setImmediate callbacks) - Poll phase ë‹¤ìŒì— ì‹¤í–‰ë¼ì•¼í•  ì‘ì—…&lt;/li&gt;
  &lt;li&gt;Close Callbacks - ë§ˆë¬´ë¦¬ëœ ì‘ì—…ì— ëŒ€í•œ ì •ë¦¬ ì‘ì—…&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;poll-phase-ì´ì „&quot;&gt;poll phase ì´ì „&lt;/h4&gt;
&lt;p&gt;1~4ë²ˆì€ í•œë°”í€´ ì „ iterationì—ì„œ ë°œìƒí•œ IOë¥¼ ì²˜ë¦¬í•˜ëŠ” ëª©ì ì„ ê°€ì§€ê³  ìˆë‹¤. ë¨¼ì € ë°›ì€ IOë¶€í„° ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬í•œë’¤ ìƒˆë¡œìš´ IOë¥¼ ë°›ë„ë¡ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ IOë¥¼ ë°›ëŠ” ì‹œê°„(timeout)ì„ 0ìœ¼ë¡œ ì„¤ì •í•´ë†“ëŠ”ë‹¤. timeoutì´ 0ë³´ë‹¤ ì»¤ì„œ ê¸°ë‹¤ë¦¬ê²Œëœë‹¤ë©´ ì´ì „ IOì— ëŒ€í•œ ì‘ì—…ì´ ê·¸ë§Œí¼ ë©ˆì¶°ì§€ê²Œ ë˜ê¸°ë•Œë¬¸ì´ë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;poll-phase-ì´í›„&quot;&gt;poll phase ì´í›„&lt;/h4&gt;
&lt;p&gt;ë°˜ë©´ì— â€œ5.check phaseâ€ëŠ” setImmediate ì½œë°±ë“¤ì„ ì²˜ë¦¬í•œë‹¤. ê·¸ëŸ°ë° ì´ setImmediate ìì²´ê°€ poll phase ë°”ë¡œ ë’¤ì— ì‹¤í–‰ë˜ë„ë¡ ì„¤ê³„ëœ í•¨ìˆ˜ë‹¤. ë§Œë“¤ì–´ì§„ ì´ìœ ê°€ ê·¸ëŸ¬ë‹ˆ ë‹¹ì—°íˆ epoll_wait() timeoutì˜ ì¡°ê±´ì— ë“¤ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤. (setImmediateë¼ëŠ” ì´ë¦„ ìì²´ê°€ ì˜ëª»ì§€ì–´ì§„ê²Œ ì•„ë‹Œê°€ ì‹¶ë‹¤. ì²˜ìŒì—” Immediateì¸ë° ì™œ poll ë’¤ì— ì‘ë™í•˜ëŠ”ì§€ ë‚©ë“ì´ ì•ˆëë‹¤.)&lt;/p&gt;

&lt;p&gt;â€œ6.close phaseâ€ëŠ” ì™„ë£Œëœ ì‘ì—…ì˜ ë’·ì‘ì—…ì´ê¸° ë•Œë¬¸ì— êµ³ì´ ë¹¨ë¦¬ ì²˜ë¦¬í•  í•„ìš”ê°€ ì—†ë‹¤. ê·¸ëŸ¬ë‹ˆ ì´ ë˜í•œ timeoutì— ì¡°ê±´ì— ë“¤ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ìš°ë¦¬ê°€ ë§Œë“œëŠ” ì„œë²„ë¼ëŠ” ê²ƒ ìì²´ê°€ Inputì„ ë°›ì•„ ì²˜ë¦¬í•˜ëŠ” Outputì„ ì „ë‹¬í•´ì£¼ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— Inputì„ ë°›ëŠ” ì „ëµì„ ì˜ì§œì•¼í•œë‹¤. Inputë°›ëŠ” ì‘ì—…ì„ ê³„ì† ì‹¤í–‰í•´ì£¼ëŠ” ê²ƒì€ ë‹¹ì—°íˆ ë‹¤ë¥¸ ì‘ì—…ì„ ëª»í•˜ê²Œ ë˜ë¯€ë¡œ ë¶ˆê°€í•˜ë‹¤. ë°˜ë©´ ë°›ì€ inputì„ ì²˜ë¦¬í•˜ëŠ”ë° ì‹œê°„ì„ ë§ì´ ìŸê³  ìƒˆë¡œìš´ inputì„ ë°›ëŠ” ì‹œê°„ì´ ì ë‹¤ë©´ ì´ê²ƒ ë˜í•œ ë¬¸ì œë‹¤. inputë°›ëŠ” ì‹œê°„ê³¼ ë°›ì€ inputì„ ì²˜ë¦¬í•˜ëŠ” ì‹œê°„ì´ ì ì ˆíˆ ê· í˜•ì„ ì´ë£¨ì–´ì•¼í•œë‹¤. Node.jsì—ì„œëŠ” ì´ &lt;strong&gt;timeout&lt;/strong&gt;ì„ í†µí•´ ê· í˜•ì„ ë§ì¶˜ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;epoll_wait-ìœ¼ë¡œ-ë°›ì•„ì˜¨-ë°ì´í„°ëŠ”&quot;&gt;epoll_wait() ìœ¼ë¡œ ë°›ì•„ì˜¨ ë°ì´í„°ëŠ”.&lt;/h2&gt;
&lt;p&gt;epoll_wait()ìœ¼ë¡œ ìƒˆë¡œìš´ IOë¥¼ ê°€ì§„ fdëª©ë¡ì„ ê°€ì ¸ì™”ë‹¤. ì´ ëª©ë¡ì„ ìˆœíšŒí•˜ë©´ì„œ ì½œë°±ì„ ì‹¤í–‰ì‹œí‚¨ë‹¤. ì´ ì½œë°±ì€ epoll_ctl()ë¥¼ ì‹¤í–‰ì‹œí‚¬ ë•Œ ê°™ì´ ë“±ë¡í•´ë†“ì€ ì½œë°±ì´ë‹¤. ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ê±°ë‚˜ ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì½œë°±ì´ ì‹¤í–‰ëœë‹¤.
Node.jsì—ì„œ socket.on(â€˜dataâ€™, callback); ì²˜ëŸ¼ ì‹¤í–‰ëœë‹¤ê³  ë³´ë©´ ê°„ë‹¨í•˜ë‹¤.
&lt;strong&gt;&lt;em&gt;ì£¼ì˜í•´ì•¼ í•  ì ì€ ì´ ì½œë°±ë“¤ì€ poll phaseì˜ queueì— ë“¤ì–´ê°€ê±°ë‚˜ ë‚˜ì˜¤ëŠ” ì‘ì—…ì—†ì´ epoll_wait()ì—ì„œ ì‘ë‹µë°›ìë§ˆì ë°”ë¡œ ì‹¤í–‰ëœë‹¤.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì´ì œ libuvì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ê°€ http requestë¡œ ë³€í™”í•  ì°¨ë¡€ë‹¤. ì´ê±´ ë‹¤ìŒê¸€ì—ì„œ ì´ì•¼ê¸°í•˜ì.&lt;/p&gt;

&lt;h3 id=&quot;selectpoll-vs-epoll&quot;&gt;Select/Poll VS Epoll&lt;/h3&gt;
&lt;p&gt;ëë‚´ê¸° ì „ì— ê³ ì „ì ì¸ ë°©ì‹(select, poll)ê³¼ epollì˜ ì°¨ì´ì ì„ ê°„ë‹¨íˆ ì •ë¦¬í•´ë³´ê³  ê°€ì.
select, pollì˜ ë°©ì‹ì€ ì„œë²„ê°€ ì •ê¸°ì ì¸ ì‹œê°„ë§ˆë‹¤ ì„œë²„ì™€ ì—°ê²°ëœ socketë“¤ì— ë³€í™”ê°€ ìˆëŠ”ì§€ í•˜ë‚˜í•˜ë‚˜ í™•ì¸í•œë‹¤. socketì´ 10000ê°œë¼ë©´ ì •ê¸°ì ì¸ ì‹œê°„ë§ˆë‹¤ 10000ê°œë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì´ë‹¤. ë°˜ë©´ì— epollì€ ì†Œì¼“ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ìë£Œêµ¬ì¡°ë¥¼ ë”°ë¡œ ë§Œë“¤ê³ . ì†Œì¼“ì— ë“¤ì–´ì˜¤ëŠ” ì´ë²¤íŠ¸ë“¤ì„ ê²€ì‚¬í•œë‹¤. libuvì— ì „ë‹¬í•´ì¤˜ì•¼í•˜ëŠ” ì´ë²¤íŠ¸ì¸ì§€ ì•„ë‹Œì§€. ë§ë‹¤ë©´ ê´€ë¦¬ ìë£Œêµ¬ì¡°ì— í•´ë‹¹ fdë¥¼ ì ì–´ë‘”ë‹¤. ê·¸ë¦¬ê³  ì •ê¸°ì ìœ¼ë¡œ ì„œë²„ê°€ ìƒˆë¡œìš´ ì´ë²¤íŠ¸ì— ëŒ€í•´ ìš”ì²­í•˜ë©´ ê·¸ ë°ì´í„°ë§Œ ì „ë‹¬í•œë‹¤. ë‹¤ë¥¸ ê²€ì‚¬ ê³¼ì •ì€ ì—†ë‹¤. ì´ëŸ¬ë‹ˆ íšê¸°ì ìœ¼ë¡œ fd ê²€ì‚¬ íšŸìˆ˜ê°€ ì¤„ì–´ë“¤ìˆ˜ ë°–ì— ì—†ë‹¤. ì²˜ìŒì—” ì†Œì¼“ì„ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ë¥¼ ë§Œë“¤ê³ . ëª¨ë“  ì´ë²¤íŠ¸ë¥¼ í•„í„°ë§í•˜ëŠ” ê²ƒë„ ë¶€í•˜ê°€ ë“¤ì§€ ì•Šì„ê¹Œ ìƒê°í–ˆì§€ë§Œ í•„í„°ë§ í•˜ë‚˜ ë„£ëŠ”ê²ƒì´ ê·¸ë ‡ê²Œ í° ë¶€í•˜ê°€ ë“œëŠ” ì¼ì´ ì•„ë‹ˆë¼ì„œ ì›”ë“±íˆ ì„±ëŠ¥ì´ ì¢‹ì•„ì§ˆìˆ˜ ë°–ì— ì—†ë‹¤ëŠ” ê±¸ ë°›ì•„ë“¤ì˜€ë‹¤.&lt;/p&gt;

&lt;p&gt;í•„í„°ë§ ê³¼ì •ì´ ë¶€í•˜ê°€ ë˜ì§€ëŠ” ì•Šì„ê¹Œ ìƒê°í•´ë´¤ì§€ë§Œ ë§¤ë²ˆ ëª¨ë“  fdë¥¼ í™•ì¸í•´ì„œ ê¹Œë³´ëŠ” ê²ƒì— ë¹„í•˜ë©´ ë¹„êµí• ìˆ˜ ì—†ì„ ì •ë„ë¡œ ë¶€í•˜ê°€ ì‘ë‹¤.&lt;/p&gt;
</description>
        <pubDate>Tue, 23 Jan 2024 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//from-the-libuv-server-series-2</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//from-the-libuv-server-series-2</guid>
        
        <category>node.js</category>
        
        <category>TCP/IP</category>
        
        <category>OS</category>
        
        
      </item>
    
      <item>
        <title>API ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€ (ìš´ì˜ì²´ì œì—ì„œ) - ì„œë²„ê°€ ì‘ë™í•˜ëŠ” íë¦„ 1</title>
        <description>&lt;h4 id=&quot;ì‹œë¦¬ì¦ˆ-ëª©ì°¨&quot;&gt;ì‹œë¦¬ì¦ˆ ëª©ì°¨&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://moonqqqq.github.io/before-arriving-server-server-series-1&quot;&gt;&lt;u&gt;(í˜„ì¬ê¸€) 1.ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€ [ìš´ì˜ì²´ì œì—ì„œ]&lt;/u&gt;&lt;/a&gt; &lt;br /&gt;
&lt;a href=&quot;https://moonqqqq.github.io/from-the-libuv-server-series-2&quot;&gt;2.ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€ [libuv]&lt;/a&gt; &lt;br /&gt;
3.ì„œë²„ê°€ ë°›ì€ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€. Node.jsë§Œì˜ ë°©ì‹ì´ ì–´ë–¤ì§€ ì •ë¦¬í•œë‹¤. &lt;br /&gt;
4.Node.jsë§Œì˜ ë°©ì‹ì„ í•˜ë‚˜í•˜ë‚˜ ì¡°ê¸ˆ ë” ë””í…Œì¼í•˜ê²Œ - Event loop, Libuv, V8, JS&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;api-ì„œë²„ê°€-ë°ì´í„°ë¥¼-ë°›ê¸°ê¹Œì§€&quot;&gt;API ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ê¹Œì§€.&lt;/h1&gt;
&lt;p&gt;ìš°ë¦¬ê°€ ë§Œë“  Node.js ì„œë²„ê°€ ë°ì´í„°ë¥¼ ë°›ê¸°ìœ„í•´ì„  í¬íŠ¸ ë²ˆí˜¸(ex. 3000, 8080)ì™€ ë°”ì¸ë”©ë˜ì–´ì•¼í•œë‹¤. ê·¸ë˜ì•¼ë§Œ ìš´ì˜ì²´ì œê°€ node.js ì„œë²„ í”„ë¡œê·¸ë¨ì´ ì–´ë”” ìˆëŠ”ì§€ ì•Œìˆ˜ìˆê³  ë°ì´í„°ë¥¼ ë³´ë‚¼ìˆ˜ ìˆë‹¤.
ì´ì œ í¬íŠ¸ì™€ ì—°ê²°ëœ ìƒíƒœë¡œ ì„œë²„ê°€ &lt;strong&gt;ì‹¤í–‰&lt;/strong&gt;ì¤‘ì´ë¼ë©´ ì„œë²„ì—ì„œëŠ” ë°ì´í„°ë¥¼ ë°›ì„ ì¤€ë¹„ê°€ ëë‹¤.&lt;/p&gt;

&lt;p&gt;ì†¡ì‹ ìì¸¡ì„ ì´ì•¼ê¸°í•´ë³´ì.
ì†¡ì‹ ì(í´ë¼ì´ì–¸íŠ¸)ëŠ” ë°ì´í„°ë¥¼ ë³´ë‚´ê¸°ì „ì— ì„œë²„ì™€ ì—°ê²°ì„ ë§Œë“¤ì–´ì•¼í•œë‹¤. ì´ë•Œ TCP ì—°ê²°ì´ í•„ìš”í•˜ë‹¤. TCP ì—°ê²°ì€ 3 way handeshakeë¡œ ë§Œë“¤ì–´ì§„ë‹¤. &lt;strong&gt;3 way handshakeê°€ ì™„ë£Œë˜ë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì— socketì´ ìƒê¸´ë‹¤.&lt;/strong&gt; ì´ ì†Œì¼“(socket)ì´ë¼ëŠ” ê±´ connectionì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì¦ë¹™ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ì†Œì¼“ì˜ ë‚´ìš©ë¬¼ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì–‘ì¸¡ ë„¤íŠ¸ì›Œí¬ ì •ë³´[ì†¡ì‹ ì IP, ì†¡ì‹ ì port, ìˆ˜ì‹ ì IP, ìˆ˜ì‹ ì port] 4ê°€ì§€ì´ë‹¤. ì´ ì¦ë¹™ì´ ìˆìœ¼ë©´ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¼ìˆ˜ ìˆê²Œ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ì†¡ì‹ ìê°€ ë°ì´í„°ë¥¼ ë³´ëƒˆì„ ë•Œ ìˆ˜ì‹ ìì¸¡ì—ì„œ ì†Œì¼“ì„ ê°€ì§€ê³  ìˆì§€ ì•Šì€ ìƒíƒœë¼ë©´(ì†Œì¼“ë°ì´í„°ê°€ ìœ ì‹¤ë˜ê±°ë‚˜) ì—°ê²° ë¦¬ì…‹(TCP reset) ì‘ë‹µì´ ì˜¨ë‹¤. ì´ë•Œ ì†¡ì‹ ìëŠ” ë‹¤ì‹œ 3 way handshakeì„ ì§„í–‰í•´ì•¼í•œë‹¤. ê·¸ ë’¤ ì–‘ìª½ì— ì†Œì¼“ì´ ìƒì„±ë˜ë©´ ë°ì´í„°ë¥¼ ë³´ë‚¼ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°„ì˜ ì—°ê²°ì´ í™•ë³´ë˜ë©´ ì•„ë˜ layerë“¤ì—ì„œ ë°ì´í„°ì— ì—¬ëŸ¬ê°€ì§€ ì •ë³´ë¥¼ ë§ë¶™ì¸ë‹¤. &lt;br /&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;TCP layerëŠ” ë°ì´í„° ì „ì†¡ì˜ ì•ˆì •ì„± ê´€ë ¨ ì •ë³´,&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;IP layerëŠ” ëª©ì ì§€ ipê¹Œì§€ ì˜ë„ì°©í•˜ëŠ”ë°ì— í•„ìš”í•œ ì •ë³´,&lt;br /&gt;&lt;/li&gt;
  &lt;li&gt;ë§ˆì§€ë§‰ìœ¼ë¡œ Data link layerëŠ” ëª©ì ì§€ IPì—ì„œ ì„œë²„ê°€ ì‘ë™í•˜ê³  ìˆëŠ” êµ¬ì²´ì ì¸ í•˜ë“œì›¨ì–´ ì •ë³´ë¥¼ ë‹´ë‹¹í•œë‹¤. ê·¸ë¦¬ê³  ë„¤íŠ¸ì›Œí¬ì—ì„œ ì›€ì§ì¼ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ë°ì´í„°ë¡œì˜ ë³€í™˜ê¹Œì§€ ì±…ì„ì§„ë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;TCP/IP stackì— ëŒ€í•´ ì•„ì£¼ ì§§ê²Œ ì •ë¦¬í•˜ê³  ë„˜ì–´ê°€ë³´ì. (ë””í…Œì¼ì— ëŒ€í•´ì„  ë‹¤ë¥¸ ì¢‹ì€ê¸€ë“¤ì´ ë§ë‹¤. &lt;a href=&quot;https://d2.naver.com/helloworld/47667&quot;&gt;ë„¤ì´ë²„ D2 TCP/IP ë„¤íŠ¸ì›Œí¬ ìŠ¤íƒ ì´í•´í•˜ê¸°&lt;/a&gt;)&lt;/p&gt;

&lt;h2 id=&quot;application-layer&quot;&gt;Application layer&lt;/h2&gt;
&lt;p&gt;ìš°ë¦¬ê°€ ì“°ëŠ” chrome ë“± ëª¨ë“  í”„ë¡œê·¸ë¨/ì•±ì´ applicationì´ë‹¤. application layerì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì†Œí†µí•˜ê¸°ë¡œ í•œ ë°©ì‹ì— ë§ê²Œ ë³´ë‚´ëŠ” ë°ì´í„°ë¥¼ ë§ì¶°ì£¼ëŠ” ì—­í• ì„ í•œë‹¤. http, ftpë“±ì´ ìˆëŠ”ë° ì´ë“¤ ëª¨ë‘ ì»¤ë®¤í‹°ì¼€ì´ì…˜í•˜ëŠ” ë°©ì‹ì´ ë‹¤ë¥´ë¯€ë¡œ ê°œë³„ êµ¬ì¡°ì— ë§ì¶”ëŠ” ì‘ì—…ì´ë‹¤. Node.jsì—ì„œëŠ” http libraryê°€ ì´ ì¼ì„ í•´ì¤€ë‹¤.&lt;/p&gt;

&lt;p&gt;ë°ì´í„°ë¥¼ ê·œì•½ì— ë§ê²Œ ë§Œë“¤ê³  ë‚˜ë©´ ìœ„ì—ì„œ ì–˜ê¸°í•œ &lt;strong&gt;socket&lt;/strong&gt;ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚¸ë‹¤. ì†Œì¼“ì˜ &lt;strong&gt;â€œwrite socket bufferâ€&lt;/strong&gt; ìœ¼ë¡œ ë³´ë‚´ê²Œ ë˜ëŠ”ë° ì´ë•Œ system callì„ ì „ì†¡ì´ ì´ë£¨ì–´ì§„ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;tcp-layer&quot;&gt;TCP layer&lt;/h2&gt;
&lt;p&gt;write socket bufferì— ë°ì´í„°ê°€ ì˜¤ê²Œ ë˜ë©´ ì°¨ë¡€ì°¨ë¡€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë¶™ì—¬ì¤€ë‹¤. TCP layerëŠ” ë°ì´í„° ì „ì†¡ì˜ ì•ˆì •ì„±ì„ ë†’ì—¬ì£¼ëŠ” ê²ƒì´ ëª©ì ì´ë¼ê³  í–ˆë‹¤. ê·¸ë˜ì„œ ë¶™ì—¬ì£¼ëŠ” ë°ì´í„°ë“¤ì´ â€œìˆœì„œ ë°ì´í„°â€, â€œí™•ì¸ ì‘ë‹µ ë°ì´í„°â€, â€œí¬íŠ¸ ë²ˆí˜¸â€ë“±ì´ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ìˆœì„œ-ë°ì´í„°&quot;&gt;ìˆœì„œ ë°ì´í„°&lt;/h3&gt;
&lt;p&gt;ë³´í†µ í´ë¼ì´ì–¸íŠ¸ ìš”ì²­ì´ í•˜ë‚˜ì˜ íŒ¨í‚·ìœ¼ë¡œ ì „ë‹¬ë˜ì§€ì•ŠëŠ”ë‹¤. ì—¬ëŸ¬ê°œë¡œ ë‚˜ë‰˜ì–´ì„œ ë³´ë‚´ì§€ëŠ”ë°, ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ìˆœì„œëŒ€ë¡œ ë³´ë‚´ì§€ì§€ ì•Šì„ ë•Œê°€ ë§ë‹¤. ì´ëŸ´ ë•Œ ìˆœì„œ ë°ì´í„°ë¥¼ ì´ìš©í•œë‹¤. ë°›ëŠ” ê³³(ì„œë²„)ì—ì„œ ë°ì´í„°ë¥¼ ìˆœì„œëŒ€ë¡œ ë‹¤ì‹œ ì¡°ë¦½í• ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. ê·¸ë¦¬ê³  ìˆœì„œ ë°ì´í„°ë¡œ ë¹ ì§„ ë°ì´í„°ê°€ ìˆëŠ”ì§€ë„ ì•Œìˆ˜ ìˆê¸°ë•Œë¬¸ì— ë§Œì•½ì— ëˆ„ë½ëœ ë°ì´í„°ê°€ ìˆë‹¤ë©´ ì´ë¥¼ ì´ìš©í•´ í´ë¼ì´ì–¸íŠ¸ì— ë‹¤ì‹œ ìš”ì²­í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ì‰½ê²Œ ì´ë£¨ì–´ì§„ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;í¬íŠ¸-ë²ˆí˜¸&quot;&gt;í¬íŠ¸ ë²ˆí˜¸&lt;/h3&gt;
&lt;p&gt;ëª©ì ì§€ ì»´í“¨í„°ì˜ ì–´ë–¤ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ê°€ì•¼í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ì´ë‹¤. ì†Œì¼“ì€ ì†¡ì‹ ì IP, ì†¡ì‹ ì í¬íŠ¸ë²ˆí˜¸,ìˆ˜ì‹ ì IP, ìˆ˜ì‹ ì í¬íŠ¸ë²ˆí˜¸ ë¡œ êµ¬ì„±ëœë‹¤. í¬íŠ¸ë²ˆí˜¸ê°€ ìˆì–´ì•¼ ì†Œì¼“ì— ì „ì†¡ê°€ëŠ¥í•˜ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;í™•ì¸-ì‘ë‹µ-ë°ì´í„°&quot;&gt;í™•ì¸ ì‘ë‹µ ë°ì´í„°&lt;/h3&gt;
&lt;p&gt;ìˆ˜ì‹ ì¸¡ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•˜ë‹¤ê³  ì†¡ì‹ ì¸¡ì— ë©”ì‹œì§€ë¥¼ ë³´ëƒ„ìœ¼ë¡œì¨ ì•ˆì •ì„±ì„ í™•ë³´í•œë‹¤. í™•ì¸ ì‘ë‹µë°ì´í„°ì—ëŠ” ì—ëŸ¬ ì²´í¬ ë˜í•œ í¬í•¨ëœë‹¤. ì´ê²Œ ë‹¹ì—°í•œ ê²ƒ ê°™ì§€ë§Œ, ë³´ë‚¸ â€˜ë°ì´í„°ë¥¼ ë°›ì•˜ìŒâ€™ì„ ì‘ë‹µí•´ì£¼ì§€ ì•ŠëŠ” í”„ë¡œí† ì½œ(ex. UDP)ë„ ë§ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë‹¹ì—°í•œ ê²ƒ ê°™ì•„ë„ ì•„ì£¼ íŠ¹ë³„í•œ ê¸°ëŠ¥ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ip-layer&quot;&gt;IP layer&lt;/h2&gt;
&lt;p&gt;TCP layerë¥¼ ì§€ë‚˜ IP ë ˆì´ì–´ë¡œ ì˜¤ê²Œëœë‹¤. TCPì—ì„œ ë°›ì€ ë°ì´í„°ì— ì¶œë°œì§€/ëª©ì ì§€ IPê°€ ë¶™ì—¬ì§„ë‹¤. ì¸í„°ë„· ë„¤íŠ¸ì›Œí¬ëŠ” ë³µì¡í•˜ê²Œ êµ¬ì„±ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì—¬ëŸ¬ IPë“¤ì„ ê±°ì³ì„œ ëª©ì ì§€ IPë¡œ ë„ì°©í•˜ê²Œ í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.&lt;/p&gt;

&lt;p&gt;IP layerì—ëŠ” ëª©ì ì§€ë¡œ ê°€ê¸° ìœ„í•œ ë‹¤ìŒ IPë¥¼ ì•Œìˆ˜ ìˆëŠ” &lt;strong&gt;Routing table&lt;/strong&gt;ì´ ì¡´ì¬í•œë‹¤. ì´ë¥¼ ì´ìš©í•˜ì—¬ ëª©ì ì§€ IPë¡œ ê°€ê¸° ìœ„í•œ ë‹¤ìŒ í™˜ìŠ¹ì—­ì„ ì°¾ëŠ”ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;data-link-layer&quot;&gt;Data link layer&lt;/h2&gt;
&lt;p&gt;ì´ ë¶€ë¶„ì€ ëŒ€ë¶€ë¶„ ë¬¼ë¦¬ì ì¸ ê²ƒê³¼ ê´€ë ¨ë¼ìˆë‹¤. MAC ì£¼ì†Œì™€ NICê°€ í•µì‹¬ì´ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;mac-ì£¼ì†Œ&quot;&gt;MAC ì£¼ì†Œ&lt;/h3&gt;
&lt;p&gt;ìš°ë¦¬ê°€ ì´ìš©í•˜ëŠ” ê°œë³„ ì»´í“¨í„°ëŠ” MAC ì£¼ì†Œë¼ëŠ”ê²Œ ìˆëŠ”ë° ì´ ê°’ì€ ì»´í“¨í„°ë§ˆë‹¤ ìœ ë‹ˆí¬í•˜ë‹¤. ì—¬ëŸ¬ëŒ€ì˜ ì»´í“¨í„°ëŠ” ê°™ì€ IPë¥¼ ê³µìœ í•˜ê²Œ ë˜ë¯€ë¡œ IPë§Œìœ¼ë¡œ ëª©ì ì§€ê°€ ì–´ë””ì¸ì§€ ì •í™•íˆ ì•Œìˆ˜ ì—†ë‹¤. ì€ë§ˆì•„íŒŒíŠ¸ 101ë™ì´ë¼ëŠ” ì •ë³´ë§Œìœ¼ë¡œ ì¹œêµ¬ ì§‘ì˜ ìœ„ì¹˜ë¥¼ ì•Œìˆ˜ ì—†ëŠ” ê²ƒì²˜ëŸ¼ë§ì´ë‹¤. IPê°€ â€œì€ë§ˆì•„íŒŒíŠ¸ 101ë™â€ì´ë¼ë©´ â€œ1203í˜¸â€ëŠ” MACì£¼ì†Œì´ë‹¤.&lt;/p&gt;

&lt;p&gt;MACì£¼ì†Œê°€ ë§ë¶™ì—¬ì§„ ë’¤ &lt;strong&gt;NIC&lt;/strong&gt;ë¡œ ì „ë‹¬í•œë‹¤. NICì—ì„œëŠ” ë°ì´í„°ë¥¼ ì¸í„°ë„· ë„¤íŠ¸ì›Œí¬ ì„ ì—ì„œ ì´ë™ê°€ëŠ¥í•œ bitë“¤ë¡œ ë³€í™˜í•œë‹¤. ê·¸ë¦¬ê³  ìµœì¢…ì ìœ¼ë¡œ ì¸í„°ë„·ì„ ìœ¼ë¡œ ì „ë‹¬í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;ì„œë²„ì—ì„œ-ë°ì´í„°-ë„ì°©í•œ-ë’¤&quot;&gt;ì„œë²„ì—ì„œ ë°ì´í„° ë„ì°©í•œ ë’¤&lt;/h1&gt;
&lt;p&gt;TCP/IP ìŠ¤íƒì—ì„œ ë¶™ì—¬ì§„ ì—¬ëŸ¬ê°€ì§€ ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ ëª©ì ì§€ ì„œë²„ì— ë°ì´í„°ê°€ ì˜ ë„ì°©í–ˆë‹¤. ë„ì°©í•œ ê³³ì€ ì„œë²„ì˜ NICì´ë‹¤. NICì— ë„ì°©í•˜ë©´ ì œì¼ ë¨¼ì € NIC Bufferì— ì„ì‹œë¡œ ë°ì´í„°ê°€ ì €ì¥ëœë‹¤. ê·¸ë¦¬ê³  NICì—ì„œ &lt;em&gt;Interrupt&lt;/em&gt;ë¥¼ ì¼ìœ¼ì¼œ ìš´ì˜ì²´ì œì— ìƒˆë¡œìš´ ë°ì´í„°ê°€ ì™”ìŒì„ ì•Œë¦°ë‹¤. ì´ ì•Œë¦¼ì„ ë°›ì€ TCP/IP ìŠ¤íƒì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ê°„ë‹¤. ê·¸ë¦¬ê³  TCP/IP ì‘ì—…ì„ ê±°ê¾¸ë¡œ ìˆ˜í–‰í•œë‹¤. &lt;strong&gt;í´ë¼ì´ì–¸íŠ¸ì—ì„œëŠ” ì—¬ëŸ¬ ë°ì´í„°ë“¤ì„ ë§ë¶™ì´ëŠ” ë°©ì‹ìœ¼ë¡œ TCP/IP ìŠ¤íƒì´ ì‘ë™í–ˆë‹¤ë©´, ì„œë²„ì¸¡ì—ì„œëŠ” ê·¸ ë°ì´í„°ë¥¼ ë–¼ì–´ë‚´ë©° ì‘ë™í•œë‹¤. ë–¼ì–´ë‚¸ ë°ì´í„°ë“¤ì€ ì„œë²„ í”„ë¡œê·¸ë¨ì— ë„ì°©í•˜ëŠ”ë° ì´ìš©ëœë‹¤.&lt;/strong&gt; ì—¬ëŸ¬ ì‘ì—…ì„ ë§ˆì¹œ ë’¤ TCP layerì—ì„œ portë²ˆí˜¸ê¹Œì§€ ë§ëŠ”ì§€ í™•ì¸ëë‹¤ë©´ &lt;u&gt;TCP layerì™€ ì„œë²„ í”„ë¡œê·¸ë¨ì˜ ì—°ê²°ì§€ì ì¸ Socket&lt;/u&gt;ì— ë°ì´í„°ë¥¼ ë³´ë‚¸ë‹¤. ì†Œì¼“ íŒŒì¼ì— ì €ì¥ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì†Œì¼“ì˜ êµ¬ì¡°ì²´ì¤‘ í•˜ë‚˜ì¸ &lt;strong&gt;Receive socket buffer&lt;/strong&gt;ì— ë°ì´í„°ê°€ ìŒ“ì´ê²Œ ëœë‹¤.
Receive socket bufferì— ìŒ“ì¸ ë°ì´í„°ëŠ” ì´ì œ ìš´ì˜ì²´ì œì˜ ì±…ì„ì—ì„œ ë²—ì–´ë‚¬ë‹¤. ì´ì œë¶€í„°ëŠ” Node.js ì„œë²„ê°€ í–‰ë™ì„ í•  ì°¨ë¡€ì´ë‹¤. &lt;br /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Node.js ì„œë²„ ë¿ë§Œ ì•„ë‹ˆë¼ ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë¨ì€ &lt;strong&gt;TCP layerì™€ ì„œë²„ í”„ë¡œê·¸ë¨ì˜ ì—°ê²°ì§€ì ì¸ socket&lt;/strong&gt;ì— ë°ì´í„°ê°€ ì„ì‹œë¡œ ì €ì¥ëœ ë’¤ ê°œë³„ í”„ë¡œê·¸ë¨ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì²˜ë¦¬í•œë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;ê³„ì¸µë³„ë¡œ ì •ë³´ê°€ ë§ë¶™ì—¬ì§„ ë°ì´í„°ë¥¼ ë¶€ë¥´ëŠ” ëª…ì¹­ì´ ìˆë‹¤. &lt;br /&gt;TCP -&amp;gt; ì„¸ê·¸ë¨¼íŠ¸ / IP -&amp;gt; íŒ¨í‚· / Data link -&amp;gt; í”„ë ˆì„ / NIC -&amp;gt; ë¹„íŠ¸&lt;br /&gt;
(ê´€ë ¨ëœ ê¸€ì„ ì²˜ìŒ ì½ëŠ” ì‚¬ëŒë„ ìˆì„ ê¹Œë´ ëª…ì¹­ì„ ì“°ì§€ì•Šê³  ì‘ì„±í•œ ê¸€ì´ë‹¤.)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;br /&gt;
í”„ë¡œê·¸ë¨ì´ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ì€ ë‹¤ìŒê¸€ì—ì„œ.&lt;/p&gt;
</description>
        <pubDate>Tue, 02 Jan 2024 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//before-arriving-server-server-series-1</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//before-arriving-server-server-series-1</guid>
        
        <category>node.js</category>
        
        <category>TCP/IP</category>
        
        <category>OS</category>
        
        
      </item>
    
      <item>
        <title>ë°±ì—”ë“œ ë™ì‹œì„± - 1. Postgres ê°€ì‹œì„±</title>
        <description>&lt;p&gt;ë°ì´í„°ë² ì´ìŠ¤ë‹¨ì—ì„œ ë™ì‹œì„± í™•ë³´ëŠ” ë””ë¹„ ìì²´ì ìœ¼ë¡œ í•´ì£¼ëŠ” ê²ƒê³¼ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì§ì ‘ ì½”ë“œë¡œ ì§œì•¼í•˜ëŠ” ê±¸ë¡œ ë‚˜ë‰œë‹¤. ê·¸ì¤‘ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì œê³µí•´ì£¼ëŠ” ë¶€ë¶„ì„ ì•Œì•„ë³¸ë‹¤.&lt;/p&gt;

&lt;p&gt;â€œ1. ê¸°ë³¸ì ì¸ ì ê¸ˆ(shared/exclusive lock)â€ê³¼ â€œ2. Isolation level êµ¬í˜„(MVCC)â€ ì´ ë‘ê°€ì§€ê°€ ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì´ë¯¸ ì™„ì„±ì‹œì¼œë‘” ë™ì‹œì„± ë„êµ¬ë“¤ì´ë‹¤. ì´ ë‘˜ì˜ ì¡°í•©ìœ¼ë¡œ ê¸°ë³¸ì ì¸ ë™ì‹œì„± ì œì–´ë¥¼ êµ¬ì„±í•œë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;1-ê¸°ë³¸-ì ê¸ˆ---shared-lock-exclusive-lock&quot;&gt;1. ê¸°ë³¸ ì ê¸ˆ - Shared Lock, Exclusive Lock&lt;/h2&gt;
&lt;p&gt;ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ì—ì„œëŠ” update, deleteë¬¸ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ í•´ë‹¹ rowë¥¼ ì ê¶ˆë²„ë¦°ë‹¤. ë‹¤ë¥¸ ì¿¼ë¦¬ì¤‘ì—ì„œ update, deleteë¬¸ì´ ê°™ì€ rowì— ëŒ€í•´ ì‹¤í–‰í•˜ë ¤í•œë‹¤ë©´ ì´ì „ ì¿¼ë¦¬ì˜ íŠ¸ëœì­ì…˜ì´ ëë‚ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼í•œë‹¤. INSERT, UPDATE, DELETEë¬¸ì€ íŠ¸ëœì­ì…˜ì„ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•˜ì§€ì•Šì•„ë„ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•Œì•„ì„œ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•˜ê³  ì‘ì—…ì´ ì™„ë£Œë˜ë©´ íŠ¸ëœì­ì…˜ì„ ëë‚¸ë‹¤. ë°˜ëŒ€ë¡œ ê¸°ë³¸ì ìœ¼ë¡œ ì•„ë¬´ê²ƒë„ ì„¤ì •í•˜ì§€ì•Šì€(íŠ¸ëœì­ì…˜ X, for update ì„¤ì • X) selectë¬¸ì€ íŠ¸ëœì­ì…˜ë„, Lockë„ ì´ìš©í•˜ì§€ì•ŠëŠ”ë‹¤.&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ ì“°ì´ëŠ” ì ê¸ˆì€ â€œShared Lockâ€ê³¼ â€œExclusive Lockâ€ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;Shared Lock: ë‚´ê°€ ì´ ë°ì´í„° ë³´ê³  ìˆìœ¼ë‹ˆê¹Œ ë°ì´í„° ë°”ê¾¸ì§€ë§ˆ. ë³´ê¸°ë§Œ í•´. ê·¼ë° ë„ˆë„ ê°™ì´ ì ê¸€ìˆ˜ ìˆì–´(shared lockë§Œ)&lt;br /&gt;
Exclusive Lock: ë‚´ê°€ ë°ì´í„° ìˆ˜ì •í• ê±°ë‹ˆê¹Œ ë³´ê¸°ë§Œí•˜ê³  ìˆ˜ì •í•˜ì§€ë§ˆ..&lt;/p&gt;

&lt;p&gt;ë‘ê°€ì§€ ì ê¸ˆ ëª¨ë‘ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ &lt;strong&gt;ë°ì´í„° ìˆ˜ì •ì„ ë¶ˆê°€ëŠ¥&lt;/strong&gt;í•˜ê²Œ ë§Œë“ ë‹¤. &lt;strong&gt;ë‘˜ì˜ ì°¨ì´ì ì€ ì ê¸ˆì„ ê±¸ì—ˆì„ ë•Œ ë‹¤ë¥¸ ì ê¸ˆì´ ë™ì‹œì— ì ê¸ˆì„ ê±¸ìˆ˜ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ ì—¬ë¶€ë‹¤.&lt;/strong&gt; Exclusive Lockì€ ì´ë¦„ì²˜ëŸ¼ ì–´ë– í•œ ë½ë„ ê³µì¡´í• ìˆ˜ ì—†ë‹¤. Shared Lockì€ ì´ë¦„ì²˜ëŸ¼ ê³µì¡´í• ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ ê³µì¡´í• ìˆ˜ ìˆëŠ” Lockì€ Shared Lockë¿ì´ë‹¤.
ë§Œì•½ íŠ¸ëœì­ì…˜Aì—ì„œ row1ì— Shared Lockì„ ê±´ ìƒíƒœë¼ë©´ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œë„ row1ì— Shared Lockì„ ê±¸ìˆ˜ ìˆë‹¤. Shared Lockì´ ê²¹ì³¤ì„ ë•ŒëŠ” ë§ˆì§€ë§‰ Shared Lockì„ ê±´ íŠ¸ëœì­ì…˜ì´ Lockì„ í’€ë©´ í•´ë‹¹ rowì˜ shared Lockì´ í’€ë¦°ë‹¤. Exclusive Lockì€ ë™ì‹œì— ë‹¤ë¥¸ ì ê¸ˆì„ ê±¸ìˆ˜ ì—†ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-mvcc-multi-version-concurrency-control&quot;&gt;2. MVCC (Multi Version Concurrency Control)&lt;/h2&gt;
&lt;p&gt;MVCCëŠ” ëŒ€ë¶€ë¶„ì˜ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ í†µìš©ë˜ëŠ” ê·œì¹™ì¸ â€œIsolation Levelâ€ì„ êµ¬í˜„í•œ ê²ƒì´ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;mvccì˜-ë…¼ë¦¬ì -ê¸°ë°˜&quot;&gt;MVCCì˜ ë…¼ë¦¬ì  ê¸°ë°˜&lt;/h3&gt;
&lt;p&gt;MVCCëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ ê¸°ë³¸ ì €ì¥ë°©ì‹ì¸ &lt;strong&gt;COMMIT&lt;/strong&gt;ì„ ì´ìš©í•œë‹¤. ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë°ì´í„°ë¥¼ ì €ì¥, ìˆ˜ì •í•  ë•Œ 1ì°¨ë¡œ ë©”ëª¨ë¦¬ì— ì €ì¥í•œë’¤ì— íŠ¸ëœì ì…˜ì´ COMMITë˜ë©´ DISKì— ì €ì¥í•œë‹¤. (ë§¤ì»¤ë‹ˆì¦˜ì— ë”°ë¼ ì—¬ëŸ¬ ì»¤ë°‹ì´ ë­‰ì³ì„œ diskì— ì €ì¥ë˜ê¸°ë„ í•œë‹¤.)
ì»¤ë°‹í•œ ë°ì´í„°ë§Œ ì½ì–´ë“¤ì¼ê±´ì§€, ì»¤ë°‹í•˜ì§€ì•Šì•˜ì§€ë§Œ ë©”ëª¨ë¦¬ì— ì €ì¥ëœ ë°ì´í„°ë„ ì½ì–´ë“¤ì¼ê±´ì§€ì— ë”°ë¼ Isolation Levelì´ ë‚˜ë‰œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Read Committed&lt;/strong&gt;ëŠ” ì»¤ë°‹ëœ ë°ì´í„°ë§Œ ì½ëŠ”ë‹¤.&lt;br /&gt;
&lt;strong&gt;Repeatable Read&lt;/strong&gt;ëŠ” ì»¤ë°‹ë˜ì§€ ì•Šì€ ë°ì´í„°ë„ ì½ëŠ”ë‹¤. í•˜ì§€ë§Œ íŠ¸ëœì­ì…˜ì´ ì‹œì‘ëœ ì‹œì ì—ë„ ì¡´ì¬í–ˆë˜ ë°ì´í„°ë§Œ ì½ëŠ”ë‹¤.&lt;/p&gt;

&lt;p&gt;ë” ìì„¸íˆ ì•Œì•„ë³´ì.&lt;/p&gt;

&lt;h3 id=&quot;mvccì˜-ë¬¼ë¦¬ì -ê¸°ë°˜&quot;&gt;MVCCì˜ ë¬¼ë¦¬ì  ê¸°ë°˜&lt;/h3&gt;
&lt;p&gt;Postgres MVCCëŠ” Hint bit, commit log, snapshot, xmin, xmax ë°ì´í„°ë¥¼ ì´ìš©í•˜ì—¬ ìœ íš¨í•œ ë°ì´í„°ë¥¼ íŒë‹¨í•œë‹¤.&lt;/p&gt;

&lt;h5 id=&quot;xmin-xmax&quot;&gt;xmin, xmax&lt;/h5&gt;
&lt;p&gt;ë¨¼ì € xmin, xmaxë¶€í„° ì•Œì•¼ì•„í•œë‹¤.(hint bitì—ì„œë„ ì“°ì´ê³  snapshotì—ì„œë„ ì“°ì´ê¸° ë•Œë¬¸ì—) xmin, xmaxëŠ” ëª¨ë“  rowê°€ ê°€ì§€ê³  ìˆëŠ” ì»¬ëŸ¼ì´ë‹¤. ì¼ë°˜ ì»¬ëŸ¼ì´ ì•„ë‹ˆê³  ì‹œìŠ¤í…œ ì»¬ëŸ¼ì´ë¼ì„œ ëª…ì‹œì ìœ¼ë¡œ ê²€ìƒ‰í•˜ì§€ì•ŠëŠ” ì´ìƒ ê¸°ë³¸ì ìœ¼ë¡œëŠ” ë³´ì´ì§€ì•ŠëŠ”ë‹¤. &lt;br /&gt;
INSERTë¬¸ì´ ì‹¤í–‰ë˜ë©´ì„œ rowê°€ ìƒì„±ë  ë•Œ í•´ë‹¹ íŠ¸ëœì­ì…˜ì˜ IDë¥¼ í•´ë‹¹ rowì˜ xminì— ì„¤ì •í•œë‹¤. xminëŠ” ì§ê´€ì ìœ¼ë¡œ ì´í•´ê°€ ê°€ì§€ë§Œ ë°˜ë©´ì— xmaxëŠ” ì¡°ê¸ˆ ìƒì†Œí• ìˆ˜ ìˆë‹¤. &lt;strong&gt;postgresëŠ” ê¸°ë³¸ì ìœ¼ë¡œ update ì‘ì—…ì„ í•  ë•Œ ê¸°ì¡´ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.&lt;/strong&gt; ë³€ê²½í•˜ëŠ” ëŒ€ì‹ ì— ê¸°ì¡´ ë°ì´í„°ì˜ xmaxì— í˜„ì¬ íŠ¸ëœì­ì…˜ IDë¥¼ ì„¤ì •í•œë‹¤. ê·¸ë¦¬ê³  ì—…ë°ì´ë“œëœ ë°ì´í„°ë¥¼ ê°€ì§„ ìƒˆë¡œìš´ rowë¥¼ ìƒì„±í•œë‹¤. INSERTì™€ ë§ˆì°¬ê°€ì§€ë¡œ xminì€ í˜„ì¬ íŠ¸ëœì­ì…˜ IDê°€ ì„¤ì •ëœë‹¤. DELETEëŠ” ê¸°ì¡´ rowì˜ xmaxì— í˜„ì¬ íŠ¸ëœì­ì…˜ IDë¥¼ ì„¤ì •í•˜ê³  ëì´ë‹¤. &lt;br /&gt;
ì •ë¦¬í•˜ìë©´ íŠ¹ì • rowì— xmaxê°’ì´ ì¡´ì¬í•œë‹¤ë©´ ê·¸ ê°’ì€ ê°€ì¥ ìµœì‹ ì˜ ê°’ì´ ì•„ë‹ˆë¼ê³  ìƒê°í• ìˆ˜ ìˆë‹¤. 
ì—¬ê¸°ì„œ ì§šê³  ë„˜ì–´ê°€ì•¼í•  í•˜ë‚˜ëŠ” &lt;strong&gt;xmin ê°’ì´ ìˆë‹¤ëŠ”ê²Œ ì»¤ë°‹ëë‹¤ëŠ” ì˜ë¯¸ëŠ” ì•„ë‹ˆë‹¤.&lt;/strong&gt; rowë“¤ì´ ì»¤ë°‹ë˜ê¸°ì „ì— ì„ì‹œë¡œ ì €ì¥ë˜ì–´ìˆë“¯ì´ rowë“¤ì˜ ëª¨ë“  ì»¬ëŸ¼ë“¤ë„(ì‹œìŠ¤í…œì»¬ëŸ¼ ë˜í•œ) ì„ì‹œë¡œ ì €ì¥ëœ ìƒíƒœì´ë‹¤. &lt;strong&gt;ì»¤ë°‹ ì—¬ë¶€ëŠ” ì»¤ë°‹ë¡œê·¸ì™€ hint bitì—ì„œë§Œ í™•ì‹¤ì‹œ í• ìˆ˜ ìˆë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;xmin, xmaxë¥¼ ëŒ€ëµ ì•Œì•˜ë‹¤ë©´ ë‹¤ì‹œ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ì. ì¿¼ë¦¬ë¬¸ì— ëŒ€í•´ MVCCëŠ” ì•„ë˜ì™€ ê°™ì€ ìˆœì„œë¡œ ì‘ë™í•œë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;0-selectë¬¸ì„-whereì ˆê³¼-ê°™ì´-ì‹¤í–‰&quot;&gt;0. SELECTë¬¸ì„ WHEREì ˆê³¼ ê°™ì´ ì‹¤í–‰.&lt;/h4&gt;

&lt;h4 id=&quot;1-where-ì¡°ê±´-í™•ì¸&quot;&gt;1. WHERE ì¡°ê±´ í™•ì¸&lt;/h4&gt;
&lt;p&gt;WHEREì ˆì˜ ì¡°ê±´ëŒ€ë¡œ ë°ì´í„°ë¥¼ í•„í„°ë§í•œë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;21-ì»¤ë°‹-ì—¬ë¶€-í™•ì¸---hint-bit&quot;&gt;2.1 ì»¤ë°‹ ì—¬ë¶€ í™•ì¸ - Hint bit&lt;/h3&gt;
&lt;p&gt;WHERE í•„í„°ë§ëœ rowë“¤ì˜ headerë¥¼ í™•ì¸í•˜ì—¬ hint bitë¥¼ í™•ì¸í•˜ì—¬ ì»¤ë°‹ ì—¬ë¶€ë¥¼ íŒŒì•…í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ëª¨ë“  ê°œë³„ rowë“¤ì€ ê°œë³„ http ìš”ì²­ë“¤ì´ í—¤ë”ë¥¼ ê°€ì§€ë“¯ì´ headerë¥¼ ê°€ì§€ê³  ìˆë‹¤. headerì•ˆì— hint bitê°€ ìˆëŠ”ë° ì•„ë˜ 4ê°€ì§€ë¥¼ booleanê°’ìœ¼ë¡œ ê°€ì§€ê³  ìˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;XMIN_COMMITTED -- creating transaction is known committed
XMIN_ABORTED -- creating transaction is known aborted
XMAX_COMMITTED -- same, for the deleting transaction
XMAX_ABORTED -- ditto
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ë¦„ë§Œ ë´ë„ ì•Œìˆ˜ ìˆë“¯ì´ XMIN_COMMITTEDê°€ trueì´ë©´ ì»¤ë°‹ëœ ê²ƒì„ ì˜ë¯¸í•˜ê³  XMIN_ABORTEDê°€ trueë¼ë©´ ë¡¤ë°±ëœ íŠ¸ëœì­ì…˜ì„ ì˜ë¯¸í•œë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;22-ì»¤ë°‹-ì—¬ë¶€-í™•ì¸---commit-log&quot;&gt;2.2 ì»¤ë°‹ ì—¬ë¶€ í™•ì¸ - commit log&lt;/h4&gt;
&lt;p&gt;ì‚¬ì‹¤ hint bitëŠ” commit logì˜ ìºì‹œë²„ì „ì´ë‹¤. ê·¸ë˜ì„œ hint bitë¶€í„° í™•ì¸í•˜ê³  hint bitê°€ ì—†ë‹¤ë©´ ì»¤ë°‹ ë¡œê·¸ë¥¼ í™•ì¸í•˜ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;3-snapshot&quot;&gt;3. snapshot&lt;/h4&gt;
&lt;p&gt;(ìŠ¤ëƒ…ìƒ·ì€ ë‚´ìš©ì´ ì¢€ ë§ë‹¤.)
ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬ì— ì´ìš©í•˜ëŠ” ìŠ¤ëƒ…ìƒ·ê³¼ëŠ” ì´ë¦„ë§Œ ê°™ë‹¤. í•˜ì§€ë§Œ íŠ¹ì •ì‹œì ì˜ ë°ì´í„°ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ëŠ” ê²ƒì€ ë¹„ìŠ·í•˜ë‹¤. MVCCì˜ ìŠ¤ëƒ…ìƒ·ì€ íŠ¸ëœì­ì…˜ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ â€œíŠ¹ì •ì‹œì ì— ìƒì„±â€ë˜ì–´ ë°ì´í„° ê°€ì‹œì„±ì„ íŒë‹¨í•˜ëŠ” ê³¼ì •ì„ ê±°ì¹œë‹¤. ë¨¼ì € ìŠ¤ëƒ…ìƒ·ì˜ ë‚´ìš©ë¬¼ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SerializedSnapshotData&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;TransactionId&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;// í˜„ì¬ í™œì„±í™”ë¼ìˆëŠ” íŠ¸ëœì­ì…˜ ì¤‘ ê°€ì¥ ì‘ì€ íŠ¸ëœì­ì…˜ ID&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;TransactionId&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;     &lt;span class=&quot;c1&quot;&gt;// í˜„ì¬ í™œì„±í™”ë¼ìˆëŠ” íŠ¸ëœì­ì…˜ ì¤‘ ê°€ì¥ í° íŠ¸ëœì­ì…˜ ID&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;uint32&lt;/span&gt;		&lt;span class=&quot;n&quot;&gt;xcnt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;int32&lt;/span&gt;		&lt;span class=&quot;n&quot;&gt;subxcnt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;bool&lt;/span&gt;		&lt;span class=&quot;n&quot;&gt;suboverflowed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;bool&lt;/span&gt;		&lt;span class=&quot;n&quot;&gt;takenDuringRecovery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;CommandId&lt;/span&gt;	&lt;span class=&quot;n&quot;&gt;curcid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;TimestampTz&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whenTaken&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;XLogRecPtr&lt;/span&gt;	&lt;span class=&quot;n&quot;&gt;lsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SerializedSnapshotData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// https://github.com/postgres/postgres/blob/06c418e163e913966e17cb2d3fb1c5f8a8d58308/src/backend/utils/time/snapmgr.c&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ì—ì„œ ì´ì•¼ê¸°í•œ xmin, xmaxë¥¼ ê°€ì§€ê³  ìˆë‹¤. ìœ„ ë‹¨ê³„ì—ì„œ í•„í„°ë§ëœ rowë“¤ì€ ëª¨ë‘ xmin, xmax ì»¬ëŸ¼ì„ ê°€ì§€ê³  ìˆëŠ”ë°(ì–´ë– í•œ ëª¨ë“  ë°ì´í„°ë“¤ë„ ê°€ì§€ê³  ìˆë‹¤.) ì´ ì»¬ëŸ¼ë“¤ê³¼ ìŠ¤ëƒ…ìƒ·ì˜ xmin, xmaxë¥¼ ë¹„êµí•˜ì—¬ ì–´ë–¤ rowë¥¼ ë³´ì—¬ì¤„ì§€ ì •í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ìŠ¤ëƒ…ìƒ·ì„ ì–¸ì œ ë§Œë“œëŠ”ì§€ì— ì°¨ì´ë¥¼ ë‘¬ Reqd Committed, Repeatable Readë¥¼ ë‚˜ëˆ  êµ¬í˜„í•œë‹¤. (MVCCëŠ” ë°ì´í„°ë² ì´ìŠ¤ Isolationì„ êµ¬í˜„í•œ ê²ƒì´ë‹ˆê¹Œ)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;â€œSnapshotì˜ xmin, xmax ë¹„êµâ€ + â€œìŠ¤ëƒ…ìƒ·ì„ ë§Œë“œëŠ” ì‹œì ì˜ ì°¨ì´â€&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;Repeatable Read&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Repeatable Read ë ˆë²¨ì—ì„œì˜ ìŠ¤ëƒ…ìƒ· ìƒì„± ì‹œê¸°ëŠ” íŠ¸ëœì­ì…˜ ë§ˆë‹¤ ë‹¨ í•œë²ˆì´ë‹¤. íŠ¸ëœì­ì…˜ì´ ì‹œì‘í•  ë•Œ ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•˜ê³  í•œ íŠ¸ëœì­ì…˜ ì•ˆì— ìˆëŠ” ëª¨ë“  ì¿¼ë¦¬ê°€ ê°™ì€ ìŠ¤ëƒ…ìƒ·ì„ ì´ìš©í•˜ê²Œ ëœë‹¤. ìŠ¤ëƒ…ìƒ·ì— ì¡´ì¬í•˜ëŠ” xminê°’ì€ ìŠ¤ëƒ…ìƒ· ìƒì„±ì‹œê¸°ì— í™œì„±í™”ë˜ì–´ ìˆë˜ ëª¨ë“  íŠ¸ëœì­ì…˜ ì¤‘ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ê³  ìˆë–¤ ê°’ì´ë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ìŠ¤ëƒ…ìƒ·ì˜ xidë³´ë‹¤ í° ê°’ì˜ xidë¥¼ ê°€ì§€ê³  ìˆëŠ” rowëŠ” ì•„ì§ ì»¤ë°‹ë˜ì§€ì•Šì€ ê²ƒìœ¼ë¡œ ê°„ì£¼ëœë‹¤. ê·¸ë¦¬í•˜ì—¬ ê²°ê³¼ì— í¬í•¨ë˜ì§€ì•ŠëŠ”ë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ì œì¼ í•µì‹¬ìœ¼ë¡œëŠ” Repeatable ReadëŠ” í•œ íŠ¸ëœì­ì…˜ë‚´ì—ì„œëŠ” ê°™ì€ ê²°ê³¼ë¥¼ ë³´ì—¬ì¤˜ì•¼í•˜ê¸°ë•Œë¬¸ì— ìµœì €í™œì„± íŠ¸ëœì­ì…˜ IDë³´ë‹¤ ì´í›„ì— ìƒì„±/ìˆ˜ì •ëœ ë°ì´í„°ëŠ” ë³´ì—¬ì£¼ì§€ ì•ŠëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•œë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Read Committed&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Read CommittedëŠ” ìŠ¤ëƒ…ìƒ·ì„ ì´ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ìƒê°í•´ë„ ëœë‹¤. &lt;strong&gt;ê°œë³„ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë˜ëŠ” ì‹œì ì— ì»¤ë°‹ëœ ë°ì´í„°ì¸ì§€ ì•„ë‹Œì§€ë§Œ íŒë‹¨í•˜ë©´ ë˜ê¸°ë•Œë¬¸ì´ë‹¤.&lt;/strong&gt; ê°™ì€ íŠ¸ëœì­ì…˜ì•ˆì˜ ë‘ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ë•Œ ì²« ë²ˆì§¸ ì¿¼ë¦¬ê°€ ì‹¤í–‰ëœ í›„ì— ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì—ì„œ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë§Œë“¤ê³  ì»¤ë°‹í•˜ë©´ ì²«ë²ˆì§¸ ì¿¼ë¦¬ì—ì„œëŠ” ì•ˆë³´ì´ë˜ ë°ì´í„°ê°€ ë‘ë²ˆì§¸ ì¿¼ë¦¬ì—ì„œëŠ” ë³´ì´ê²Œëœë‹¤.(ê°™ì€ ì¡°ê±´ì˜ ì¿¼ë¦¬ë“¤ì´ ê°™ì€ íŠ¸ëœì­ì…˜ì•ˆì—ì„œ ë‹¤ë¥¸ ê°’ì„ ë³´ì—¬ì¤„ìˆ˜ ìˆë‹¤.) Read CommittedëŠ” ì»¤ë°‹ë¡œê·¸ì™€ Hint bitë§Œìœ¼ë¡œë„ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Serializable&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Serialzableì˜ ìŠ¤ëƒ…ìƒ· ì´ìš©ë°©ì‹ì€ Repeatable Readì™€ ê±°ì˜ ë˜‘ê°™ë‹¤. íŠ¸ëœì­ì‹ ì´ ì‹œì‘í–ˆì„ ë•Œë§Œ ìŠ¤ëƒ…ìƒ·ì„ ìƒì„±í•˜ê³  í•´ë‹¹ íŠ¸ëœì­ì…˜ë™ì•ˆ ê·¸ ìŠ¤ëƒ…ìƒ·ì„ ì´ìš©í•œë‹¤.(Repeatable Readì™€ ê°™ì´ ìŠ¤ëƒ…ìƒ· ì´ì „ì— ì»¤ë°‹ëœ ë°ì´í„°ë§Œ ë³´ì¸ë‹¤.) í•œê°€ì§€ ë‹¤ë¥¸ì ì€ í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ì´ ê±´ë“œë¦° ë°ì´í„°ëŠ” í•´ë‹¹ íŠ¸ëœì­ì…˜ì´ ëë‚˜ê¸°ì „ê¹Œì§€ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì´ ëª»ê±´ë“œë¦¬ê²Œ í•œë‹¤. ê±´ë“œë¦¬ë©´ ëŠ¦ê²Œ ê±´ë“œë¦° ëª…ë ¹ì€ ë¡¤ë°±ëœë‹¤. (SSIë¥¼ ì°¾ì•„ë³´ë©´ ì¢‹ë‹¤.)&lt;/p&gt;

&lt;h4 id=&quot;4-ì™„ì „-ë§ˆì§€ë§‰-ë‹¨ê³„ê°€-í•˜ë‚˜-ìˆë‹¤&quot;&gt;4. ì™„ì „ ë§ˆì§€ë§‰ ë‹¨ê³„ê°€ í•˜ë‚˜ ìˆë‹¤.&lt;/h4&gt;
&lt;p&gt;ìœ„ ë‹¨ê³„ë¥¼ ê±°ì¹˜ë©´ì„œ í•„í„°ë§ëœ ë°ì´í„°ë“¤ì´ ë‚¨ê²Œ ëœë‹¤. ê·¸ ë°ì´í„°ì¤‘ì—ì„œëŠ” ì—¬ëŸ¬ê°œì˜ rowê°€ ì‚¬ì‹¤ì€ í•˜ë‚˜ì˜ ë°ì´í„°ì¼ë•Œê°€ ìˆë‹¤.(postgresì—ì„œëŠ” Update/Deleteì‹œ ê¸°ì¡´ ë°ì´í„°ë¥¼ ì§€ìš°ëŠ”ê²Œ ì•„ë‹ˆë¼ xmaxì— transaction idë¥¼ ì„¤ì •í•˜ë‹ˆê¹) ê·¸ëŸ´ ë•Œ í•˜ë‚˜ì˜ ê°’ë§Œì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ xmaxê°’ì´ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ëŠ” ë³´ì´ì§€ì•Šê³  xminë§Œ ì„¤ì •ë¼ ìˆëŠ” ë°ì´í„°ë¥¼ ë³´ì—¬ì£¼ê²Œ ëœë‹¤.&lt;/p&gt;
</description>
        <pubDate>Sat, 02 Dec 2023 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//mvcc</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//mvcc</guid>
        
        <category>ë°±ì—”ë“œ</category>
        
        <category>ë°ì´í„°ë² ì´ìŠ¤</category>
        
        <category>Hit Bits</category>
        
        <category>database</category>
        
        <category>MVCC</category>
        
        
      </item>
    
      <item>
        <title>Socket.io ë¬´ì¤‘ë‹¨ ë°°í¬</title>
        <description>&lt;p&gt;ì±„íŒ… ì„œë²„ ë¬´ì¤‘ë‹¨ ë°°í¬ ë°©ì‹ì„ ì •ë¦¬í•˜ê³  ê°€ì.&lt;/p&gt;

&lt;p&gt;BlueGreen, Canaryê³¼ ê°™ì€ ë°°í¬ ë°©ì‹ì— ê´€ë ¨ëœ ê¸€ì´ë¼ê¸°ë³´ë‹¤ëŠ” ë¬´ì¤‘ë‹¨ ë°°í¬ì— ìˆì–´ ì±„íŒ… ì„œë²„ì˜ ì–´ë–¤ ì ë“¤ì„ ìœ ì˜í•´ì•¼í•˜ëŠ”ì§€ì— ëŒ€í•œ ê¸€ì´ê² ë‹¤. (Socket.ioë¥¼ ê¸°ì¤€ìœ¼ë¡œ)&lt;/p&gt;

&lt;p&gt;Socket ë°°í¬ì— ìˆì–´ì„œ ì¤‘ìš”í•œ ê±´ â€œclient-serverê°„ì˜ ê´€ë ¨ ë°ì´í„° ê´€ë¦¬â€, â€œclient-server connection ê´€ë¦¬â€ì´ ë‘ê°€ì§€ê°€ ë˜ê² ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;socketio-ê´€ë ¨-ë°ì´í„°-ê´€ë¦¬&quot;&gt;socket.io ê´€ë ¨ ë°ì´í„° ê´€ë¦¬.&lt;/h2&gt;
&lt;p&gt;socket.ioì—ì„œëŠ” ì‹¤ì‹œê°„ í†µì‹ ì„ ìœ„í•´ í•„ìš”í•œ ë°ì´í„°ë“¤ì´ ëª‡ê°€ì§€ ìˆë‹¤. ë³´í†µ sessionì´ë¼ê³  í•œë‹¤.&lt;/p&gt;

&lt;p&gt;SocketId: ê¸°ë³¸ì ìœ¼ë¡œ í´ë¼-ì„œë²„ê°€ ì—°ê²°ëì„ ë•Œ ë§Œë“¤ì–´ì§„ë‹¤.
Namespaces: ì†Œì¼“ì—ì„œ êµ¬íšì„ ë‚˜ëˆ ì„œ ì´ìš©í• ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ì¤€ì´ë‹¤. ë³´í†µ ê¸°ëŠ¥ì— ë”°ë¼ ë‚˜ëˆˆë‹¤. (e.g. normal-chat, group-chat)
Rooms: namespaceì•ˆì—ì„œ í•œë²ˆ ë” êµ¬ë¶„ë˜ëŠ” ë‹¨ìœ„ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. (e.g. normal-chat(namespace)ì¤‘ì—ì„œ 1ë²ˆ room)
Event Handler: íŠ¹ì • ì´ë²¤íŠ¸ì— ëŒ€í•œ í–‰ë™&lt;/p&gt;

&lt;p&gt;socket.ioì—ì„œëŠ” sessionë“¤ì„ &lt;strong&gt;adapter&lt;/strong&gt;ë¼ëŠ” ë„êµ¬ë¡œ ê´€ë¦¬í•œë‹¤. í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ socket.ioê°€ ì‘ë™í•œë‹¤ë©´ ê¸°ë³¸ì ìœ¼ë¡œ memory adapterë¡œ ê´€ë¦¬ëœë‹¤. ì¸ìŠ¤í„´ìŠ¤ ê°œìˆ˜ê°€ ë‘ê°œê°€ ë ë•Œë¶€í„°ëŠ” ë°ì´í„° ë™ê¸°í™”ë¥¼ ìœ„í•´ ì™¸ë¶€ ì €ì¥ì¥ì¹˜ë¡œ adapterë¥¼ ì„¤ì •í•´ì•¼í•œë‹¤. redis, dbë“± ì—¬ëŸ¬ê°€ì§€ê°€ ìˆê³  redisê°€ ì£¼ë¡œ ë§ì´ ì“°ì¸ë‹¤. 
socketId, namespaceë“±ì´ adapterë¥¼ í†µí•´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”ë˜ì–´ ë°ì´í„°ë¥¼ ëª©ì ì§€ clientë“¤ì—ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆê²Œëœë‹¤.
ì‹¤ì‹œê°„ ë™ê¸°í™”ë˜ëŠ” ë°ì´í„°ì €ì¥ì†Œê°€ ìˆê¸°ë•Œë¬¸ì— ì—…ë°ì´íŠ¸ì‹œì—ë„ ê¸°ì¡´ ìƒíƒœ ë°ì´í„°ê°€ ì˜ ë³´ê´€ë ìˆ˜ ìˆê²Œ ëœë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;connection-ê´€ë¦¬&quot;&gt;Connection ê´€ë¦¬.&lt;/h2&gt;
&lt;p&gt;Socket.ioë¡œ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ëŠ” socketIdë¥¼ ë°›ê²Œ ëœë‹¤. ì„œë²„ìª½ì—ì„œëŠ” socketIdë¥¼ adapterì— ì €ì¥í•´ë‘ì–´ ì»¤ë‚µì…˜ ì •ë³´ë¥¼ ê´€ë¦¬í•œë‹¤. socket.io ì„œë²„ëŠ” ì•„ë˜ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë“¤ì„ ì €ì¥í•œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nx&quot;&gt;sids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SocketId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Room&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì†Œì¼“IDì™€ room ë§¤ì¹­ ë°ì´í„°&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ì˜ˆì‹œ&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;sids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;socketId1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;roomId1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;roomId2&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;socketId2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;roomId2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;roomId3&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nl&quot;&gt;rooms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Room&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SocketId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// roomê³¼ ì†Œì¼“ID ë§¤ì¹­ ë°ì´í„°&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ì˜ˆì‹œ&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;rooms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nl&quot;&gt;roomId1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;socketId1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;socketId2&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë¬´ì¤‘ë‹¨ ë°°í¬ê°€ ì‹œì‘ë˜ê³  í•œ ì¸ìŠ¤í„´ìŠ¤ê°€ ì—…ë°ì´íŠ¸ ëœë‹¤ë©´ í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë“¤ì€ socket ì—°ê²°ì´ ëŠê¸´ë‹¤. ê·¸ëŸ°ë° Socket.io ìì²´ì—ëŠ” ìë™ ì¬ì—°ê²° ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ìˆë‹¤. ì—°ê²°ì´ ëŠê¸´ë‹¤ë©´ ë°”ë¡œ ì¬ì—°ê²°ì„ ì‹œë„í•˜ê³  ì¬ì—°ê²°ì´ ì™„ë£Œë˜ë©´ ìƒˆë¡œìš´ socketIdë¥¼ ë°›ê²Œ ëœë‹¤.
(ì¬ì—°ê²° ì‹œë„ í•  ë•Œ, ë¡œë“œë°¸ëŸ°ì„œì˜ ë„ì›€ìœ¼ë¡œ ì§€ê¸ˆ ì—…ë°ì´íŠ¸ì¤‘ì¸ ì¸ìŠ¤í„´ìŠ¤ê°€ ì•„ë‹ˆë¼ ì´ìš©ê°€ëŠ¥í•œ/ì‚´ì•„ìˆëŠ” ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì™€ ì—°ê²°ì´ ëœë‹¤.)&lt;/p&gt;

&lt;p&gt;ì´ë•Œ ìš°ë¦¬ê°€ ì„œë²„ìª½ì— ì¶”ê°€ì ì¸ ì‘ì—…ì„ í•˜ë‚˜ ì…‹íŒ…í•´ë‘¬ì•¼í•œë‹¤. &lt;strong&gt;â€œreconnectionâ€ ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ìœ ì €ê°€ ì´ìš©ì¤‘ì´ë˜ ì±„íŒ…ë°©ì— ë‹¤ì‹œ join() ì‹œì¼œì£¼ëŠ” ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤.&lt;/strong&gt;
ìš°ì„  ì¤‘ì•™ ì €ì¥ì†Œì— í˜„ì¬ ì ‘ì†ë˜ì–´ìˆëŠ” ì±„íŒ…ë°©-ìœ ì € ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ìˆì–´ì•¼í•œë‹¤. ì±„íŒ…ë°©1: [ìœ ì €1, ìœ ì €2, ìœ ì €3] ì´ëŸ° ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìœ ì§€í•˜ê³  ìˆë‹¤ë©´ reconnection ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ í•´ë‹¹ ìœ ì €ê°€ ì´ìš©ì¤‘ì´ë˜ roomì— ë°”ë¡œ ë‹¤ì‹œ join() ì‹œì¼œì¤„ìˆ˜ ìˆê²Œ ëœë‹¤.
ì´ë ‡ê²Œ ëœë‹¤ë©´ &lt;strong&gt;&lt;em&gt;socket ì„œë²„ì— ë‹¤ì‹œ ì—°ê²°í•˜ëŠ” ì‹œê°„ + ë‚´ê°€ ì´ìš©ì¤‘ì¸ ì±„íŒ…ë°© ì •ë³´ ê°€ì ¸ì˜¤ëŠ” ì‹œê°„ + í•´ë‹¹ ì±„íŒ…ë°©ìœ¼ë¡œ ë‹¤ì‹œ join() í•˜ëŠ” ì‹œê°„ ìœ¼ë¡œ ì¤‘ë‹¨ ì‹œê°„ì´ ë‹¨ì¶•ëœë‹¤.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

</description>
        <pubDate>Sun, 23 Jul 2023 00:00:00 -0500</pubDate>
        <link>http://0.0.0.0:4000//socketio-non-stop-deployment</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//socketio-non-stop-deployment</guid>
        
        <category>node.js</category>
        
        <category>Socket.io</category>
        
        
      </item>
    
      <item>
        <title>Nest.js ëª¨ë“ˆ êµ¬ì¡° ê´€ë¦¬ (Avoiding circular dependency)</title>
        <description>&lt;p&gt;ì–´ë–¤ ì•„í‚¤í…ì³ë¥¼ ì“°ë˜ DI(dependency injection)ëŠ” ëŒ€ë¶€ë¶„ ì´ìš©ëœë‹¤. Nest.jsì˜ ê¸°ë³¸ êµ¬ì¡°ë„ ê·¸ë ‡ë‹¤.
ê·¸ëŸ°ë° DIë¡œ ê°œë°œí•˜ë‹¤ë³´ë©´ ì˜ì¡´ì„±ì´ ê¼¬ì´ëŠ” ì¼ì´ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ëŒ€ë¶€ë¶„ì´  &lt;strong&gt;circular dependency&lt;/strong&gt;ë¡œ ë‚˜íƒ€ë‚œë‹¤.
ì´ ë•Œ &lt;em&gt;lazy loading&lt;/em&gt;ì„ ì´ìš©í•´ì„œ circular dependency ë°œìƒ ì—†ì´ ê°œë°œí• ìˆ˜ë„ ìˆì§€ë§Œ ìƒí˜¸ì˜ì¡´ì€ ìµœì•…ì˜ êµ¬ì¡°ì´ê¸° ë•Œë¬¸ì— ìµœëŒ€í•œ ë¶ˆê°€í”¼í•œ ê²½ìš°ì—ë§Œ ì¨ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ë‚´ê°€ ê´€ë¦¬í•˜ëŠ” í”„ë¡œì íŠ¸ë“¤ì—ì„œ ìƒí˜¸ ì˜ì¡´ì„ í”¼í•˜ê¸° ìœ„í•œ ê·œì¹™ë“¤ì€ ì•„ë˜ì™€ ê°™ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;1-í…Œì´ë¸”-ë§ˆë‹¤-ëª¨ë“ˆì„-ë§Œë“ ë‹¤ëŠ”-ìƒê°ë¶€í„°-ë²„ë ¤ì•¼í•œë‹¤&quot;&gt;1. í…Œì´ë¸” ë§ˆë‹¤ ëª¨ë“ˆì„ ë§Œë“ ë‹¤ëŠ” ìƒê°ë¶€í„° ë²„ë ¤ì•¼í•œë‹¤.&lt;/h2&gt;
&lt;p&gt;ë‚˜ ë˜í•œ ê°œë°œ ì´ˆê¸°ì—ëŠ” ëŒ€ë¶€ë¶„ì˜ ë°±ì—”ë“œ ê°•ì˜ê°€ CRUD ê°•ì˜ì˜€ê¸°ë•Œë¬¸ì— í…Œì´ë¸”ê³¼ ê±°ì˜ 1ëŒ€1 ë§¤ì¹­ì´ ëë‹¤. ê·¸ë ‡ê²Œ ë°°ì› ë‹¤ë³´ë‹ˆ ë‚˜ë„ ì‹¤ë¬´ì—ì„œ ê·¸ë ‡ê²Œ í•´ì™”ë‹¤. í•˜ì§€ë§Œ ì–´ëŠ ìˆœê°„ ìƒí˜¸ ì˜ì¡´í•˜ëŠ” ìƒí™©ì´ ë°œìƒí–ˆë‹¤.(ì§€ê¸ˆë„ ê½¤ ë°œìƒí•œë‹¤..) ê°€ì¥ í° ì´ìœ ëŠ” ê°œë³„ ëª¨ë“ˆì´ ë„ˆë¬´ ì»¤ì¡Œê¸° ë•Œë¬¸ì´ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì¢…ë¥˜ì—-ë”°ë¼-ë¶„ë¦¬&quot;&gt;ì¢…ë¥˜ì— ë”°ë¼ ë¶„ë¦¬&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/img/writing-images/user-module.png&quot; alt=&quot;1&quot; /&gt;
User, Order, Product ì´ 3ê°€ì§€ì˜ í…Œì´ë¸”ì„ ê°€ì§„ ì„œë¹„ìŠ¤ë¥¼ ìƒê°í•´ë³´ì. ëª¨ë“ˆì„ í…Œì´ë¸”ëŒ€ë¡œ 3ê°œë§Œ ë§Œë“¤ì–´ì„œ ì´ìš©í•œë‹¤ë©´ ì´ˆê¸°ì—ëŠ” ê´œì°®ì•˜ê² ì§€ë§Œ ì„œë¹„ìŠ¤ê°€ ì»¤ì§ˆìˆ˜ë¡ ê¸°ëŠ¥ì´ ì•„ì£¼ ë§ì•„ì§€ë©´ì„œ ê°œë³„ ëª¨ë“ˆì˜ ê¸°ëŠ¥ë“¤ ë˜í•œ ë§ì•„ì§„ë‹¤(ì±…ì„ì´ ì»¤ì§„ë‹¤).
ì˜ˆë¥¼ ë“¤ë©´, Userì˜ ì¢…ë¥˜ë„ ì²˜ìŒì—” í•œ ì¢…ë¥˜ì˜€ë‹¤. ê·¸ëŸ°ë° í•œë‹¬ë’¤ì— ë¹„ë¡œê·¸ì¸ ìœ ì €ê°€ ì£¼ë¬¸í• ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ë„ ìƒê²¨ë‚ ìˆ˜ ìˆë‹¤. í˜¹ì€ ìœ ì € ë“±ê¸‰ì— ë”°ë¼ ê¸°ëŠ¥ì´ ë¶„ë¦¬ë ìˆ˜ë„ ìˆê²Œ ëœë‹¤.(e.g. PaidUser, UnpaidUser).&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;â€œê¸°ëŠ¥ì´ ë§ë‹¤â€ ë¼ëŠ” ê±´ â€œë‹¤ë¥¸ ëª¨ë“ˆì˜ ê¸°ëŠ¥ì„ í•„ìš”í• (ì˜ì¡´í• ) í™•ë¥ ì´ ë†’ì•„ì§„ë‹¤â€ì™€ ê°™ì€ ë§ì´ë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;PaidUser, UnpaidUser, NonLoginedUser ì²˜ëŸ¼ ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ  ëª¨ë“ˆì„ ê´€ë¦¬í•œë‹¤ë©´ &lt;strong&gt;PaidUserì—ì„œë§Œ ê²°ì œ ì •ë³´ì— ëŒ€í•´ ì˜ì¡´í•˜ë©´ ëœë‹¤.&lt;/strong&gt; UnpaidUserì™€ NonLoginedUser ëª¨ë“ˆì—ì„œëŠ” ê²°ì œ ì •ë³´ë¥¼ ì˜ì¡´í•˜ì§€ ì•Šì•„ë„ ëœë‹¤. ë°˜ëŒ€ë¡œ UnpaidUserì—ì„œë§Œ í•„ìš”í•œ ëª¨ë“ˆì€ Unpaidëª¨ë“ˆì—ì„œë§Œ ì˜ì¡´í•˜ê³  ë‹¤ë¥¸ ê³³ì—ì„œëŠ” ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ë‹¤. &lt;strong&gt;ì •ë§ í•„ìš”í•œ ê¸°ëŠ¥ì—ì„œë§Œ ì˜ì¡´ì„±ì„ ì£¼ì…í•˜ê²Œ ë˜ëŠ” êµ¬ì¡°ê°€ ì„±ë¦½ëœë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;í•˜ì§€ë§Œ í•œ ë¿Œë¦¬ì—ì„œ ë‚˜ì˜¨ ëª¨ë“ˆë“¤ì´ë‹¤ë³´ë‹ˆ ê³µí†µë˜ëŠ” ê¸°ëŠ¥ë“¤ì´ ê½¤ë‚˜ ì¡´ì¬í•˜ê²Œ ëœë‹¤. ê·¸ëŸ´ ë•ŒëŠ” User ëª¨ë“ˆì„ ê³µí†µ ê¸°ëŠ¥/API ëª¨ë“ˆë¡œ ì‚¬ìš©í•œë‹¤.&lt;/strong&gt; í˜¹ì€ ì¢€ ë” ëª…ì‹œì ì´ê³  ì‹¶ë‹¤ë©´ UserCore, UserShare ëª¨ë“ˆë¡œ ì´ë¦„ ì§€ì–´ë„ ì¢‹ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;í˜¼í•©ëœ-í˜•ì‹ìœ¼ë¡œ-ë§Œë“¤ì–´-ë¶„ë¦¬&quot;&gt;í˜¼í•©ëœ í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ ë¶„ë¦¬&lt;/h3&gt;
&lt;p&gt;&lt;img src=&quot;/img/writing-images/order-and-user-module.png&quot; alt=&quot;1&quot; /&gt;
í•œë¿Œë¦¬ì—ì„œ ë‚˜ì˜¨ ëª¨ë“ˆì„ ì¢…ë¥˜ì— ë”°ë¼ ë¶„ë¦¬í•˜ëŠ” ë°©ë²•ì´ ëª¨ë“ˆ ê´€ë¦¬ì˜ ì ˆë°˜ì„ ì°¨ì§€í•œë‹¤ë©´, ë‚˜ë¨¸ì§€ ì ˆë°˜ì€ &lt;strong&gt;&lt;em&gt;í˜¼í•©ëœ í˜•ì‹&lt;/em&gt;&lt;/strong&gt;ì´ ì°¨ì§€í•œë‹¤. Userì¢…ë¥˜ë“¤ê³¼ Orderì´ í•©ì³ì§„ UserOrder, NonUserOrder ëª¨ë“ˆì²˜ëŸ¼ ë‚˜ë‰ ìˆ˜ ìˆë‹¤. &lt;u&gt;ì‡¼í•‘ëª°ì—ì„œ í”íˆ ë³¼ìˆ˜ ìˆëŠ” ë¹„íšŒì› êµ¬ë§¤ ê¸°ëŠ¥ì„ ìƒê°í•˜ë©´ ì¢‹ë‹¤.&lt;/u&gt;&lt;/p&gt;

&lt;p&gt;ë‘ê°€ì§€ ë°ì´í„°ë¥¼ í˜¼í•©í•œ ëª¨ë“ˆì„ ë§Œë“¤ë©´ ëª¨ë“ˆì˜ ê¸°ëŠ¥ì´ ë¶„ë¦¬ë˜ì„œ ê´€ë¦¬ê°€ ì‰¬ì›Œì§„ë‹¤. ë‚˜ëˆ„ì§€ ì•Šì•˜ë‹¤ë©´ Order ëª¨ë“ˆì—ì„œ ëª¨ë‘ ì±…ì„ì„ ì ¸ì•¼í•˜ë‹ˆ ë§ì´ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;2-ë°©í–¥-ë˜í•œ-ì¤‘ìš”í•˜ë‹¤&quot;&gt;2. ë°©í–¥ ë˜í•œ ì¤‘ìš”í•˜ë‹¤.&lt;/h2&gt;
&lt;p&gt;User, Orderì—ì„œ ë‘˜ì˜ ê´€ê³„ëŠ” Userê°€ Orderë¥¼ ì—¬ëŸ¬ê°œ ê°€ì§„ë‹¤. &lt;strong&gt;ì¼ëŒ€ë‹¤(ì™„ë²½íˆ ì¼ëŒ€ë‹¤ëŠ”ì•„ë‹ˆì§€ë§Œ)ì™€ ê°™ì€ ê´€ê³„ì—ì„œëŠ” â€˜ë‹¤â€™ê°€ â€˜ì¼â€™ì„ ì˜ì¡´í•˜ë„ë¡ í•´ì•¼í•œë‹¤.&lt;/strong&gt; ë…¼ë¦¬ì ìœ¼ë¡œ ëŒ€ë¶€ë¶„ì´ ê·¸ë ‡ë‹¤. Order APIë¥¼ ê°œë°œí•  ë•Œ User ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ í™•ë¥ ì´ ë†’ì§€ User APIì—ì„œ Order ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ì¼ì€ ê·¸ë¦¬ ë§ì§€ì•Šë‹¤. ìˆì„ìˆ˜ ìˆì§€ë§Œ ë¹„ìœ¨ì ìœ¼ë¡œ ë¹„êµê°€ ë¶ˆê°€í•˜ë‹¤. ê·¸ëŸ¬ë‹ˆ â€˜ë‹¤â€™ ë°©í–¥ì—ì„œ â€˜ì¼â€™ì„ ì˜ì¡´í•´ì•¼í•œë‹¤. â€˜ì¼â€™ì—ì„œ â€˜ë‹¤â€™ë¥¼ ì˜ì¡´í•˜ê²Œ ëœë‹¤ë©´ ê¸°ì¡´ êµ¬ì¡°ê°€ ë¶ˆëŸ‰í•  í™•ë¥ ì´ ë†’ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;3-1-to-1ì€-ë³´í†µ-í•˜ë‚˜ì˜-ëª¨ë“ˆì—ì„œ-ì²˜ë¦¬í•´ë„-ë˜ê¸´í•˜ëŠ”ë°&quot;&gt;3. 1 to 1ì€ ë³´í†µ í•˜ë‚˜ì˜ ëª¨ë“ˆì—ì„œ ì²˜ë¦¬í•´ë„ ë˜ê¸´í•˜ëŠ”ë°..&lt;/h2&gt;
&lt;p&gt;ì´ë¯¸ ë‹¤ë“¤ ê·¸ë ‡ê²Œ í•˜ì‹œê² ì§€ë§Œ.. User, Profileì´ ìˆë‹¤ë©´ User ëª¨ë“ˆì—ì„œ Profileì— ëŒ€í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ë©´ëœë‹¤. ê·¸ëŸ°ë° ë§Œì•½ì— Profile ê¸°ëŠ¥ì´ ê½¤ë‚˜ ë§ë‹¤ë©´ UserProfileì´ë€ í˜¼í•© ëª¨ë“ˆì„ ë§Œë“¤ë©´ ë” ê¹”ë”í•´ì§„ë‹¤.&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ ë‘˜ì˜ ì°¨ì´ì ì„ ìƒê°í•´ë³´ê³  ì§€ë‚˜ê°€ì. 
â€œ1. Orderëª¨ë“ˆì—ì„œ Receiptëª¨ë“ˆ ì²˜ë¦¬â€ vs â€œ2. ê°œë³„ ëª¨ë“ˆë¡œ ë¶„ë¦¬â€&lt;/p&gt;

&lt;p&gt;1ì˜ ì¥ì ì€ URLì´ ê¹”ë”í•´ì§„ë‹¤. 
â€œGET order/:id/receiptâ€ vs â€œGET receipt?orderId=123â€ ì´ë ‡ê²Œ ë¹„êµí•˜ë©´ ì „ìê°€ ì§ê´€ì ì´ê³  ê¹”ë”í•˜ë‹¤. ê·¸ëŸ¬ë‚˜ URLì˜ ì§ê´€ì„±ë„ ì¤‘ìš”í•˜ê¸´í•˜ì§€ë§Œ, ë°±ì—”ë“œ êµ¬ì¡°ì˜ ê¹”ë”í•¨ì´ ìš°ì„ ì„ì„ ìƒê°í•˜ë©´(ì¶”í›„ì— í™•ì¥ê°€ëŠ¥ì„±ê¹Œì§€ ìƒê°í•œë‹¤ë©´) í›„ìê°€ í›¨ì”¬ ì¢‹ì€ ì„ íƒì§€ë¼ê³  í• ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;4-ì‘ì€-ëª¨ë“ˆì„-ìœ ì§€í•´ì•¼-ë³€ê²½ì—-ìš©ì´í•˜ë‹¤&quot;&gt;4. ì‘ì€ ëª¨ë“ˆì„ ìœ ì§€í•´ì•¼ ë³€ê²½ì— ìš©ì´í•˜ë‹¤.&lt;/h2&gt;
&lt;p&gt;ìœ„ ë‹¤ë¥¸ ì´ìœ ë“¤ë„ ì¤‘ìš”í•˜ì§€ë§Œ ëª¨ë“  ê²ƒì´ ê³„íšëŒ€ë¡œ ë˜ì§€ë§Œì€ ì•ŠëŠ”ë‹¤. ë°”ì˜ë‹¤ë³´ë©´ ì‹¤ìˆ˜í•˜ê³  ì•ˆë°”ë¹ ë„ ì‹¤ìˆ˜í•œë‹¤. ê·¸ëŸ¬ë ¤ë©´ ë³€ê²½ì´ ì‰¬ì›Œì•¼í•˜ëŠ”ë° í° ëª¨ë“ˆë“¤ë¡œ êµ¬ì¡°ê°€ ìœ ì§€ëœë‹¤ë©´ êµ¬ì¡°ë¥¼ ì˜ëª»ì§°ì„ ë•Œ ë³€ê²½í•˜ê¸°ê°€ ì‰½ì§€ì•Šë‹¤. ì—¬ëŸ¬ ëª¨ë“ˆë¡œ ë‚˜ë‰œ ìƒíƒœë¼ë©´ ê° ëª¨ë“ˆë§ˆë‹¤ ê¸°ëŠ¥ì´ ì ì„í…Œë‹ˆ ì˜ì¡´ì„±ì´ ê¼¬ì˜€ì„ ë•Œ ìƒˆë¡œìš´ ëª¨ë“ˆë¡œ ì´ì „í•˜ê¸°ê°€ ì‰¬ì›Œì§„ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;5-ì—¬ëŸ¬êµ°ë°ì„œ-ì“°ì´ëŠ”-ê¸°ëŠ¥ì€-share-ëª¨ë“ˆë¡œ&quot;&gt;5. ì—¬ëŸ¬êµ°ë°ì„œ ì“°ì´ëŠ” ê¸°ëŠ¥ì€ Share ëª¨ë“ˆë¡œ.&lt;/h2&gt;
&lt;p&gt;ì—¬ëŸ¬ ì½”ë“œë² ì´ìŠ¤ì—ì„œ Shared, Common ê°™ì€ í´ë”ë¥¼ ë´¤ì„ ê²ƒì´ë‹¤. ì´ ëª¨ë“ˆë“¤ì€ ìµœëŒ€í•œ ë‹¤ë¥¸ ëª¨ë“ˆì„ ì˜ì¡´í•˜ì§€ì•Šì€ ìƒíƒœë¡œ ìœ ì§€ëœë‹¤. ê·¸ë¦¬ê³  ëª¨ë“  ë‹¤ë¥¸ ëª¨ë“ˆë“¤ì´ ì´ ëª¨ë“ˆì„ ì˜ì¡´í•˜ëŠ” í˜•íƒœë¡œ ê´€ë¦¬ëœë‹¤. í•œêµ°ë° ëª¨ë“ˆì—ì„œë§Œ ì“°ì´ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ë©´ ë°”ë¡œ ì´ëŸ° ê³µí†µ ëª¨ë“ˆì— ë°•ì•„ë‘ë©´ Circular dependencyê°€ ë°œìƒí•  í™•ë¥ ì´ ì¤„ì–´ë“ ë‹¤.&lt;/p&gt;
</description>
        <pubDate>Fri, 30 Jun 2023 00:00:00 -0500</pubDate>
        <link>http://0.0.0.0:4000//dependnecy-manage-on-nestjs</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//dependnecy-manage-on-nestjs</guid>
        
        <category>nest.js</category>
        
        <category>circular dependency</category>
        
        <category>module</category>
        
        
      </item>
    
      <item>
        <title>Join ì•Œê³ ë¦¬ì¦˜ ëŒ€í‘œì  3ê°€ì§€ íŠ¹ì§•/ìµœì í™”</title>
        <description>&lt;h4 id=&quot;ì‹œë¦¬ì¦ˆ-ëª©ì°¨&quot;&gt;ì‹œë¦¬ì¦ˆ ëª©ì°¨&lt;/h4&gt;
&lt;p&gt;&lt;a href=&quot;https://moonqqqq.github.io/join-algorithms-1&quot;&gt;1. Join ì•Œê³ ë¦¬ì¦˜ì˜ ì¢…ë¥˜&lt;/a&gt; &lt;br /&gt;
&lt;u&gt;(í˜„ì¬ê¸€) 2. Join ì•Œê³ ë¦¬ì¦˜ ìµœì í™”&lt;/u&gt; &lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;3ê°€ì§€-ì¡°ì¸-ë¹„êµ&quot;&gt;3ê°€ì§€ ì¡°ì¸ ë¹„êµ&lt;/h1&gt;

&lt;p&gt;3ê°€ì§€ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì´ ì–´ë–¤ ìƒí™©ì— ì„ íƒë˜ëŠ”ì§€(ìœ ë¦¬í•œì§€) ì•Œì•„ë³´ì.
ì¼ë‹¨ì€ ì‹œê°„ë³µì¡ë„ë¶€í„° ë”°ì ¸ë³´ë©´. Nested Loopì€ O(N*M), Hashì™€ Sort-MergeëŠ” O(N+M)ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì€ &lt;strong&gt;WHEREë¬¸ìœ¼ë¡œ í•„í„°ë§ëœ ë°ì´í„°ì˜ ê°¯ìˆ˜&lt;/strong&gt;ì— ë”°ë¼ ì²«ë²ˆì§¸ë¡œ ê°ˆë¦°ë‹¤.
WHEREë¬¸ìœ¼ë¡œ í•„í„°ë§ì´ ë§ì´ë¼ì„œ Joiní•  ë°ì´í„°ê°€ ì ë‹¤ë©´ Nested Loop ì¡°ì¸ì„ ì´ìš©í•œë‹¤. WHEREë¬¸ìœ¼ë¡œ í•„í„°ë§ëœ ë’¤ì—ë„ ë°ì´í„°ê°€ ë§ì´ ë‚¨ì•„ìˆë‹¤ë©´ Hash ì¡°ì¸ê³¼ Merge ì¡°ì¸ì„ ì´ìš©í•œë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;nested-loop&quot;&gt;Nested loop&lt;/h2&gt;

&lt;p&gt;Nested Loop Joinì€ ë³´í†µ WHEREë¬¸ìœ¼ë¡œ í•„í„°ë§ëœ ë°ì´í„°ê°€ ì ì„ ë•Œ ì´ìš©ëœë‹¤. ì´ìœ ëŠ” ë‹¨ìˆœí•˜ë‹¤. &lt;strong&gt;Nested Loopì€ íŠ¹ë³„í•œ ì´ˆê¸° í”„ë¡œì„¸ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.&lt;/strong&gt; Hash ì¡°ì¸ì€ &lt;strong&gt;Hash í…Œì´ë¸”ì„ ë§Œë“¤ì–´ì•¼í•˜ê³ &lt;/strong&gt;, Merge ì¡°ì¸ì€ ì¡°ì¸í•˜ëŠ” í…Œì´ë¸”ë“¤ì„ Join í‚¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ &lt;strong&gt;ì •ë ¬&lt;/strong&gt;í•´ì•¼í•œë‹¤. Nested Loopì€ ì•„ë¬´ê²ƒë„ ì—†ë‹¤. ê·¸ëƒ¥ í•˜ë‚˜í•˜ë‚˜ ë¹„êµí•˜ëŠ”ê²Œ ëì´ë‹¤.
ì‹œê°„ë³µì¡ë„ê°€ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ë³´ë‹¤ ë†’ìŒì—ë„ ë¶ˆêµ¬í•˜ê³ (O(N*M)) ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ê³¼ ë‹¤ë¥´ê²Œ ì´ˆê¸° ì‘ì—…ì´ ì—†ê¸°ë•Œë¬¸ì— ê°€ë³ê²Œ ì§„í–‰ë ìˆ˜ ìˆë‹¤.
&lt;strong&gt;ë‹¤ë§Œ ë°ì´í„°ê°€ ë§ì•„ì§€ë©´ ì‹œê°„ë³µì¡ë„ì˜ ì„±ëŠ¥ ì €í•˜ê°€ ê¸°ì´ˆì‘ì—…ì— í•„ìš”í•œ ì„±ëŠ¥ ì €í•˜ë³´ë‹¤ ì»¤ì§€ê²Œëœë‹¤.&lt;/strong&gt; ê·¸ë ‡ê²Œ ë˜ë©´ ë‹¤ë¥¸ ì¡°ì¸ ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•˜ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;hash-vs-sort-merge&quot;&gt;Hash vs Sort Merge&lt;/h2&gt;
&lt;p&gt;ì´ì œ Hash ì¡°ì¸ê³¼ Sort Merge ì¡°ì¸ ì¤‘ ì–´ë–¤ ì•Œê³ ë¦¬ì¦˜ì´ ì„ íƒë˜ëŠ”ì§€ì— ëŒ€í•´ ì•Œì•„ë³´ì. ì•„ë˜ 4ê°€ì§€ë¥¼ í•µì‹¬ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì˜µí‹°ë§ˆì´ì €ê°€ ì–´ë–¤ê²Œ ì¢‹ì€ ì¿¼ë¦¬ ì„±ëŠ¥ì„ ë‚¼ì§€ íŒë‹¨í•˜ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;1-ì¸ë±ìŠ¤&quot;&gt;1. ì¸ë±ìŠ¤&lt;/h3&gt;
&lt;p&gt;ì–‘ìª½ í…Œì´ë¸”ì´ Joiní•˜ëŠ” í•„ë“œì— ì¸ë±ìŠ¤ê°€ ì„¤ì •ë¼ìˆë‹¤ë©´ Sort Merge Joinì´ ìœ ë¦¬í•˜ë‹¤. ì´ë¦„ë¶€í„° ì •ë ¬ì´ ë¶™ì–´ìˆëŠ”ê²ƒë§Œë´ë„ ì•Œìˆ˜ ìˆë“¯ì´ ì–‘ìª½í…Œì´ë¸”ì„ ì •ë ¬í•˜ëŠ” ê²ƒì´ Sort Merge Joinì˜ ì‹œì‘ì´ë‹¤. ê·¸ëŸ°ë° &lt;strong&gt;ì •ë ¬ì„ ì§„í–‰í•  ì¡°ì¸í‚¤ì— ì´ë¯¸ ì¸ë±ìŠ¤ê°€ ì„¤ì •ë˜ì–´ìˆë‹¤ë©´ ì´ë¯¸ ì •ë ¬ì´ ë¼ìˆëŠ” ê²ƒì´ê¸°ë•Œë¬¸ì— ì •ë ¬ ê³¼ì •ì´ ìƒëµëœë‹¤.&lt;/strong&gt; ì •ë ¬ ì‘ì—…ì´ ì œì¼ í° ë¦¬ì†ŒìŠ¤ë¥¼ ì†Œëª¨í•˜ëŠ” ë‹¨ê³„ì˜€ê¸°ë•Œë¬¸ì— Hash Joinë³´ë‹¤ í° ì„±ëŠ¥ì„ ë‚¼ìˆ˜ ìˆê²Œ ëœë‹¤.
ë‘˜ë‹¤ O(N+M)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì¡ŒëŠ”ë° Sort Merge Joinì€ ê¸°ì´ˆì‘ì—…(ì •ë ¬)ì´ ì‚¬ë¼ì§„ ë°˜ë©´ Hash Joinì€ ì—¬ì „íˆ ê¸°ì´ˆ ì‘ì—…(í•´ì‹œ í…Œì´ë¸”ì„ ë§Œë“œëŠ” ì‘ì—…)ì´ í•„ìš”í•˜ë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ì„±ëŠ¥ìƒ ìš°ìœ„ì— ìˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;2-ë°ì´í„°-ë¶„í¬&quot;&gt;2. ë°ì´í„° ë¶„í¬&lt;/h3&gt;
&lt;p&gt;í…Œì´ë¸”ë¼ë¦¬ ì¡°ì¸ë  ë•Œ ëª¨ë‘ one-to-oneìœ¼ë¡œ í•˜ë‚˜ì”© ë§¤ì¹­ë¼ì„œ ì¡°ì¸ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ManyToOne, ManyToManyì™€ ê°™ì´ ëª‡ëª‡ ì¸ê¸°ìˆëŠ” í–‰ì—ë§Œ ì—¬ëŸ¬ ì¡°ì¸ì´ ìƒê¸¸ë•Œê°€ ë§ë‹¤. (í•™ìƒê³¼ ê°•ì˜ í…Œì´ë¸”ì´ ìˆë‹¤ê³  í•˜ë©´ íŠ¹ì • ì¸ê¸° ê°•ì˜ë¥¼ ì¡°ì¸í•˜ëŠ” í•™ìƒ ë°ì´í„°ê°€ í›¨ì”¬ ë§ë‹¤.) ì´ëŸ¬í•œ ìƒí™©ì— í•´ì‹œí…Œì´ë¸”ì„ ë§Œë“¤ê²Œ ë˜ë©´ ê°™ì€ í•´ì‹œ í…Œì´ë¸” í‚¤ì— ì—¬ëŸ¬ ë°ì´í„°ê°€ ë“¤ì–´ê°€ë²„ë¦°ë‹¤.(í•´ì‹œí…Œì´ë¸”ì˜ ê°’ì€ ì¼ë°˜ì ìœ¼ë¡œ ë°”êµ¬ë‹ˆ(bucket) í˜•íƒœì´ë‹¤. ì—¬ëŸ¬ê°œì˜ ê°’ì´ ë“¤ì–´ê°ˆìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸.) í•´ì‹œí…Œì´ë¸”ì—ì„œëŠ” keyì— ëŒ€í•´ ê°’ì´ ë„ˆë¬´ ì—¬ëŸ¬ê°œê°€ ë¼ë²„ë¦¬ë©´ í•´ì‹œí‚¤ë¡œ ê°’ì„ ì°¾ì€ ë’¤ì—ë„ ê·¸ ê°’ë“¤ì—ì„œ ë˜ Join key ë¹„êµë¥¼ í•´ì•¼í•œë‹¤. ì´ë ‡ë“¯ í•´ì‹œì¶©ëŒì´ ë§ì´ ë°œìƒí•´ë²„ë¦¬ë©´ í•´ì‹œ í…Œì´ë¸”ì„ ë§Œë“¤ì–´ keyë¡œ ë¹ ë¥´ê²Œ valueë¥¼ ì°¾ìœ¼ë ¤ëŠ” ì˜ë¯¸ê°€ ì‚¬ë¼ì ¸ë²„ë¦°ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;3-ì–‘ìª½-í…Œì´ë¸”ì˜-ë°ì´í„°-ì–‘&quot;&gt;3. ì–‘ìª½ í…Œì´ë¸”ì˜ ë°ì´í„° ì–‘&lt;/h3&gt;
&lt;p&gt;Hash Joinì€ ì–‘ìª½ í…Œì´ë¸” ì¤‘ í¬ê¸°ê°€ ì‘ì€ ê²ƒì„ ì´ìš©í•´ í•´ì‹œí…Œì´ë¸”ì„ ë§Œë“œëŠ”ë° í¬ê¸°ê°€ ë‘˜ ë‹¤ í¬ë‹¤ë©´ ë©”ëª¨ë¦¬ ì´ìš©ìœ¨ì´ ë§ì•„ì ¸ ì¢‹ì§€ ì•Šë‹¤. ê·¸ë¦¬ê³  í•´ì‹œ ë°ì´í„°ê°€ ë§ì•„ì§ˆìˆ˜ë¡ í•´ì‹œì¶©ëŒí•  í™•ë¥ ì´ ì»¤ì§€ë¯€ë¡œ ì„±ëŠ¥ì´ ì €í•˜ëœë‹¤. ì–‘ìª½ í…Œì´ë¸”ì˜ í¬ê¸°ê°€ í¬ë‹¤ë©´ ë©”ëª¨ë¦¬ ì‚¬ìš©ìœ¨ì´ ì ì€ Sort Merge Joinì´ ìœ ë¦¬í•˜ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;4-ì´ìš©ê°€ëŠ¥í•œ-ë©”ëª¨ë¦¬&quot;&gt;4. ì´ìš©ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬&lt;/h3&gt;
&lt;p&gt;ìœ„ì—ì„œ ê³„ì†í•´ì„œ Hash Joinì€ ë©”ëª¨ë¦¬ì— í•´ì‹œí…Œì´ë¸”ì„ ë§Œë“ ë‹¤ê³  í–ˆë‹¤. ê·¸ëŸ¬ë‹ˆ ë‹¹ì—°í•˜ê²Œë„ Sort Merge Joinë³´ë‹¤ ë©”ëª¨ë¦¬ ì´ìš©ì´ ì»¤ì§€ë‹ˆ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•œ í™˜ê²½ì—ì„œëŠ” ë¶ˆë¦¬í•˜ë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;5-join-keyì˜-í¬ê¸°-ë³µì¡ì„±&quot;&gt;5. Join keyì˜ í¬ê¸°, ë³µì¡ì„±&lt;/h3&gt;
&lt;p&gt;Joinì— ì´ìš©ë˜ëŠ” Keyê°€ ë„ˆë¬´ ê¸¸ê±°ë‚˜ ë³µì¡í•˜ë©´ ë¹„êµ ì‘ì—…ì— ì‹œê°„ì´ ë” ê±¸ë¦´ ìˆ˜ ìˆë‹¤. ì •ë ¬ ë˜í•œ ë¹„êµì‘ì—…ì´ê¸° ë•Œë¬¸ì— Sort Merge Joinì—ëŠ” ì·¨ì•½í•˜ë‹¤. ë°˜ë©´ì— HashëŠ” keyì˜ ë³µì¡ì„±ì— ê·¸ë¦¬ í° ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë¦¬ê³  í•´ì‹œí•¨ìˆ˜ì˜ ê²°ê³¼ê°’ì€ ì¸í’‹ì˜ ë³µì¡ì„±,ê¸¸ì´ì— ì•„ë¬´ ìƒê´€ì—†ì´ ê³ ì •ëœ ê¸¸ì´ë¡œ ë³€í™˜í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ ë³µì¡í•œ Join keyë¥¼ ê°€ì§€ê³  ë¹„êµí•˜ëŠ” ê³¼ì •ì´ ëœí•œ Hash joinì´ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜ì— ë¹„í•´ ìœ ë¦¬í•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ 5ê°€ì§€ +aë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì˜µí‹°ë§ˆì´ì €ê°€ ë¬´ì—‡ì´ ì¢‹ì„ì§€ íŒë‹¨í•´ì„œ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.&lt;/p&gt;
</description>
        <pubDate>Fri, 06 Jan 2023 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//join-algorithms-2</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//join-algorithms-2</guid>
        
        <category>database</category>
        
        <category>join</category>
        
        
      </item>
    
      <item>
        <title>Join ì•Œê³ ë¦¬ì¦˜ ëŒ€í‘œì  3ê°€ì§€</title>
        <description>&lt;h4 id=&quot;ì‹œë¦¬ì¦ˆ-ëª©ì°¨&quot;&gt;ì‹œë¦¬ì¦ˆ ëª©ì°¨&lt;/h4&gt;
&lt;p&gt;&lt;u&gt;(í˜„ì¬ê¸€) 1. Join ì•Œê³ ë¦¬ì¦˜ì˜ ì¢…ë¥˜&lt;/u&gt; &lt;br /&gt;
&lt;a href=&quot;https://moonqqqq.github.io/join-algorithms-1&quot;&gt;2. Join ì•Œê³ ë¦¬ì¦˜ ìµœì í™”&lt;/a&gt; &lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;&lt;br /&gt;
Joinì„ í¬í•¨í•œ ì¿¼ë¦¬ê°€ ì‹¤í–‰ë  ë•Œ ë°ì´í„°ë² ì´ìŠ¤ í”„ë¡œì„¸ì„œëŠ” ì§€ê¸ˆ ë””ë¹„ ìƒí™©ì— ë§ëŠ” join ì•Œê³ ë¦¬ì¦˜ì„ ì„ íƒí•´ì•¼ í•œë‹¤. ëŒ€í‘œì ì¸ 3ê°€ì§€ë¥¼ ì•Œì•„ë³´ì.&lt;/p&gt;

&lt;h1 id=&quot;nested-loop-join&quot;&gt;Nested Loop Join&lt;/h1&gt;
&lt;p&gt;ì´ë¦„ ê·¸ëŒ€ë¡œ ì¤‘ì²© loop ë°©ì‹ìœ¼ë¡œ ì¡°ê±´ì— ë§ëŠ” ë°ì´í„°ë¥¼ ì°¾ëŠ”ë‹¤. ì¤‘ì²© forë¬¸ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.
ì²«ë²ˆì§¸ í…Œì´ë¸”ì—ì„œ ë°ì´í„°ë¥¼ í•˜ë‚˜ ì„ íƒí•˜ê³  ë‘ë²ˆì§¸ í…Œì´ë¸”ì„ ì„ íšŒí•˜ë©´ì„œ ë‘˜ì˜ ì¡°ì¸í‚¤ë¥¼ í™•ì¸í•˜ë©° ì¡°ê±´ì´ ë§ëŠ”ì§€ í™•ì¸í•œë‹¤.
Userì™€ School í…Œì´ë¸”ì´ ìˆê³  ì„œë¡œê°€ userIdë¡œ ì¡°ì¸ëœ ìƒíƒœë¼ë©´ ì•„ë˜ ì²˜ëŸ¼ ì‘ë™í•œë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì²«ë²ˆì§¸ Loop&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;school&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;schools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë‘ë²ˆì§¸ Loop&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;schoolId&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;school&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ë‘ í…Œì´ë¸”ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™”ìœ¼ë‹ˆ ì¡°ì¸ ì¡°ê±´ í™•ì¸.&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;pushToResultArray&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;school&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// ì¡°ê±´ì´ ë§ë‹¤ë©´ ê²°ê³¼ì— ì¶”ê°€.&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ì´ë ‡ê²Œ í•˜ë©´ ë³µì¡ë„ê°€ nì œê³±ì´ë¼ì„œ ì„±ëŠ¥ìƒ ì¢‹ì§€ì•Šì€ê±°ëƒê³  í• ìˆ˜ ìˆë‹¤. ë§ë‹¤. ê·¸ë˜ì„œ ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ê²€ìƒ‰í• ë•ŒëŠ” ì„±ëŠ¥ì´ ì¢‹ì§€ì•Šë‹¤.
ê·¸ëŸ°ë° ëŒ€ë¶€ë¶„ì˜ ì¿¼ë¦¬ì—ëŠ” &lt;strong&gt;whereì ˆ&lt;/strong&gt;ì´ ìˆê¸°ë•Œë¬¸ì— ìµœëŒ€í•œ loopì— ëŒì•„ê°€ëŠ” ë²”ìœ„ë¥¼ ì¤„ì´ê²Œ ëœë‹¤. whereë¡œ ë°ì´í„° ë²”ìœ„ë¥¼ ì¤„ì¼ìˆ˜ ì—†ë‹¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ê°€ ì•Œì•„ì„œ ë‹¤ë¥¸ join ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•œë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;hash-join&quot;&gt;Hash Join&lt;/h1&gt;
&lt;p&gt;Hash Joinì€ ë‘ í…Œì´ë¸”ì´ ì¡°ì¸í•˜ëŠ” íŠ¹ì • ê°’ì„ ì´ìš©í•œë‹¤. ë‘˜ì´ ê°™ì€ ê°’ì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì—(user, schoolì´ë¼ë©´ userê°€ schoolIdë¥¼ ê°€ì§€ë¯€ë¡œ ê°™ì€ ê°’ì„ ê°€ì§.) &lt;strong&gt;ê°™ì€ í•´ì‹œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ ê°™ì€ ì‘ë‹µê°’ì´ ë‚˜ì˜¤ëŠ” ê±¸ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ë¨¼ì € í•´ì‹œ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤. ì¡°ì¸ëœ ë‘ í…Œì´ë¸” ì¤‘ ì‚¬ì´ì¦ˆê°€ ì‘ì€ í…Œì´ë¸”ì„ ì°¾ëŠ”ë‹¤. ê·¸ë¦¬ê³  ì‘ì€ ì‚¬ì´ì¦ˆì˜ í…Œì´ë¸”ë¡œ í•´ì‹œí…Œì´ë¸”ì„ ë§Œë“ ë‹¤. &lt;strong&gt;í•´ì‹œ í…Œì´ë¸”&lt;/strong&gt;ì˜ í‚¤ëŠ” ì¡°ì¸ì— ì´ìš©ë˜ëŠ” ê°’ì„ í•´ì‹œ í•¨ìˆ˜ ì‹¤í–‰ì‹œì¼œ ì–»ì€ ê°’ì´ë‹¤. &lt;strong&gt;í•´ì‹œ í…Œì´ë¸”ì˜ ê°’&lt;/strong&gt;ì€ í•´ë‹¹ ì—´ì´ë‹¤. í•´ë‹¹ ì—´ì˜ ì¼ë¶€ë¶„ì´ ë ìˆ˜ë„ ìˆê³  ì „ë¶€ê°€ ë ìˆ˜ë„ ìˆë‹¤. í˜¹ì€ í•´ë‹¹ ì—´ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œê°’ì¼ìˆ˜ë„ ìˆë‹¤.(ë©”ëª¨ë¦¬ ì£¼ì†Œë¡œ ê°’ì„ ì €ì¥í•˜ë©´ ì¶”í›„ì— ë©”ëª¨ë¦¬ ì£¼ì†Œë¡œ ë‹¤ì‹œ ì ‘ê·¼í•˜ì—¬ ë°ì´í„°ë¥¼ ì–»ì–´ì•¼í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.)&lt;/p&gt;

&lt;p&gt;ë°ì´í„°ê°€ ì•„ë˜ì™€ ê°™ë‹¤ë©´&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/writing-images/usertable.png&quot; alt=&quot;1&quot; /&gt;
&lt;img src=&quot;/img/writing-images/schooltable.png&quot; alt=&quot;2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ë¨¼ì € Schoolí…Œì´ë¸”ì´ ì‚¬ì´ì¦ˆê°€ ë” ì‘ê¸°ë•Œë¬¸ì— School í…Œì´ë¸”ì„ ì´ìš©í•˜ì—¬ í•´ì‹œ í…Œì´ë¸”ì„ ë§Œë“ ë‹¤. Userì™€ School í…Œì´ë¸”ì€ schoolIdë¡œ ì„œë¡œ ì¡°ì¸í•˜ê³  ìˆê¸° ë•Œë¬¸ì— School.idë¥¼ í•´ì‹œí•¨ìˆ˜ ì‹¤í–‰ì‹œì¼œ í‚¤ ê°’ì„ ì„¤ì •í•œë‹¤. ê·¸ë¦¬ê³  í•´ì‹œ í…Œì´ë¸”ì˜ ê°’ìœ¼ë¡œëŠ” í•´ë‹¹ ì—´ ë°ì´í„°ì˜ ì¼ë¶€ë¥¼ ì €ì¥í•œë‹¤. ì˜ˆì‹œì—ì„œëŠ” school ë°ì´í„°ì˜ IDë¥¼ ì €ì¥í•œë‹¤.&lt;/p&gt;

&lt;p&gt;â€˜aaa1â€™ì€ 1ì„ í•´ì‹œí•¨ìˆ˜ ëŒë¦° ê°’, â€˜aaa2â€™ëŠ” 2ë¥¼ í•´ì‹œí•¨ìˆ˜ ëŒë¦°ê°’ì´ë¼ê³  ìƒê°í•˜ì.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/writing-images/hashtable.png&quot; alt=&quot;2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì´ì œ ë‚˜ë¨¸ì§€ í…Œì´ë¸”(í¬ê¸°ê°€ ì¢€ë” í° í…Œì´ë¸”: User)&lt;/strong&gt;ì—ì„œ ì‘ì—…ì„ ì‹œì‘í•œë‹¤. User í…Œì´ë¸”ì„ ìˆœíšŒí•˜ì—¬ Schoolê³¼ì˜ ì¡°ì¸ì„ ë‚˜íƒ€ë‚´ëŠ” ê°’ì„ í•´ì‹œ í•¨ìˆ˜ ì‹¤í–‰ì‹œí‚¨ë‹¤. í•´ì‹œ í•¨ìˆ˜ ì‹¤í–‰ ê²°ê³¼ ê°’ì„ í•´ì‹œ í…Œì´ë¸”ê³¼ ë§¤ì¹­í•´ì„œ ê°™ì€ ê°’ì´ ìˆìœ¼ë©´ í•´ë‹¹ í…Œì´ë¸”ê³¼ ê²°í•©ì‹œí‚¨ë‹¤. ê·¸ë¦¬ê³  ê²°ê³¼ ëª©ë¡ì— ì¶”ê°€í•œë‹¤. User í…Œì´ë¸”ì—ì„œ ìˆœíšŒë¥¼ ë§ˆì¹˜ë©´ ê²°ê³¼ ëª©ë¡ì´ ì™„ì„±ëœë‹¤.&lt;/p&gt;

&lt;p&gt;ëŒ€ëµ ì½”ë“œë¡œ í‘œí˜„í•˜ë©´ ì´ë ‡ë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-ts highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;rouge-gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;rouge-code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;smallerTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findSmallerTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Schools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;biggerTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Users&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;smallerTable&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Schools&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Users&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;hashTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;createHashTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;smallerTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;eachRow&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;biggerTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;joinedTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findMatchingDataFromOtherTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hashFunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eachRow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;joinKey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pushToJoinResult&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;joinedTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;eachRwo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;merge-join&quot;&gt;Merge Join&lt;/h1&gt;

&lt;p&gt;Merge ì¡°ì¸ì€ ì¡°ì¸ë˜ëŠ” ë‘ í…Œì´ë¸”ì„ ê°ì ì¡°ì¸í‚¤ ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ì‹œí‚¨ë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;USERS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;scholl_Id&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;kim&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;lee&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;choi&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lim&lt;/td&gt;
      &lt;td&gt;6&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;SCHOOLS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;seoul&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;busan&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lala&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;
ìœ„ ê°’ìœ¼ë¡œ Merge ì¡°ì¸ì„ í•œë‹¤ë©´&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ê°œë³„ í…Œì´ë¸”ì´ ê³µìœ í•˜ëŠ” ì¡°ì¸í‚¤ë¡œ ì •ë ¬ëœë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì•„ë˜ë¥¼ ë³´ë©´ USERSê°€ school_idë¡œ ì •ë ¬ëœ ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;USERS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;school_id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;id&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;lee&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;choi&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;kim&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;lim&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;SCHOLLS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;seoul&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;busan&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lala&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;(School idë¡œ ì •ë ¬ëœ ë‘ í…Œì´ë¸”)&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì´ì œ ë‘ í…Œì´ë¸”ì„ ë§¨ìœ„ ë¶€í„° ë¹„êµí•˜ë©° ì¡°ì¸ í‚¤ê°’ì´ ê°™ì€ ë°ì´í„°ë“¤ì„ ì°¾ëŠ”ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&quot;ì²«ë²ˆì§¸-ë¹„êµ&quot;&gt;ì²«ë²ˆì§¸ ë¹„êµ&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;USERS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;school_id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;lee&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;choi&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;kim&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;lim&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;SCHOLLS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;seoul&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;busan&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lala&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ê°™ì€ í‚¤ë¡œ ì •ë ¬ëœ ìƒíƒœì´ë¯€ë¡œ ë°”ë¡œë°”ë¡œ ê°™ì€ ì¡°ì¸í‚¤ ê°’ì„ ê°€ì§„ ë°ì´í„°ë“¤ì„ ì°¾ì„ìˆ˜ ìˆë‹¤. 
ê°™ì€ í¬ì¸í„° ìœ„ì¹˜ì˜ ë°ì´í„°ë¼ë¦¬ ì¡°ì¸í‚¤ë¥¼ ë¹„êµí•œë‹¤. &lt;strong&gt;ê°’ì´ ê°™ë‹¤ë©´ ë‘˜ì˜ ë°ì´í„°ë¥¼ ë³‘í•©í•˜ì—¬ ê²°ê³¼ ë°ì´í„°ì— ì¶”ê°€í•œë‹¤.
ê·¸ë¦¬ê³  ë‘ í…Œì´ë¸” ëª¨ë‘ í¬ì¸í„°ë¥¼ ë‹¤ìŒë²ˆ ë°ì´í„°ë¡œ ì˜®ê¸´ë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h4 id=&quot;ë‘ë²ˆì§¸-ë¹„êµ&quot;&gt;ë‘ë²ˆì§¸ ë¹„êµ&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;USERS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;school_id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;lee&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;choi&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;kim&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;lim&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;SCHOLLS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;seoul&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;busan&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lala&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ë‘ë²ˆì§¸ ë¹„êµì—ì„œë„ ë°”ë¡œ í¬ì¸í„°ì— ìˆëŠ” ë°ì´í„°ë“¤ì´ ì¡°ì¸í‚¤ê°€ ê°™ë‹¤. ê²°ê³¼ ëª©ë¡ì— ë³‘í•©í•˜ì—¬ ì¶”ê°€í•œë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ì„¸ë²ˆì§¸-ë¹„êµ&quot;&gt;ì„¸ë²ˆì§¸ ë¹„êµ&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;USERS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;school_id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;lee&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;choi&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;kim&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;lim&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;SCHOLLS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;seoul&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;busan&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lala&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì„¸ë²ˆì§¸ì— ì™€ì„œì•¼ í¬ì¸í„°ì—ìˆëŠ” ê°’ë“¤ì´ ì¡°ì¸í‚¤ê°€ ë§ì§€ì•Šë‹¤. ì´ëŸ´ ë•ŒëŠ” ì¡°ì¸í‚¤ë¥¼ ë¹„êµí•˜ì—¬ ì‘ì€ ê°’ì„ ê°€ì§„ìª½ì—ì„œ í¬ì¸í„°ë¥¼ ë‹¤ìŒìœ¼ë¡œ ì˜®ê¸´ë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;ë„¤ë²ˆì§¸-ë¹„êµ&quot;&gt;ë„¤ë²ˆì§¸ ë¹„êµ&lt;/h4&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;USERS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;school_id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;lee&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;choi&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;kim&lt;/td&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;lim&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;SCHOLLS&lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Â &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;id&lt;/th&gt;
      &lt;th&gt;name&lt;/th&gt;
      &lt;th&gt;pointer&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;seoul&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;busan&lt;/td&gt;
      &lt;td&gt;Â &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;lala&lt;/td&gt;
      &lt;td&gt;O&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ì´ë²ˆì—ë„ í¬ì¸í„°ë“¤ì˜ ì¡°ì¸ê°’ì„ ë¹„êµí•´ë´¤ì§€ë§Œ ê°™ì§€ ì•Šë‹¤. ê·¸ëŸ°ë° ì´ë²ˆì—ëŠ” ì¡°ì¸ê°’ì´ ì‘ì€ ìª½ì—ì„œ ë”ì´ìƒ ë‹¤ìŒ ê°’ìœ¼ë¡œ ì˜®ê¸¸ìˆ˜ê°€ ì—†ë‹¤. ì´ëŸ¬ë©´ ë”ì´ìƒ ë§¤ì¹­í•  ë°ì´í„°ê°€ ì—†ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— íƒìƒ‰ ê³¼ì •ì´ ëë‚œë‹¤. ê·¸ë¦¬ê³  ë³‘í•©ëœ ë°ì´í„°ë¥¼ ë¦¬í„´í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë•Œ Join ë°©ì‹ì— ë”°ë¼(inner, left, right, full etc..) ë§¤ì¹­ë˜ì§€ì•Šì€ ë°ì´í„°ë“¤ì— ëŒ€í•´ nullì„ í•œìª½ í…Œì´ë¸” ë°ì´í„°ëŠ” nullì„ ì„¤ì •í•´ì„œ ê²°ê³¼ê°’ì— ì¶”ê°€í• ì§€ ë‘ í…Œì´ë¸” ë°ì´í„° ëª¨ë‘ ë³´ì—¬ì£¼ì§€ì•Šì„ì§€ ê²°ì •í•˜ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;ë‹¤ìŒ ê¸€ì—ì„œëŠ” ì´ 3ê°€ì§€ ì•Œê³ ë¦¬ì¦˜ì˜ ìµœì í™”ì— ëŒ€í•´ ì•Œì•„ë³´ì.&lt;/p&gt;
</description>
        <pubDate>Tue, 03 Jan 2023 00:00:00 -0600</pubDate>
        <link>http://0.0.0.0:4000//join-algorithms-1</link>
        <guid isPermaLink="true">http://0.0.0.0:4000//join-algorithms-1</guid>
        
        <category>database</category>
        
        <category>join</category>
        
        
      </item>
    
  </channel>
</rss>